REACHUS={DASHBOARD:1,BUILDER:2,LIVE:3};REACHUS.getInstance=function(A){switch(A){case 1:return new ReachUsDashboard();break;case 2:return new ReachUsBuilder();break;case 3:return new ReachUsLive();break}};function ReachUsDashboard(){ReachUsSupport.call(this);var A=this;A.isEditSupport=false;A.userName=ZCGlobal.scopeName;A.emailId=ZCGlobal.loginEmail;A.csrfParamName=ZCGlobal.csrfTokenName;A.csrfToken=ZCGlobal.csrfToken;A.alertMsg=function(B){iAlert(B)};A.successMsg=function(B){showToast(B)};A.initFeedbackSupport()}function ReachUsBuilder(){ReachUsSupport.call(this);var A=this;A.isEditSupport=true;A.userName=ZCGlobal.scopeName;A.emailId=ZCGlobal.loginEmail;A.csrfParamName=ZCGlobal.csrfTokenName;A.csrfToken=ZCGlobal.csrfToken;A.editSupportURL=location.origin+"/appbuilder/"+ZCGlobal.scopeName+"/"+ZCGlobal.appLinkName+"/appEditSupportBuilder";A.alertMsg=function(B){iAlert(B)};A.successMsg=function(B){showToast(B)};A.initFeedbackSupport()}function ReachUsLive(){ReachUsSupport.call(this);var A=this;A.isEditSupport=true;A.userName=ZCGlobal.scopeName;A.emailId=ZCGlobal.loginEmail;A.csrfParamName=ZCGlobal.csrfTokenName;A.csrfToken=ZCGlobal.csrfToken;A.editSupportURL=location.origin+"/"+ZCGlobal.scopeName+"/"+ZCGlobal.appLinkName+"/appEditSupportLive";A.alertMsg=function(B){$.alert({msg:B})};A.successMsg=function(B){$.successMsg(B,1000)};A.initFeedbackSupport()}function ReachUsSupport(){var A=this;this.editPermCall=false;this.initFeedbackSupport=function(){A.bindFeedbackSupport()};this.switchMainTab=function(B){$(B).siblings(".selected").removeClass("selected");$(B).addClass("selected")};this.closeContent=function(){if(typeof (ZCGlobal.appDirectionMeta)!="undefined"&&ZCGlobal.appDirectionMeta.isRTL){$("#reachUs").animate({opacity:1,left:"-=715"},750)}else{$("#reachUs").animate({opacity:1,right:"-=715"},750)}};this.showContent=function(){$("#reachUs").animate({opacity:1,right:"0"},750,function(){$(".zls-small").removeClass("flt-left");$(".help-slider").hide()});$("#reachUs").show()};this.editAccessShowMenu=function(){var B={};B.appId=ZCGlobal.applicationId;B.zccpn=ZCGlobal.csrfToken;B.editSupportAction="check";A.supportAjaxCall(B,function(){},function(){$("#zc-reachus-editaccess-revoke").removeClass("hide").addClass("show");$("#zc-reachus-editaccess-enable").removeClass("show").addClass("hide")},function(){$("#zc-reachus-editaccess-enable").removeClass("hide").addClass("show");$("#zc-reachus-editaccess-revoke").removeClass("show").addClass("hide");A.editPermCall=true})};this.openFeedbackSupport=function(){var B={formType:"feedback",sendTo:"support+c5@zohocreator.com",submitURL:"/fcomponents/sendfeedback.do",attachmentURL:"/fcomponents/fileaction.do",appearance:"inline",appendTo:"#feedBackMenu",onScreengrabberOpen:function(){$("#reachUs").hide()},onScreengrabberClose:function(){$("#reachUs").show()},onScreengrabberDone:function(){$("#reachUs").show()},customData:{zccpn:ZCGlobal.csrfToken}};ZFeedback.open(B)};this.supportAjaxCall=function(D,C,E,B){$.ajax({url:A.editSupportURL,type:"POST",data:D,beforeSend:function(){if(C){C()}},success:function(F){if(F=="true"){E()}else{B()}}})};this.bindFeedbackSupport=function(){$("#zc-reachus-live-support").off("click").on("click",function(){A.showContent();if($("#zc-more-help").hasClass("selected")){$("#zc_helpPanel-close").trigger("click")}A.switchMainTab($("#zc-reachus-feedback-tab"));$("#zc-reachus-chat").removeClass("show").addClass("hide");$("#zc-reachus-edit-access").removeClass("show").addClass("hide");$("#zc-reachus-feedback").removeClass("hide").addClass("show");A.openFeedbackSupport();$("#ui-zfeedback-send").hide();if(!A.isEditSupport){$("#zc-enable-appedit").remove();$("#zc-reachus-editaccess-tab").remove()}else{A.editAccessShowMenu();$("#feedBackMenu").addClass("zc-c5-feedback-support-builder")}});$("#zc-help-livechat").off("click").on("click",function(){$(".zls-small").removeClass("flt-left");$(".help-slider").hide();$zoho.salesiq.floatwindow.visible("show")});$("#zc-reachus-live-chat").off("click").on("click",function(){$("#zc_helpPanel-close").trigger("click");ZCLiveChat.load()});if(ZCGlobal.zcChatEnabled||ZCGlobal.zcPreSalesEnabled||ZCGlobal.zcUpgradeChatEnabled){$("#zcChat").off("click").on("click",function(){ZCLiveChat.load()})}$("#zc-reachus-feedback-tab").off("click").on("click",function(){A.switchMainTab(this);$("#zc-reachus-feedback").removeClass("hide").addClass("show");$("#zc-reachus-chat").removeClass("show").addClass("hide");$("#zc-reachus-edit-access").removeClass("show").addClass("hide")});$("#zc-reachus-chat-tab").off("click").on("click",function(){A.switchMainTab(this);$("#zc-reachus-feedback").removeClass("show").addClass("hide");$("#zc-reachus-chat").removeClass("hide").addClass("show");$("#zc-reachus-edit-access").removeClass("show").addClass("hide")});$("#zc-reachus-editaccess-tab").off("click").on("click",function(){A.switchMainTab(this);$("#zc-reachus-feedback").removeClass("show").addClass("hide");$("#zc-reachus-chat").removeClass("show").addClass("hide");$("#zc-reachus-edit-access").removeClass("hide").addClass("show")});$("#reachUsExit").bind("click",function(B){ZFeedback.close();A.closeContent()});$("#feedbackSupportSubmit").bind("click",function(){var D=$("#editSupportPerm").is(":checked");if(D){var C={};C.appId=ZCGlobal.applicationId;C.zccpn=ZCGlobal.csrfToken;C.editSupportAction="enable";var B=location.protocol+"//"+ZCGlobal.oldliveserver+"/"+ZCGlobal.scopeName+"/"+ZCGlobal.appLinkName+"/edit";ZFeedback.send({customHeaders:{"Edit Link":B},beforesend:function(){if(A.editPermCall){A.supportAjaxCall(C,function(){$("#feedbackSupportSubmit").addClass("reachus-creating")},function(){},function(){A.alertMsg(i18n["zc.general.erralert1msg"])})}else{$("#feedbackSupportSubmit").addClass("reachus-creating")}},send:function(){ZFeedback.close();$("#feedbackSupportSubmit").removeClass("reachus-creating");A.closeContent();A.successMsg(i18n["zc.reachus.successMsg"])},fail:function(){A.alertMsg(i18n["zc.general.erralert1msg"]);$("#feedbackSupportSubmit").removeClass("reachus-creating")}})}else{ZFeedback.send({beforesend:function(){$("#feedbackSupportSubmit").addClass("reachus-creating")},send:function(){ZFeedback.close();$("#feedbackSupportSubmit").removeClass("reachus-creating");A.closeContent();A.successMsg(i18n["zc.reachus.successMsg"])},fail:function(){$("#feedbackSupportSubmit").removeClass("reachus-creating");A.alertMsg(i18n["zc.general.erralert1msg"])}})}});$("#zc-reachus-editaccess-enable-button").off("click").on("click",function(){var B={};B.appId=ZCGlobal.applicationId;B.zccpn=ZCGlobal.csrfToken;B.editSupportAction="enable";A.supportAjaxCall(B,function(){},function(){A.editAccessShowMenu()},function(){A.alertMsg(i18n["zc.general.erralert1msg"])})});$("#zc-reachus-editaccess-revoke-button").off("click").on("click",function(){var B={};B.appId=ZCGlobal.applicationId;B.zccpn=ZCGlobal.csrfToken;B.editSupportAction="revoke";A.supportAjaxCall(B,function(){},function(){A.editAccessShowMenu()},function(){A.alertMsg(i18n["zc.general.erralert1msg"])})});$("#reachUsStartChat").off("click").on("click",function(){A.closeContent();var B={userName:A.userName,emailId:A.emailId,question:$("#reachusChatDescription").val()};ZCLiveChat.start(B)})}};