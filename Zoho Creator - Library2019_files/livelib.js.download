var ErrorCode=new function(){this.MANDATORY=1;this.INVALIDEMAIL=2;this.MAXLENGTHEXCEED=3;this.INVALIDNUMBER=4;this.ROUNDOFF=5;this.MISSINGARG=6;this.INVAILDARG=7};function MandatoryException(B,A){this.name="MandatoryException";this.message=B;this.stack=(new Error()).stack;this.code=ErrorCode.MANDATORY;this.$ele=$(A);this.handle=function(){if(this.$ele.siblings(".error").length==0){this.$ele.css("box-shadow","0px 0px 10px #FA0000");this.$ele.after('<span class="error"></span>').text(this.message)}}}MandatoryException.prototype=new Error();MandatoryException.prototype.constructor=MandatoryException;function InputChoiceMandatoryException(B,A){MandatoryException.call(this,B,A.getTarget()[0]);this.handle=function(){if(this.$ele.siblings(".error").length==0){$(A.getTarget()[0]).parents(".form-field").css("box-shadow","0px 0px 10px #FA0000");$(A.getTarget()[0]).parents(".form-field").append('<span class="error"></span>').text(this.message)}}}InputChoiceMandatoryException.prototype=new Error();InputChoiceMandatoryException.prototype.constructor=InputChoiceMandatoryException;function URLMandatoryException(B,A){MandatoryException.call(this,B,A.getTarget()[0]);this.handle=function(){if(this.$ele.siblings(".error").length==0){this.$ele.css("box-shadow","0px 0px 10px #FA0000");$(A.getTarget()[A.getReqLength()]).after('<span class="error"></span>').text(this.message)}}}URLMandatoryException.prototype=new Error();URLMandatoryException.prototype.constructor=URLMandatoryException;function InvalidEmailException(B,A){this.name="InvalidEmailException";this.message=B;this.stack=(new Error()).stack;this.code=ErrorCode.INVALIDEMAIL;this.$ele=$(A);this.handle=function(){if(this.$ele.siblings(".error").length==0){this.$ele.css("box-shadow","0px 0px 10px #FA0000");this.$ele.after('<span class="error"></span>').text(this.message)}}}InvalidEmailException.prototype=new Error();InvalidEmailException.prototype.constructor=InvalidEmailException;function MaxLengthExceedException(B,A){this.name="MaxLengthExceedException";this.message=B;this.stack=(new Error()).stack;this.code=ErrorCode.MAXLENGTHEXCEED;this.$ele=$(A);this.handle=function(){if(this.$ele.siblings(".error").length==0){this.$ele.css("box-shadow","0px 0px 10px #FA0000");this.$ele.after('<span class="error"></span>').text(this.message)}}}MaxLengthExceedException.prototype=new Error();MaxLengthExceedException.prototype.constructor=MaxLengthExceedException;function InvalidNumberException(B,A){this.name="InvalidNumberException";this.message=B;this.stack=(new Error()).stack;this.code=ErrorCode.INVALIDNUMBER;this.$ele=$(A);this.handle=function(){if(this.$ele.siblings(".error").length==0){this.$ele.css("box-shadow","0px 0px 10px #FA0000");this.$ele.after('<span class="error"></span>').text(this.message)}}}InvalidNumberException.prototype=new Error();InvalidNumberException.prototype.constructor=InvalidNumberException;function RoundOffException(B,A){this.name="RoundOffException";this.message=B;this.stack=(new Error()).stack;this.code=ErrorCode.INVALIDNUMBER;this.$ele=$(A);this.handle=function(){if(this.$ele.siblings(".error").length==0){this.$ele.css("box-shadow","0px 0px 10px #FA0000");this.$ele.after('<span class="error"></span>').text(this.message)}}}RoundOffException.prototype=new Error();RoundOffException.prototype.constructor=RoundOffException;function MissingArgumentException(A){this.name="MissingArgumentException";this.message=A;this.stack=(new Error()).stack;this.code=ErrorCode.MISSINGARG}MissingArgumentException.prototype=new Error();MissingArgumentException.prototype.constructor=MissingArgumentException;function AlphaOnlyException(A){this.name="AlphaOnlyException";this.message=A;this.stack=(new Error()).stack;this.code=ErrorCode.INVAILDARG}AlphaOnlyException.prototype=new Error();AlphaOnlyException.prototype.constructor=AlphaOnlyException;function InvalidArgumentException(A){this.name="InvalidArgumentException";this.message=A;this.stack=(new Error()).stack;this.code=ErrorCode.INVAILDARG}InvalidArgumentException.prototype=new Error();InvalidArgumentException.prototype.constructor=InvalidArgumentException;if(typeof Object.create!="function"){Object.create=(function(){var A=function(){};return function(C){if(arguments.length>1){throw Error("Second argument not supported")}if(typeof C!="object"){throw TypeError("Argument must be an object")}A.prototype=C;var B=new A();A.prototype=null;return B}})()}function Class(){}Class.prototype.construct=function(){};Class.extend=function(E){var A=function(){if(arguments[0]!==Class){this.construct.apply(this,arguments)}};var D=new this(Class);var B=this.prototype;for(var F in E){var C=E[F];if(C instanceof Function){C.$=B}D[F]=C}D._super=B;A.prototype=D;A.extend=this.extend;return A};var BasicValidator=Class.extend({validate:function(A){var C=A.getModel(),B=A.getView();B.resetFieldError();if(C.isMandatory()&&isNull(B.getValue())){throw new MandatoryException(C.getDisplayName()+" cannot be empty",B.getField())}}});var TextFieldValidator=BasicValidator.extend({validate:function(B){this._super.validate.call(this,B);var D=B.getModel(),C=B.getView();var A=(B.getValue()!=undefined)?B.getValue().length:0;if(A>D.getMaxLength()){throw new MaxLengthExceedException(D.getDisplayName()+" exceeds maximum characters",C.getField())}}});var EmailValidator=TextFieldValidator.extend({validate:function(B){this._super.validate.call(this,B);var A=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,15})+$/;if(!isNull(B.getValue())&&!A.test(B.getValue())){throw new InvalidEmailException(B.getDisplayName()+" : Invalid Email",B.getTarget())}}});var NumericValidator=BasicValidator.extend({validate:function(D){this._super.validate.call(this,D);var B=D.getValue(),A=B.length,C=D.getDecimalLength();if(A>D.getMaxLength()){throw new MaxLengthExceedException(D.getDisplayName()+" exceeds maximum characters",D.getTarget())}if(!isNull(B)&&!isNumber(B)){throw new InvalidNumberException(D.getDisplayName()+" : Invalid Number",D.getTarget())}if(C>0&&B.indexOf(".")!=-1){if(B.substring(B.indexOf(".")).length-1>C){throw new RoundOffException("Round off the "+D.getDisplayName()+" field value to "+C+" decimal places",D.getTarget())}}else{var E=B.indexOf(".");if(E!=-1&&B.substring(E).length-1>0){throw new RoundOffException("Round off the "+D.getDisplayName()+" field value to "+C+" decimal places",D.getTarget())}}}});var URLValidator=Class.extend({validate:function(A){A.resetError();if(A.isMandatory()&&isNull(A.getValue().URL)){throw new URLMandatoryException(A.getDisplayName()+" cannot be empty",A);return false}}});var InputChoiceValidator=Class.extend({validate:function(A){A.resetError();if(A.isMandatory()&&isNull(A.getValue())){throw new InputChoiceMandatoryException(A.getDisplayName()+" cannot be empty",A);return false}}});var LIB=LIB||{};LIB={_pagesList:null,_getPagesList:function(){if(LIB._pagesList==null||LIB._pagesList==undefined){$.ajax({url:ZCGlobal.appurl+"getComponent",method:"GET",async:false,success:function(A){LIB._pagesList=A},error:function(C,A,B){LIB._pagesList=[]}})}return LIB._pagesList},_isHtmlPage:function(A){return $.inArray(A,LIB._getPagesList())>-1},_sectionsList:undefined,_isSection:function(B){var A=LIB._sectionsList==undefined?[]:LIB._sectionsList;return $.inArray(B,A)>-1},_isGlobalsInited:false,_initGlobals:function(B,C){if(LIB._isGlobalsInited){return }var A=LIB._isNull(B)?ZCGlobal.scopeName:B,D=LIB._isNull(C)?ZCGlobal.appLinkName:C;$.ajax({url:"/"+A+"/"+D+"/initGlobals",method:"GET",async:false,success:function(E){ZCGlobal=ZCGlobal||{};ZCGlobal.loginName=E.loginName;ZCGlobal.loginEmail=E.loginEmail;LIB._isGlobalsInited=true;Console.log("Initialised globals..")},error:function(G,E,F){Console.log("Error while getting globals info.");Console.log(F)}})},_stopPropagation:function(A){if(navigator.userAgent.indexOf("msie")!=-1){if(A==null){return }A.cancelBubble=true;if(A.stopPropagation){A.stopPropagation()}}else{A.stopPropagation()}},_isNull:function(A){if(!A||A=="undefined"||typeof (A)=="undefined"||A=="NULL"||A=="null"||A.length==0||A==""){return true}return false},_startLoading:function(){if(ZCGlobal.isMobileLayout){var A=ifreeze({container:"body"});$("#zc-mob-loader").removeClass("hide")}else{$("#preloader").show()}},_stopLoading:function(){if(ZCGlobal.isMobileLayout){unfreeze({container:"body"});$("#zc-mob-loader").addClass("hide")}else{$("#preloader").hide()}},_componentUrlPrefix:{form:"form/",report:"report/",page:"page/",approval:"approvals/",module:""},_trimLeftString:function(A){do{index=A.indexOf(" ");if(index==0){A=A.substring(1)}}while(index==0);return A},_openURL:function(A,I,H){I=I.toLowerCase();A=LIB._trimLeftString(A);if(I=="new window"||I=="new"){ZSEC.secureRedirector.open(A,"_new")}else{if(I=="iframe"){if(window.self!==window.top&&isSandBoxedIframe(window)){Console.log("SandBoxed Frame true");openURLByPostMessage(A,H)}else{window.open(A,H)}}else{if(I=="popup"||I=="Popup window"||I=="popup window"){if(A.indexOf("#")==0||A.indexOf("/#")==0||A.indexOf("/")==0){var E=getParamsAsMap(H,",","=");var G={};if(!isNull(E.height)){G.height=E.height}if(!isNull(E.width)){G.width=E.width}G.wrapperClass="zc-mob-fullscreen";var K=$(getModalProgress()).zcmodal(G);var B=new ApplicationView();B._Events._LoadComponent(A,K.getBody()[0])}else{var D="resizable=false,scrollbars=yes,toolbar=false,location=false,directories=false,status=false,menubar=false,copyhistory=false";D=D+","+H;ZSEC.secureRedirector.open(A,"_blank",D)}}else{if(I=="same window"||I=="same"||I=="this window"||I=="this"){if($zcmodal.hasInstance()){isUrlContainsDialog=$.IsLoadInDialog(A);$zcmodal.getTopPopup().close()}var C=((window.formMeta==undefined)?false:(window.formMeta.ISEMBED||window.formMeta.ISPERMA));if((A==window.location.hash||A==window.location.href)&&!C){$(window).trigger("hashchange")}else{window.open(A,"_self")}return true}else{if(I=="parent window"||I=="parent"){var C=((window.formMeta==undefined)?false:(window.formMeta.ISEMBED||window.formMeta.ISPERMA));if((A==window.location.hash||A==window.location.href)&&!C){$(window).trigger("hashchange")}else{try{if(window.open(A,"_parent")==null){openURLByPostMessage(A,"_parent")}}catch(F){openURLByPostMessage(A,"_parent")}}return true}else{if($zcmodal.hasInstance()){$zcmodal.getTopPopup().close()}if(A.indexOf("#")==0){var J=false;if(window.location.hash==A){J=true}window.location.hash=A;if(J){$(document).trigger("hashchange")}}else{if(A.indexOf("/#")==0){var J=false;if(window.location.hash==A.substr(1)){J=true}window.location.hash=A.substr(1);if(J){$(document).trigger("hashchange")}}else{if(A==location.href){window.location.reload()}else{window.location=A}}}return true}}}}}return false},_info:function(C,B,A){$.zcmodal({title:C,type:ZCModalConstants.JIT_MODAL,bodyClass:"info-popup",width:450,beforeShow:function(D){for(var E in B){if(A==true){$(D).find("#info-"+E).html(B[E])}else{$(D).find("#info-"+E).text(B[E])}}},buildDOM:function(){var D="";for(var E in B){D+="<span id='info-"+E+"'></span></br>"}return'<div class="infoMsg" style="white-space:pre-line">'+D+"</div>"},buttons:[]})},_Loader:function(B){switch(B){case 1:var A=$("#preloader");break;case 2:var A=$("#splash-screen");break}this.start=function(){$(A).show()};this.stop=function(){$(A).hide()};return this}};LIB.REFERENCE_TYPES={PAGE_COMPONENT:1};function createPrototype(B,A,C){B.prototype=Object.create(A);B.prototype.constructor=B;B.prototype.validator=C}function isMobileBrowser(A){if(!A){A=navigator.userAgent}return(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(A))}function isStandalone(){return ZCGlobal.isMobileLayout&&(window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===true)}function resetViewport(){if(isMobileBrowser()){$("body").addClass("zc-mobile");var A=window.screen.width;var C=750;var B="yes";if(A>C){$("#zcViewport").attr("content","initial-scale=1.0, maximum-scale=2, minimum-scale=1.0, user-scalable="+B+", width="+A)}}}function openURLListener(A){if(A.data.key==="openInIFrame"&&(window.name===A.data.frameName||A.data.frameName=="_parent")){if(window.location.href===A.data.url){window.location.reload()}else{window.open(A.data.url,"_self")}}}function openURLByPostMessage(B,A){var E={key:"openInIFrame",url:B,frameName:A};var D=getFrameWindow(A);D=D==undefined&&A==="_parent"?window.parent:D;if(D!==undefined){try{if(D.location.host===""){D.frameElement.src=B;return }}catch(C){Console.log(C)}D.postMessage(E,"*")}}function getFrameWindow(B){return A(window.top,B);function A(C,E){try{var D=C.frames[E];if(D!==undefined&&D!==null){return D}}catch(G){}for(var F=0;F<C.frames.length;++F){var D=A(C.frames[F],E);if(D!==undefined&&D!==null){return D}}return undefined}}function initSW(){var A=ZCGlobal.scopeName,B=ZCGlobal.appLinkName;if(window.navigator&&navigator.serviceWorker){navigator.serviceWorker.getRegistrations().then(function(D){for(var C in D){D[C].unregister()}})}if("serviceWorker" in navigator){navigator.serviceWorker.register("/"+ZCGlobal.scopeName+"/"+ZCGlobal.appLinkName+"/serviceworker",{scope:"../../"}).then(function(C){Console.log("ServiceWorker registration successful with scope: ",C.scope)},function(C){Console.log("ServiceWorker registration failed: ",C)})}}function initManifest(){$.ajax({url:ZCGlobal.appurl+"manifest",method:"GET",async:false,success:function(D){var C=JSON.stringify(D);var B=new Blob([C],{type:"application/json"});var A=URL.createObjectURL(B);$("#zcManifest").attr("href",A)},error:function(C,A,B){Console.log("Error while Manifest initialization"+B)}})}function initOfflineListener(){window.addEventListener("offline",function(){if(!navigator.onLine){window.location.href=ZCGlobal.appurl}})}function openAppBannerTimeOut(){var A=window.navigator.userAgent.toUpperCase();if(A.indexOf("ANDROID")!=-1){LIB._startLoading();setTimeout(function(){LIB._stopLoading();window.location="https://play.google.com/store/apps/details?id=com.zoho.creator.a"},3000)}else{if(A.indexOf("IPHONE")!=-1){LIB._startLoading();setTimeout(function(){LIB._stopLoading();window.location="https://itunes.apple.com/us/app/zoho-creator/id692005267?mt=8"},3000)}}window.location=(window.location.href.replace(window.location.protocol,"ZohoCreator:"))}function initMobile(){initSW();initOfflineListener();if(isStandalone()){$("#zc-header-top-bar-wrapper").show();$(".zc-mobile-home-button").hide()}}function isEdgeBrowser(){var A=navigator.userAgent;if(A.indexOf("Edge/")!=-1){return true}return false}function goToMobileSite(E,C,F){var D=document.domain;var B=D.substring(0,D.lastIndexOf("."));var A=D.substring(B.lastIndexOf("."),D.length);setCookie(E+"_isalwaysfullsite","false",null,A,"/");window.location.href=window.location.protocol+"//"+ZCGlobal.oldliveserver+"/mobile/"+C+"/"+F+"/"}function initWalkThrough(){if(!isNull(getCookie("zc-walkthroughstep"))){var A=parseInt(getCookie("zc-walkthroughstep"));if(A>=17&&A<=24){if(getConfig().useCompression){if(!walkthroughCSSFlag){loadCSS(ZCPath.appeditCss.walkthroughCss);walkthroughCSSFlag=true}require(["walkthrough"],function(){var C=new WalkThrough();C.proceed(A)})}else{var B=new WalkThrough();B.proceed(A)}}}}function isSandBoxedIframe(A){if(A.frameElement!=null){if($(window.frameElement).attr("sandbox")!==undefined){return true}else{return false}}try{document.domain=document.domain;return false}catch(B){if(B instanceof DOMException&&B.code==DOMException.SECURITY_ERR){return true}Console.error(B);return false}}function FormURL(A){var B=A.getFormLinkName();this.getPrefix=function(){return ZCGlobal.serverPrefix+"/"+ZCGlobal.scopeName+"/"+A.getAppLinkName()+"/"};this.getForm=function(){return this.getPrefix()+"form/"+B};this.getSubmitURL=function(){return this.getForm()+"/"+FormAccessType.getURL(A.getAccessType())};this.getCaptchaURL=function(){return this.getPrefix()+"form/"+B+"/getcaptcha"};this.getPaymentCallbackURL=function(C,G,E,D){var F=E?"form-perma":D?"form-embed":"form";return this.getPrefix()+F+"/"+B+"/payment/"+C+"/"+G};this.getPaymentPollURL=function(){var D=A.isPerma()?"form-perma":A.isEmbed()?"form-embed":"form";var C=this.getPrefix()+D+"/"+B+"/payment/poll";if(!LIB._isNull(A.getPrivateLink())&&(A.isPerma()||A.isEmbed())){C+="?privatelink="+A.getPrivateLink()}return C};this.getRecordSuccessURL=function(C){return this.getPrefix()+B+"/record-success/"+C+"/"};this.getNotificationUrl=function(C,G,E,D){var H=ZCGlobal.serverPrefix+"/"+ZCGlobal.scopeName+"/"+A.getAppLinkName()+"/";var F=E?"form-perma":D?"form-embed":"form";return H+F+"/"+B+"/payment/"+C+"/"+G+"/"+ZCGlobal.loginName+"/notification"}}function FieldURL(B,A){FormURL.call(this,A);var C=B.isSubformField()?B.getActualLabelName():B.getLabelName();this.getUploadURL=function(){return this.getForm()+"/uploadFile/"+C};this.getDeleteFileURL=function(){return this.getForm()+"/deleteFile/"+C};this.getRelDataURL=function(){if(B.isIntegrationField()){return this.getForm()+"/integdata/"+C}else{if(B.getComponentType()==FieldType.POPUP_SINGLE||B.getComponentType()==FieldType.EXTERNAL_FIELD){return this.getForm()+"/extdata/"+C}else{if(B.isFromReport()){return this.getForm()+"/reportreldata/"+C}}}return this.getForm()+"/reldata/"+C};this.getRelatedPrefix=function(){return ZCGlobal.serverPrefix+"/"+ZCGlobal.scopeName+"/"+B.getRefAppLinkName()};this.getRelatedForm=function(){return this.getRelatedPrefix()+"/form/"+B.getRefFormLinkName()+"?formAccessType=5"}}createPrototype(FieldURL,FormURL.prototype);function ReportURL(C){var E=C.isSavedReport()?C.getParentReportLinkName():C.getReportLinkName();var D=C.getFormLinkName();var A=C.getAppLinkName();var B=C.getPrivateLink()==undefined?"":C.getPrivateLink();this.getPrefix=function(G){var F=G?"/export/":"/";return ZCGlobal.serverPrefix+F+ZCGlobal.scopeName+"/"+C.getAppLinkName()+"/"};this.getReport=function(){return this.getPrefix()+"report/"+E};this.getRecordFetchUrl=function(){return this.getPrefix()+"getReport/"+E};this.getShowReport=function(F){return this.getPrefix()+"report/"+F};this.getPublishReport=function(){var G=C.getIsPerma()?"report-perma-json":C.getIsEmbed()?"report-embed-json":"report";var F=this.getPrefix()+G+"/"+E;return F};this.getForm=function(){return this.getPrefix()+"form/"+D};this.getBulkEdit=function(){return this.getForm()+"/bulkedit"};this.getRecEdit=function(F){return this.getPrefix()+"/"+D+"/record-edit/"+E+"/"+F+"/"+B};this.getRecPrint=function(){return this.getPrefix()+"record-print/"+E};this.getRecSummary=function(){return this.getPrefix()+"record-summary/"+E};this.getApprovalAction=function(){return this.getPrefix()+"approval-action/"+E};this.getPrint=function(){return this.getPrefix(true)+"print/"+E};this.getExport=function(F){return this.getPrefix(true)+F+"/"+E};this.getViewRecord=function(){if(ZCGlobal.isPreviewAction){return ZCGlobal.serverPrefix+"/preview/"+ZCGlobal.scopeName+"/"+C.getAppLinkName()+"/summary/"+E}return this.getPrefix()+"summary/"+E};this.getPermaViewRecord=function(){return this.getPrefix()+"summary-perma/"+E};this.getEmbedViewRecord=function(){return this.getPrefix()+"summary-embed/"+E};this.getLinkedViewRecord=function(F){return this.getPrefix()+"linked-summary/"+F};this.getCustomAction=function(){return this.getPrefix()+"customworkflow/"+E};this.getRelDataURL=function(H,F,G){if(G.isIntegrationField()){return this.getForm()+"/integdata/"+H}else{if(F){return this.getForm()+"/extdata/"+H}}return this.getForm()+"/reldata/"+H};this.getTableRecordCountURL=function(F){return this.getPrefix()+"report/"+E+"/getTableRecordCount"};this.getRecordsCountURL=function(F){return this.getPrefix()+"report/"+E+"/getRecordsCount"};this.getRecordSummaryTemplate=function(){return this.getPrefix()+"record-summary-print/"+E+"/"};this.getReportSearchOptionURL=function(){var F=this.getPrefix()+"report/"+E+"/getSearchOptions";if(!LIB._isNull(C.getPrivateLink())){F+="?privatelink="+C.getPrivateLink()}return F}}function RecordURL(B,A){ReportURL.call(this,A)}createPrototype(RecordURL,ReportURL.prototype);function PageURL(B){var C=B.getPageLinkName();var A=B.getPrivateLink();this.getAppUrl=function(D){return ZCGlobal.serverPrefix+"/"+ZCGlobal.scopeName+"/"+D+"/"};this.getPrintUrl=function(){return ZCGlobal.serverPrefix+"/export/"+ZCGlobal.scopeName+"/"+ZCGlobal.appLinkName+"/print/"+C+"/"+((B.isExternal()&&!LIB._isNull(A))?A+"/":"")};this.getPdfUrl=function(){return ZCGlobal.serverPrefix+"/export/"+ZCGlobal.scopeName+"/"+ZCGlobal.appLinkName+"/pdf/"+C+"/"+((B.isExternal()&&!LIB._isNull(A))?A+"/":"")};this.getPrintToPdfUrl=function(){return ZCGlobal.serverPrefix+"/export/"+ZCGlobal.scopeName+"/"+ZCGlobal.appLinkName+"/print-pdf/"+C+"/"+((B.isExternal()&&!LIB._isNull(A))?A+"/":"")};this.getCompUrl=function(D){var E=D.elemType=="form"?"form":"report";E+="-embed";return ZCGlobal.serverPrefix+"/"+ZCGlobal.scopeName+"/"+D.appLinkName+"/"+E+"/"+D.compLinkName+"/"};this.getPageSearchUrl=function(){return ZCGlobal.serverPrefix+"/"+ZCGlobal.scopeName+"/"+ZCGlobal.appLinkName+"/page/"+C+"/pageSearch"}}function ApprovalURL(A){this.getPrefix=function(){return ZCGlobal.serverPrefix+"/"+ZCGlobal.scopeName+"/"+ZCGlobal.appLinkName+"/"};this.getApprovalAction=function(){return this.getPrefix()+"approval-action"}}function AppURL(A){var B="adminpaneloperation";this.getAppUrl=function(C){return ZCGlobal.serverPrefix+"/"+ZCGlobal.scopeName+"/"+ZCGlobal.appLinkName+"/"};this.getSetDefaultThemeUrl=function(){return this.getAppUrl()+B+"/setDefaultTheme"};this.getLoadIconsUrl=function(){return this.getAppUrl()+B+"/loadIcons"};this.getSaveIconsUrl=function(){return this.getAppUrl()+B+"/saveIcons"};this.getRemoveIconsUrl=function(){return this.getAppUrl()+B+"/removeIcons"};this.getUpdateFeatureUrl=function(){return this.getAppUrl()+B+"/updateLiveFeature"};this.getSwitchForUsersUrl=function(){return this.getAppUrl()+B+"/switchLiveModeForUsers"}}var ZCSecurity=new function(){this.isURLXSSVulnerable=function(E){if(E){var B=E.trim().toLowerCase();var D=document.createElement("a");D.href=B;var A=D.protocol;if(A.indexOf("javascript:")===0||A.indexOf("vbscript:")===0||A.indexOf("data:")===0){return true}B=B.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"').replace(/'/g,"'");try{var F=decodeURIComponent(ZCSecurity.safariCheck(B)).replace(/[^\w:]/g,"").toLowerCase()}catch(C){}if(F.indexOf("javascript:")===0||F.indexOf("vbscript:")===0||F.indexOf("data:")===0){return true}}return false};this.safariCheck=function(A){return A.replace(/&([#\w]+);/g,function(C,B){if(B==="colon"){return":"}if(B.charAt(0)==="#"){return B.charAt(1)==="x"?String.fromCharCode(parseInt(B.substring(2),16)):String.fromCharCode(+B.substring(1))}return""})}}();var Constants=new function(){this.DEVICE_PHONE=2;this.REC_SUMMARY_TABLE_LAYOUT=-1;this.REC_SUMMARY_LINEAR_LAYOUT=-2;this.OTHER_OPTION="-otherVal-";this.GRID_SUBFORM=1;this.POPUP_SUBFORM=2;this.COUNTRY_CODES={"1":["us","ca","do","pr"],"7":["ru","kz"],"20":["eg"],"27":["za"],"30":["gr"],"31":["nl"],"32":["be"],"33":["fr"],"34":["es"],"36":["hu"],"39":["it","va"],"40":["ro"],"41":["ch"],"43":["at"],"44":["gb","gg","im","je"],"45":["dk"],"46":["se"],"47":["no","sj"],"48":["pl"],"49":["de"],"51":["pe"],"52":["mx"],"53":["cu"],"54":["ar"],"55":["br"],"56":["cl"],"57":["co"],"58":["ve"],"60":["my"],"61":["au","cc","cx"],"62":["id"],"63":["ph"],"64":["nz"],"65":["sg"],"66":["th"],"81":["jp"],"82":["kr"],"84":["vn"],"86":["cn"],"90":["tr"],"91":["in"],"92":["pk"],"93":["af"],"94":["lk"],"95":["mm"],"98":["ir"],"211":["ss"],"212":["ma","eh"],"213":["dz"],"216":["tn"],"218":["ly"],"220":["gm"],"221":["sn"],"222":["mr"],"223":["ml"],"224":["gn"],"225":["ci"],"226":["bf"],"227":["ne"],"228":["tg"],"229":["bj"],"230":["mu"],"231":["lr"],"232":["sl"],"233":["gh"],"234":["ng"],"235":["td"],"236":["cf"],"237":["cm"],"238":["cv"],"239":["st"],"240":["gq"],"241":["ga"],"242":["cg"],"243":["cd"],"244":["ao"],"245":["gw"],"246":["io"],"248":["sc"],"249":["sd"],"250":["rw"],"251":["et"],"252":["so"],"253":["dj"],"254":["ke"],"255":["tz"],"256":["ug"],"257":["bi"],"258":["mz"],"260":["zm"],"261":["mg"],"262":["re","yt"],"263":["zw"],"264":["na"],"265":["mw"],"266":["ls"],"267":["bw"],"268":["sz"],"269":["km"],"290":["sh"],"291":["er"],"297":["aw"],"298":["fo"],"299":["gl"],"350":["gi"],"351":["pt"],"352":["lu"],"353":["ie"],"354":["is"],"355":["al"],"356":["mt"],"357":["cy"],"358":["fi","ax"],"359":["bg"],"370":["lt"],"371":["lv"],"372":["ee"],"373":["md"],"374":["am"],"375":["by"],"376":["ad"],"377":["mc"],"378":["sm"],"380":["ua"],"381":["rs"],"382":["me"],"385":["hr"],"386":["si"],"387":["ba"],"389":["mk"],"420":["cz"],"421":["sk"],"423":["li"],"500":["fk"],"501":["bz"],"502":["gt"],"503":["sv"],"504":["hn"],"505":["ni"],"506":["cr"],"507":["pa"],"508":["pm"],"509":["ht"],"590":["gp","bl","mf"],"591":["bo"],"592":["gy"],"593":["ec"],"594":["gf"],"595":["py"],"596":["mq"],"597":["sr"],"598":["uy"],"599":["cw","bq"],"670":["tl"],"672":["nf"],"673":["bn"],"674":["nr"],"675":["pg"],"676":["to"],"677":["sb"],"678":["vu"],"679":["fj"],"680":["pw"],"681":["wf"],"682":["ck"],"683":["nu"],"685":["ws"],"686":["ki"],"687":["nc"],"688":["tv"],"689":["pf"],"690":["tk"],"691":["fm"],"692":["mh"],"850":["kp"],"852":["hk"],"853":["mo"],"855":["kh"],"856":["la"],"880":["bd"],"886":["tw"],"960":["mv"],"961":["lb"],"962":["jo"],"963":["sy"],"964":["iq"],"965":["kw"],"966":["sa"],"967":["ye"],"968":["om"],"970":["ps"],"971":["ae"],"972":["il"],"973":["bh"],"974":["qa"],"975":["bt"],"976":["mn"],"977":["np"],"992":["tj"],"993":["tm"],"994":["az"],"995":["ge"],"996":["kg"],"998":["uz"],"1204":["ca"],"1226":["ca"],"1236":["ca"],"1242":["bs"],"1246":["bb"],"1249":["ca"],"1250":["ca"],"1264":["ai"],"1268":["ag"],"1284":["vg"],"1289":["ca"],"1306":["ca"],"1340":["vi"],"1343":["ca"],"1345":["ky"],"1365":["ca"],"1387":["ca"],"1403":["ca"],"1416":["ca"],"1418":["ca"],"1431":["ca"],"1437":["ca"],"1438":["ca"],"1441":["bm"],"1450":["ca"],"1473":["gd"],"1506":["ca"],"1514":["ca"],"1519":["ca"],"1548":["ca"],"1579":["ca"],"1581":["ca"],"1587":["ca"],"1604":["ca"],"1613":["ca"],"1639":["ca"],"1647":["ca"],"1649":["tc"],"1664":["ms"],"1670":["mp"],"1671":["gu"],"1672":["ca"],"1684":["as"],"1705":["ca"],"1709":["ca"],"1721":["sx"],"1742":["ca"],"1758":["lc"],"1767":["dm"],"1778":["ca"],"1780":["ca"],"1782":["ca"],"1784":["vc"],"1787":["pr"],"1807":["ca"],"1809":["do"],"1819":["ca"],"1825":["ca"],"1829":["do"],"1849":["do"],"1867":["ca"],"1868":["tt"],"1869":["kn"],"1873":["ca"],"1876":["jm"],"1902":["ca"],"1905":["ca"],"1939":["pr"]};this.COUNTRY_DATA=[{name:"Afghanistan",iso2:"af",dialCode:"93",priority:0,areaCodes:null,id:"af",text:"Afghanistan"},{name:"Albania",iso2:"al",dialCode:"355",priority:0,areaCodes:null,id:"al",text:"Albania"},{name:"Algeria",iso2:"dz",dialCode:"213",priority:0,areaCodes:null,id:"dz",text:"Algeria"},{name:"American Samoa",iso2:"as",dialCode:"1684",priority:0,areaCodes:null,id:"as",text:"American Samoa"},{name:"Andorra",iso2:"ad",dialCode:"376",priority:0,areaCodes:null,id:"ad",text:"Andorra"},{name:"Angola",iso2:"ao",dialCode:"244",priority:0,areaCodes:null,id:"ao",text:"Angola"},{name:"Anguilla",iso2:"ai",dialCode:"1264",priority:0,areaCodes:null,id:"ai",text:"Anguilla"},{name:"Antigua and Barbuda",iso2:"ag",dialCode:"1268",priority:0,areaCodes:null,id:"ag",text:"Antigua and Barbuda"},{name:"Argentina",iso2:"ar",dialCode:"54",priority:0,areaCodes:null,id:"ar",text:"Argentina"},{name:"Armenia",iso2:"am",dialCode:"374",priority:0,areaCodes:null,id:"am",text:"Armenia"},{name:"Aruba",iso2:"aw",dialCode:"297",priority:0,areaCodes:null,id:"aw",text:"Aruba"},{name:"Australia",iso2:"au",dialCode:"61",priority:0,areaCodes:null,id:"au",text:"Australia"},{name:"Austria",iso2:"at",dialCode:"43",priority:0,areaCodes:null,id:"at",text:"Austria"},{name:"Azerbaijan",iso2:"az",dialCode:"994",priority:0,areaCodes:null,id:"az",text:"Azerbaijan"},{name:"Bahamas",iso2:"bs",dialCode:"1242",priority:0,areaCodes:null,id:"bs",text:"Bahamas"},{name:"Bahrain",iso2:"bh",dialCode:"973",priority:0,areaCodes:null,id:"bh",text:"Bahrain"},{name:"Bangladesh",iso2:"bd",dialCode:"880",priority:0,areaCodes:null,id:"bd",text:"Bangladesh"},{name:"Barbados",iso2:"bb",dialCode:"1246",priority:0,areaCodes:null,id:"bb",text:"Barbados"},{name:"Belarus",iso2:"by",dialCode:"375",priority:0,areaCodes:null,id:"by",text:"Belarus"},{name:"Belgium",iso2:"be",dialCode:"32",priority:0,areaCodes:null,id:"be",text:"Belgium"},{name:"Belize",iso2:"bz",dialCode:"501",priority:0,areaCodes:null,id:"bz",text:"Belize"},{name:"Benin",iso2:"bj",dialCode:"229",priority:0,areaCodes:null,id:"bj",text:"Benin"},{name:"Bermuda",iso2:"bm",dialCode:"1441",priority:0,areaCodes:null,id:"bm",text:"Bermuda"},{name:"Bhutan",iso2:"bt",dialCode:"975",priority:0,areaCodes:null,id:"bt",text:"Bhutan"},{name:"Bolivia",iso2:"bo",dialCode:"591",priority:0,areaCodes:null,id:"bo",text:"Bolivia"},{name:"Bosnia and Herzegovina",iso2:"ba",dialCode:"387",priority:0,areaCodes:null,id:"ba",text:"Bosnia and Herzegovina"},{name:"Botswana",iso2:"bw",dialCode:"267",priority:0,areaCodes:null,id:"bw",text:"Botswana"},{name:"Brazil",iso2:"br",dialCode:"55",priority:0,areaCodes:null,id:"br",text:"Brazil"},{name:"British Indian Ocean Territory",iso2:"io",dialCode:"246",priority:0,areaCodes:null,id:"io",text:"British Indian Ocean Territory"},{name:"British Virgin Islands",iso2:"vg",dialCode:"1284",priority:0,areaCodes:null,id:"vg",text:"British Virgin Islands"},{name:"Brunei",iso2:"bn",dialCode:"673",priority:0,areaCodes:null,id:"bn",text:"Brunei"},{name:"Bulgaria",iso2:"bg",dialCode:"359",priority:0,areaCodes:null,id:"bg",text:"Bulgaria"},{name:"Burkina Faso",iso2:"bf",dialCode:"226",priority:0,areaCodes:null,id:"bf",text:"Burkina Faso"},{name:"Burundi",iso2:"bi",dialCode:"257",priority:0,areaCodes:null,id:"bi",text:"Burundi"},{name:"Cambodia",iso2:"kh",dialCode:"855",priority:0,areaCodes:null,id:"kh",text:"Cambodia"},{name:"Cameroon",iso2:"cm",dialCode:"237",priority:0,areaCodes:null,id:"cm",text:"Cameroon"},{name:"Canada",iso2:"ca",dialCode:"1",priority:1,areaCodes:["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"],id:"ca",text:"Canada"},{name:"Cape Verde",iso2:"cv",dialCode:"238",priority:0,areaCodes:null,id:"cv",text:"Cape Verde"},{name:"Caribbean Netherlands",iso2:"bq",dialCode:"599",priority:1,areaCodes:null,id:"bq",text:"Caribbean Netherlands"},{name:"Cayman Islands",iso2:"ky",dialCode:"1345",priority:0,areaCodes:null,id:"ky",text:"Cayman Islands"},{name:"Central African Republic",iso2:"cf",dialCode:"236",priority:0,areaCodes:null,id:"cf",text:"Central African Republic"},{name:"Chad",iso2:"td",dialCode:"235",priority:0,areaCodes:null,id:"td",text:"Chad"},{name:"Chile",iso2:"cl",dialCode:"56",priority:0,areaCodes:null,id:"cl",text:"Chile"},{name:"China",iso2:"cn",dialCode:"86",priority:0,areaCodes:null,id:"cn",text:"China"},{name:"Christmas Island",iso2:"cx",dialCode:"61",priority:2,areaCodes:null,id:"cx",text:"Christmas Island"},{name:"Cocos",iso2:"cc",dialCode:"61",priority:1,areaCodes:null,id:"cc",text:"Cocos"},{name:"Colombia",iso2:"co",dialCode:"57",priority:0,areaCodes:null,id:"co",text:"Colombia"},{name:"Comoros",iso2:"km",dialCode:"269",priority:0,areaCodes:null,id:"km",text:"Comoros"},{name:"Congo",iso2:"cd",dialCode:"243",priority:0,areaCodes:null,id:"cd",text:"Congo"},{name:"Congo",iso2:"cg",dialCode:"242",priority:0,areaCodes:null,id:"cg",text:"Congo"},{name:"Cook Islands",iso2:"ck",dialCode:"682",priority:0,areaCodes:null,id:"ck",text:"Cook Islands"},{name:"Costa Rica",iso2:"cr",dialCode:"506",priority:0,areaCodes:null,id:"cr",text:"Costa Rica"},{name:"C√¥te d‚ÄôIvoire",iso2:"ci",dialCode:"225",priority:0,areaCodes:null,id:"ci",text:"C√¥te d‚ÄôIvoire"},{name:"Croatia",iso2:"hr",dialCode:"385",priority:0,areaCodes:null,id:"hr",text:"Croatia"},{name:"Cuba",iso2:"cu",dialCode:"53",priority:0,areaCodes:null,id:"cu",text:"Cuba"},{name:"Cura√ßao",iso2:"cw",dialCode:"599",priority:0,areaCodes:null,id:"cw",text:"Cura√ßao"},{name:"Cyprus",iso2:"cy",dialCode:"357",priority:0,areaCodes:null,id:"cy",text:"Cyprus"},{name:"Czech Republic",iso2:"cz",dialCode:"420",priority:0,areaCodes:null,id:"cz",text:"Czech Republic"},{name:"Denmark",iso2:"dk",dialCode:"45",priority:0,areaCodes:null,id:"dk",text:"Denmark"},{name:"Djibouti",iso2:"dj",dialCode:"253",priority:0,areaCodes:null,id:"dj",text:"Djibouti"},{name:"Dominica",iso2:"dm",dialCode:"1767",priority:0,areaCodes:null,id:"dm",text:"Dominica"},{name:"Dominican Republic",iso2:"do",dialCode:"1",priority:2,areaCodes:["809","829","849"],id:"do",text:"Dominican Republic"},{name:"Ecuador",iso2:"ec",dialCode:"593",priority:0,areaCodes:null,id:"ec",text:"Ecuador"},{name:"Egypt",iso2:"eg",dialCode:"20",priority:0,areaCodes:null,id:"eg",text:"Egypt"},{name:"El Salvador",iso2:"sv",dialCode:"503",priority:0,areaCodes:null,id:"sv",text:"El Salvador"},{name:"Equatorial Guinea",iso2:"gq",dialCode:"240",priority:0,areaCodes:null,id:"gq",text:"Equatorial Guinea"},{name:"Eritrea",iso2:"er",dialCode:"291",priority:0,areaCodes:null,id:"er",text:"Eritrea"},{name:"Estonia",iso2:"ee",dialCode:"372",priority:0,areaCodes:null,id:"ee",text:"Estonia"},{name:"Ethiopia",iso2:"et",dialCode:"251",priority:0,areaCodes:null,id:"et",text:"Ethiopia"},{name:"Falkland Islands",iso2:"fk",dialCode:"500",priority:0,areaCodes:null,id:"fk",text:"Falkland Islands"},{name:"Faroe Islands",iso2:"fo",dialCode:"298",priority:0,areaCodes:null,id:"fo",text:"Faroe Islands"},{name:"Fiji",iso2:"fj",dialCode:"679",priority:0,areaCodes:null,id:"fj",text:"Fiji"},{name:"Finland",iso2:"fi",dialCode:"358",priority:0,areaCodes:null,id:"fi",text:"Finland"},{name:"France",iso2:"fr",dialCode:"33",priority:0,areaCodes:null,id:"fr",text:"France"},{name:"French Guiana",iso2:"gf",dialCode:"594",priority:0,areaCodes:null,id:"gf",text:"French Guiana"},{name:"French Polynesia",iso2:"pf",dialCode:"689",priority:0,areaCodes:null,id:"pf",text:"French Polynesia"},{name:"Gabon",iso2:"ga",dialCode:"241",priority:0,areaCodes:null,id:"ga",text:"Gabon"},{name:"Gambia",iso2:"gm",dialCode:"220",priority:0,areaCodes:null,id:"gm",text:"Gambia"},{name:"Georgia",iso2:"ge",dialCode:"995",priority:0,areaCodes:null,id:"ge",text:"Georgia"},{name:"Germany",iso2:"de",dialCode:"49",priority:0,areaCodes:null,id:"de",text:"Germany"},{name:"Ghana",iso2:"gh",dialCode:"233",priority:0,areaCodes:null,id:"gh",text:"Ghana"},{name:"Gibraltar",iso2:"gi",dialCode:"350",priority:0,areaCodes:null,id:"gi",text:"Gibraltar"},{name:"Greece",iso2:"gr",dialCode:"30",priority:0,areaCodes:null,id:"gr",text:"Greece"},{name:"Greenland",iso2:"gl",dialCode:"299",priority:0,areaCodes:null,id:"gl",text:"Greenland"},{name:"Grenada",iso2:"gd",dialCode:"1473",priority:0,areaCodes:null,id:"gd",text:"Grenada"},{name:"Guadeloupe",iso2:"gp",dialCode:"590",priority:0,areaCodes:null,id:"gp",text:"Guadeloupe"},{name:"Guam",iso2:"gu",dialCode:"1671",priority:0,areaCodes:null,id:"gu",text:"Guam"},{name:"Guatemala",iso2:"gt",dialCode:"502",priority:0,areaCodes:null,id:"gt",text:"Guatemala"},{name:"Guernsey",iso2:"gg",dialCode:"44",priority:1,areaCodes:null,id:"gg",text:"Guernsey"},{name:"Guinea",iso2:"gn",dialCode:"224",priority:0,areaCodes:null,id:"gn",text:"Guinea"},{name:"Guinea-Bissau",iso2:"gw",dialCode:"245",priority:0,areaCodes:null,id:"gw",text:"Guinea-Bissau"},{name:"Guyana",iso2:"gy",dialCode:"592",priority:0,areaCodes:null,id:"gy",text:"Guyana"},{name:"Haiti",iso2:"ht",dialCode:"509",priority:0,areaCodes:null,id:"ht",text:"Haiti"},{name:"Honduras",iso2:"hn",dialCode:"504",priority:0,areaCodes:null,id:"hn",text:"Honduras"},{name:"Hong Kong",iso2:"hk",dialCode:"852",priority:0,areaCodes:null,id:"hk",text:"Hong Kong"},{name:"Hungary",iso2:"hu",dialCode:"36",priority:0,areaCodes:null,id:"hu",text:"Hungary"},{name:"Iceland",iso2:"is",dialCode:"354",priority:0,areaCodes:null,id:"is",text:"Iceland"},{name:"India",iso2:"in",dialCode:"91",priority:0,areaCodes:null,id:"in",text:"India"},{name:"Indonesia",iso2:"id",dialCode:"62",priority:0,areaCodes:null,id:"id",text:"Indonesia"},{name:"Iran",iso2:"ir",dialCode:"98",priority:0,areaCodes:null,id:"ir",text:"Iran"},{name:"Iraq",iso2:"iq",dialCode:"964",priority:0,areaCodes:null,id:"iq",text:"Iraq"},{name:"Ireland",iso2:"ie",dialCode:"353",priority:0,areaCodes:null,id:"ie",text:"Ireland"},{name:"Isle of Man",iso2:"im",dialCode:"44",priority:2,areaCodes:null,id:"im",text:"Isle of Man"},{name:"Israel",iso2:"il",dialCode:"972",priority:0,areaCodes:null,id:"il",text:"Israel"},{name:"Italy",iso2:"it",dialCode:"39",priority:0,areaCodes:null,id:"it",text:"Italy"},{name:"Jamaica",iso2:"jm",dialCode:"1876",priority:0,areaCodes:null,id:"jm",text:"Jamaica"},{name:"Japan",iso2:"jp",dialCode:"81",priority:0,areaCodes:null,id:"jp",text:"Japan"},{name:"Jersey",iso2:"je",dialCode:"44",priority:3,areaCodes:null,id:"je",text:"Jersey"},{name:"Jordan",iso2:"jo",dialCode:"962",priority:0,areaCodes:null,id:"jo",text:"Jordan"},{name:"Kazakhstan",iso2:"kz",dialCode:"7",priority:1,areaCodes:null,id:"kz",text:"Kazakhstan"},{name:"Kenya",iso2:"ke",dialCode:"254",priority:0,areaCodes:null,id:"ke",text:"Kenya"},{name:"Kiribati",iso2:"ki",dialCode:"686",priority:0,areaCodes:null,id:"ki",text:"Kiribati"},{name:"Kuwait",iso2:"kw",dialCode:"965",priority:0,areaCodes:null,id:"kw",text:"Kuwait"},{name:"Kyrgyzstan",iso2:"kg",dialCode:"996",priority:0,areaCodes:null,id:"kg",text:"Kyrgyzstan"},{name:"Laos",iso2:"la",dialCode:"856",priority:0,areaCodes:null,id:"la",text:"Laos"},{name:"Latvia",iso2:"lv",dialCode:"371",priority:0,areaCodes:null,id:"lv",text:"Latvia"},{name:"Lebanon",iso2:"lb",dialCode:"961",priority:0,areaCodes:null,id:"lb",text:"Lebanon"},{name:"Lesotho",iso2:"ls",dialCode:"266",priority:0,areaCodes:null,id:"ls",text:"Lesotho"},{name:"Liberia",iso2:"lr",dialCode:"231",priority:0,areaCodes:null,id:"lr",text:"Liberia"},{name:"Libya",iso2:"ly",dialCode:"218",priority:0,areaCodes:null,id:"ly",text:"Libya"},{name:"Liechtenstein",iso2:"li",dialCode:"423",priority:0,areaCodes:null,id:"li",text:"Liechtenstein"},{name:"Lithuania",iso2:"lt",dialCode:"370",priority:0,areaCodes:null,id:"lt",text:"Lithuania"},{name:"Luxembourg",iso2:"lu",dialCode:"352",priority:0,areaCodes:null,id:"lu",text:"Luxembourg"},{name:"Macau",iso2:"mo",dialCode:"853",priority:0,areaCodes:null,id:"mo",text:"Macau"},{name:"Macedonia",iso2:"mk",dialCode:"389",priority:0,areaCodes:null,id:"mk",text:"Macedonia"},{name:"Madagascar",iso2:"mg",dialCode:"261",priority:0,areaCodes:null,id:"mg",text:"Madagascar"},{name:"Malawi",iso2:"mw",dialCode:"265",priority:0,areaCodes:null,id:"mw",text:"Malawi"},{name:"Malaysia",iso2:"my",dialCode:"60",priority:0,areaCodes:null,id:"my",text:"Malaysia"},{name:"Maldives",iso2:"mv",dialCode:"960",priority:0,areaCodes:null,id:"mv",text:"Maldives"},{name:"Mali",iso2:"ml",dialCode:"223",priority:0,areaCodes:null,id:"ml",text:"Mali"},{name:"Malta",iso2:"mt",dialCode:"356",priority:0,areaCodes:null,id:"mt",text:"Malta"},{name:"Marshall Islands",iso2:"mh",dialCode:"692",priority:0,areaCodes:null,id:"mh",text:"Marshall Islands"},{name:"Martinique",iso2:"mq",dialCode:"596",priority:0,areaCodes:null,id:"mq",text:"Martinique"},{name:"Mauritania",iso2:"mr",dialCode:"222",priority:0,areaCodes:null,id:"mr",text:"Mauritania"},{name:"Mauritius",iso2:"mu",dialCode:"230",priority:0,areaCodes:null,id:"mu",text:"Mauritius"},{name:"Mayotte",iso2:"yt",dialCode:"262",priority:1,areaCodes:null,id:"yt",text:"Mayotte"},{name:"Mexico",iso2:"mx",dialCode:"52",priority:0,areaCodes:null,id:"mx",text:"Mexico"},{name:"Micronesia",iso2:"fm",dialCode:"691",priority:0,areaCodes:null,id:"fm",text:"Micronesia"},{name:"Moldova",iso2:"md",dialCode:"373",priority:0,areaCodes:null,id:"md",text:"Moldova"},{name:"Monaco",iso2:"mc",dialCode:"377",priority:0,areaCodes:null,id:"mc",text:"Monaco"},{name:"Mongolia",iso2:"mn",dialCode:"976",priority:0,areaCodes:null,id:"mn",text:"Mongolia"},{name:"Montenegro",iso2:"me",dialCode:"382",priority:0,areaCodes:null,id:"me",text:"Montenegro"},{name:"Montserrat",iso2:"ms",dialCode:"1664",priority:0,areaCodes:null,id:"ms",text:"Montserrat"},{name:"Morocco",iso2:"ma",dialCode:"212",priority:0,areaCodes:null,id:"ma",text:"Morocco"},{name:"Mozambique",iso2:"mz",dialCode:"258",priority:0,areaCodes:null,id:"mz",text:"Mozambique"},{name:"Myanmar",iso2:"mm",dialCode:"95",priority:0,areaCodes:null,id:"mm",text:"Myanmar"},{name:"Namibia",iso2:"na",dialCode:"264",priority:0,areaCodes:null,id:"na",text:"Namibia"},{name:"Nauru",iso2:"nr",dialCode:"674",priority:0,areaCodes:null,id:"nr",text:"Nauru"},{name:"Nepal",iso2:"np",dialCode:"977",priority:0,areaCodes:null,id:"np",text:"Nepal"},{name:"Netherlands",iso2:"nl",dialCode:"31",priority:0,areaCodes:null,id:"nl",text:"Netherlands"},{name:"New Caledonia",iso2:"nc",dialCode:"687",priority:0,areaCodes:null,id:"nc",text:"New Caledonia"},{name:"New Zealand",iso2:"nz",dialCode:"64",priority:0,areaCodes:null,id:"nz",text:"New Zealand"},{name:"Nicaragua",iso2:"ni",dialCode:"505",priority:0,areaCodes:null,id:"ni",text:"Nicaragua"},{name:"Niger",iso2:"ne",dialCode:"227",priority:0,areaCodes:null,id:"ne",text:"Niger"},{name:"Nigeria",iso2:"ng",dialCode:"234",priority:0,areaCodes:null,id:"ng",text:"Nigeria"},{name:"Niue",iso2:"nu",dialCode:"683",priority:0,areaCodes:null,id:"nu",text:"Niue"},{name:"Norfolk Island",iso2:"nf",dialCode:"672",priority:0,areaCodes:null,id:"nf",text:"Norfolk Island"},{name:"North Korea",iso2:"kp",dialCode:"850",priority:0,areaCodes:null,id:"kp",text:"North Korea"},{name:"Northern Mariana Islands",iso2:"mp",dialCode:"1670",priority:0,areaCodes:null,id:"mp",text:"Northern Mariana Islands"},{name:"Norway",iso2:"no",dialCode:"47",priority:0,areaCodes:null,id:"no",text:"Norway"},{name:"Oman",iso2:"om",dialCode:"968",priority:0,areaCodes:null,id:"om",text:"Oman"},{name:"Pakistan",iso2:"pk",dialCode:"92",priority:0,areaCodes:null,id:"pk",text:"Pakistan"},{name:"Palau",iso2:"pw",dialCode:"680",priority:0,areaCodes:null,id:"pw",text:"Palau"},{name:"Palestine",iso2:"ps",dialCode:"970",priority:0,areaCodes:null,id:"ps",text:"Palestine"},{name:"Panama",iso2:"pa",dialCode:"507",priority:0,areaCodes:null,id:"pa",text:"Panama"},{name:"Papua New Guinea",iso2:"pg",dialCode:"675",priority:0,areaCodes:null,id:"pg",text:"Papua New Guinea"},{name:"Paraguay",iso2:"py",dialCode:"595",priority:0,areaCodes:null,id:"py",text:"Paraguay"},{name:"Peru",iso2:"pe",dialCode:"51",priority:0,areaCodes:null,id:"pe",text:"Peru"},{name:"Philippines",iso2:"ph",dialCode:"63",priority:0,areaCodes:null,id:"ph",text:"Philippines"},{name:"Poland",iso2:"pl",dialCode:"48",priority:0,areaCodes:null,id:"pl",text:"Poland"},{name:"Portugal",iso2:"pt",dialCode:"351",priority:0,areaCodes:null,id:"pt",text:"Portugal"},{name:"Puerto Rico",iso2:"pr",dialCode:"1",priority:3,areaCodes:["787","939"],id:"pr",text:"Puerto Rico"},{name:"Qatar",iso2:"qa",dialCode:"974",priority:0,areaCodes:null,id:"qa",text:"Qatar"},{name:"R√©union",iso2:"re",dialCode:"262",priority:0,areaCodes:null,id:"re",text:"R√©union"},{name:"Romania",iso2:"ro",dialCode:"40",priority:0,areaCodes:null,id:"ro",text:"Romania"},{name:"Russia",iso2:"ru",dialCode:"7",priority:0,areaCodes:null,id:"ru",text:"Russia"},{name:"Rwanda",iso2:"rw",dialCode:"250",priority:0,areaCodes:null,id:"rw",text:"Rwanda"},{name:"Saint Barth√©lemy",iso2:"bl",dialCode:"590",priority:1,areaCodes:null,id:"bl",text:"Saint Barth√©lemy"},{name:"Saint Helena",iso2:"sh",dialCode:"290",priority:0,areaCodes:null,id:"sh",text:"Saint Helena"},{name:"Saint Kitts and Nevis",iso2:"kn",dialCode:"1869",priority:0,areaCodes:null,id:"kn",text:"Saint Kitts and Nevis"},{name:"Saint Lucia",iso2:"lc",dialCode:"1758",priority:0,areaCodes:null,id:"lc",text:"Saint Lucia"},{name:"Saint Martin",iso2:"mf",dialCode:"590",priority:2,areaCodes:null,id:"mf",text:"Saint Martin"},{name:"Saint Pierre and Miquelon",iso2:"pm",dialCode:"508",priority:0,areaCodes:null,id:"pm",text:"Saint Pierre and Miquelon"},{name:"Saint Vincent and the Grenadines",iso2:"vc",dialCode:"1784",priority:0,areaCodes:null,id:"vc",text:"Saint Vincent and the Grenadines"},{name:"Samoa",iso2:"ws",dialCode:"685",priority:0,areaCodes:null,id:"ws",text:"Samoa"},{name:"San Marino",iso2:"sm",dialCode:"378",priority:0,areaCodes:null,id:"sm",text:"San Marino"},{name:"S√£o Tom√© and Pr√ncipe",iso2:"st",dialCode:"239",priority:0,areaCodes:null,id:"st",text:"S√£o Tom√© and Pr√ncipe"},{name:"Saudi Arabia",iso2:"sa",dialCode:"966",priority:0,areaCodes:null,id:"sa",text:"Saudi Arabia"},{name:"Senegal",iso2:"sn",dialCode:"221",priority:0,areaCodes:null,id:"sn",text:"Senegal"},{name:"Serbia",iso2:"rs",dialCode:"381",priority:0,areaCodes:null,id:"rs",text:"Serbia"},{name:"Seychelles",iso2:"sc",dialCode:"248",priority:0,areaCodes:null,id:"sc",text:"Seychelles"},{name:"Sierra Leone",iso2:"sl",dialCode:"232",priority:0,areaCodes:null,id:"sl",text:"Sierra Leone"},{name:"Singapore",iso2:"sg",dialCode:"65",priority:0,areaCodes:null,id:"sg",text:"Singapore"},{name:"Sint Maarten",iso2:"sx",dialCode:"1721",priority:0,areaCodes:null,id:"sx",text:"Sint Maarten"},{name:"Slovakia",iso2:"sk",dialCode:"421",priority:0,areaCodes:null,id:"sk",text:"Slovakia"},{name:"Slovenia",iso2:"si",dialCode:"386",priority:0,areaCodes:null,id:"si",text:"Slovenia"},{name:"Solomon Islands",iso2:"sb",dialCode:"677",priority:0,areaCodes:null,id:"sb",text:"Solomon Islands"},{name:"Somalia",iso2:"so",dialCode:"252",priority:0,areaCodes:null,id:"so",text:"Somalia"},{name:"South Africa",iso2:"za",dialCode:"27",priority:0,areaCodes:null,id:"za",text:"South Africa"},{name:"South Korea",iso2:"kr",dialCode:"82",priority:0,areaCodes:null,id:"kr",text:"South Korea"},{name:"South Sudan",iso2:"ss",dialCode:"211",priority:0,areaCodes:null,id:"ss",text:"South Sudan"},{name:"Spain",iso2:"es",dialCode:"34",priority:0,areaCodes:null,id:"es",text:"Spain"},{name:"Sri Lanka",iso2:"lk",dialCode:"94",priority:0,areaCodes:null,id:"lk",text:"Sri Lanka"},{name:"Sudan",iso2:"sd",dialCode:"249",priority:0,areaCodes:null,id:"sd",text:"Sudan"},{name:"Suriname",iso2:"sr",dialCode:"597",priority:0,areaCodes:null,id:"sr",text:"Suriname"},{name:"Svalbard and Jan Mayen",iso2:"sj",dialCode:"47",priority:1,areaCodes:null,id:"sj",text:"Svalbard and Jan Mayen"},{name:"Swaziland",iso2:"sz",dialCode:"268",priority:0,areaCodes:null,id:"sz",text:"Swaziland"},{name:"Sweden",iso2:"se",dialCode:"46",priority:0,areaCodes:null,id:"se",text:"Sweden"},{name:"Switzerland",iso2:"ch",dialCode:"41",priority:0,areaCodes:null,id:"ch",text:"Switzerland"},{name:"Syria",iso2:"sy",dialCode:"963",priority:0,areaCodes:null,id:"sy",text:"Syria"},{name:"Taiwan",iso2:"tw",dialCode:"886",priority:0,areaCodes:null,id:"tw",text:"Taiwan"},{name:"Tajikistan",iso2:"tj",dialCode:"992",priority:0,areaCodes:null,id:"tj",text:"Tajikistan"},{name:"Tanzania",iso2:"tz",dialCode:"255",priority:0,areaCodes:null,id:"tz",text:"Tanzania"},{name:"Thailand",iso2:"th",dialCode:"66",priority:0,areaCodes:null,id:"th",text:"Thailand"},{name:"Timor-Leste",iso2:"tl",dialCode:"670",priority:0,areaCodes:null,id:"tl",text:"Timor-Leste"},{name:"Togo",iso2:"tg",dialCode:"228",priority:0,areaCodes:null,id:"tg",text:"Togo"},{name:"Tokelau",iso2:"tk",dialCode:"690",priority:0,areaCodes:null,id:"tk",text:"Tokelau"},{name:"Tonga",iso2:"to",dialCode:"676",priority:0,areaCodes:null,id:"to",text:"Tonga"},{name:"Trinidad and Tobago",iso2:"tt",dialCode:"1868",priority:0,areaCodes:null,id:"tt",text:"Trinidad and Tobago"},{name:"Tunisia",iso2:"tn",dialCode:"216",priority:0,areaCodes:null,id:"tn",text:"Tunisia"},{name:"Turkey",iso2:"tr",dialCode:"90",priority:0,areaCodes:null,id:"tr",text:"Turkey"},{name:"Turkmenistan",iso2:"tm",dialCode:"993",priority:0,areaCodes:null,id:"tm",text:"Turkmenistan"},{name:"Turks and Caicos Islands",iso2:"tc",dialCode:"1649",priority:0,areaCodes:null,id:"tc",text:"Turks and Caicos Islands"},{name:"Tuvalu",iso2:"tv",dialCode:"688",priority:0,areaCodes:null,id:"tv",text:"Tuvalu"},{name:"U.S. Virgin Islands",iso2:"vi",dialCode:"1340",priority:0,areaCodes:null,id:"vi",text:"U.S. Virgin Islands"},{name:"Uganda",iso2:"ug",dialCode:"256",priority:0,areaCodes:null,id:"ug",text:"Uganda"},{name:"Ukraine",iso2:"ua",dialCode:"380",priority:0,areaCodes:null,id:"ua",text:"Ukraine"},{name:"United Arab Emirates",iso2:"ae",dialCode:"971",priority:0,areaCodes:null,id:"ae",text:"United Arab Emirates"},{name:"United Kingdom",iso2:"gb",dialCode:"44",priority:0,areaCodes:null,id:"gb",text:"United Kingdom"},{name:"United States",iso2:"us",dialCode:"1",priority:0,areaCodes:null,id:"us",text:"United States"},{name:"Uruguay",iso2:"uy",dialCode:"598",priority:0,areaCodes:null,id:"uy",text:"Uruguay"},{name:"Uzbekistan",iso2:"uz",dialCode:"998",priority:0,areaCodes:null,id:"uz",text:"Uzbekistan"},{name:"Vanuatu",iso2:"vu",dialCode:"678",priority:0,areaCodes:null,id:"vu",text:"Vanuatu"},{name:"Vatican City",iso2:"va",dialCode:"39",priority:1,areaCodes:null,id:"va",text:"Vatican City"},{name:"Venezuela",iso2:"ve",dialCode:"58",priority:0,areaCodes:null,id:"ve",text:"Venezuela"},{name:"Vietnam",iso2:"vn",dialCode:"84",priority:0,areaCodes:null,id:"vn",text:"Vietnam"},{name:"Wallis and Futuna",iso2:"wf",dialCode:"681",priority:0,areaCodes:null,id:"wf",text:"Wallis and Futuna"},{name:"Western Sahara",iso2:"eh",dialCode:"212",priority:1,areaCodes:null,id:"eh",text:"Western Sahara"},{name:"Yemen",iso2:"ye",dialCode:"967",priority:0,areaCodes:null,id:"ye",text:"Yemen"},{name:"Zambia",iso2:"zm",dialCode:"260",priority:0,areaCodes:null,id:"zm",text:"Zambia"},{name:"Zimbabwe",iso2:"zw",dialCode:"263",priority:0,areaCodes:null,id:"zw",text:"Zimbabwe"},{name:"√Öland Islands",iso2:"ax",dialCode:"358",priority:1,areaCodes:null,id:"ax",text:"√Öland Islands"}];this.COUNTRY_MAP={af:"Afghanistan",al:"Albania",dz:"Algeria",as:"American Samoa",ad:"Andorra",ao:"Angola",ai:"Anguilla",ag:"Antigua and Barbuda",ar:"Argentina",am:"Armenia",aw:"Aruba",au:"Australia",at:"Austria",az:"Azerbaijan",bs:"Bahamas",bh:"Bahrain",bd:"Bangladesh",bb:"Barbados",by:"Belarus",be:"Belgium",bz:"Belize",bj:"Benin",bm:"Bermuda",bt:"Bhutan",bo:"Bolivia",ba:"Bosnia and Herzegovina",bw:"Botswana",br:"Brazil",io:"British Indian Ocean Territory",vg:"British Virgin Islands",bn:"Brunei",bg:"Bulgaria",bf:"Burkina Faso",bi:"Burundi",kh:"Cambodia",cm:"Cameroon",ca:"Canada",cv:"Cape Verde",bq:"Caribbean Netherlands",ky:"Cayman Islands",cf:"Central African Republic",td:"Chad",cl:"Chile",cn:"China",cx:"Christmas Island",cc:"Cocos",co:"Colombia",km:"Comoros",cd:"Congo",cg:"Congo",ck:"Cook Islands",cr:"Costa Rica",ci:"C√¥te d‚ÄôIvoire",hr:"Croatia",cu:"Cuba",cw:"Cura√ßao",cy:"Cyprus",cz:"Czech Republic",dk:"Denmark",dj:"Djibouti",dm:"Dominica","do":"Dominican Republic",ec:"Ecuador",eg:"Egypt",sv:"El Salvador",gq:"Equatorial Guinea",er:"Eritrea",ee:"Estonia",et:"Ethiopia",fk:"Falkland Islands",fo:"Faroe Islands",fj:"Fiji",fi:"Finland",fr:"France",gf:"French Guiana",pf:"French Polynesia",ga:"Gabon",gm:"Gambia",ge:"Georgia",de:"Germany",gh:"Ghana",gi:"Gibraltar",gr:"Greece",gl:"Greenland",gd:"Grenada",gp:"Guadeloupe",gu:"Guam",gt:"Guatemala",gg:"Guernsey",gn:"Guinea",gw:"Guinea-Bissau",gy:"Guyana",ht:"Haiti",hn:"Honduras",hk:"Hong Kong",hu:"Hungary",is:"Iceland","in":"India",id:"Indonesia",ir:"Iran",iq:"Iraq",ie:"Ireland",im:"Isle of Man",il:"Israel",it:"Italy",jm:"Jamaica",jp:"Japan",je:"Jersey",jo:"Jordan",kz:"Kazakhstan",ke:"Kenya",ki:"Kiribati",kw:"Kuwait",kg:"Kyrgyzstan",la:"Laos",lv:"Latvia",lb:"Lebanon",ls:"Lesotho",lr:"Liberia",ly:"Libya",li:"Liechtenstein",lt:"Lithuania",lu:"Luxembourg",mo:"Macau",mk:"Macedonia",mg:"Madagascar",mw:"Malawi",my:"Malaysia",mv:"Maldives",ml:"Mali",mt:"Malta",mh:"Marshall Islands",mq:"Martinique",mr:"Mauritania",mu:"Mauritius",yt:"Mayotte",mx:"Mexico",fm:"Micronesia",md:"Moldova",mc:"Monaco",mn:"Mongolia",me:"Montenegro",ms:"Montserrat",ma:"Morocco",mz:"Mozambique",mm:"Myanmar",na:"Namibia",nr:"Nauru",np:"Nepal",nl:"Netherlands",nc:"New Caledonia",nz:"New Zealand",ni:"Nicaragua",ne:"Niger",ng:"Nigeria",nu:"Niue",nf:"Norfolk Island",kp:"North Korea",mp:"Northern Mariana Islands",no:"Norway",om:"Oman",pk:"Pakistan",pw:"Palau",ps:"Palestine",pa:"Panama",pg:"Papua New Guinea",py:"Paraguay",pe:"Peru",ph:"Philippines",pl:"Poland",pt:"Portugal",pr:"Puerto Rico",qa:"Qatar",re:"R√©union",ro:"Romania",ru:"Russia",rw:"Rwanda",bl:"Saint Barth√©lemy",sh:"Saint Helena",kn:"Saint Kitts and Nevis",lc:"Saint Lucia",mf:"Saint Martin",pm:"Saint Pierre and Miquelon",vc:"Saint Vincent and the Grenadines",ws:"Samoa",sm:"San Marino",st:"S√£o Tom√© and Pr√ncipe",sa:"Saudi Arabia",sn:"Senegal",rs:"Serbia",sc:"Seychelles",sl:"Sierra Leone",sg:"Singapore",sx:"Sint Maarten",sk:"Slovakia",si:"Slovenia",sb:"Solomon Islands",so:"Somalia",za:"South Africa",kr:"South Korea",ss:"South Sudan",es:"Spain",lk:"Sri Lanka",sd:"Sudan",sr:"Suriname",sj:"Svalbard and Jan Mayen",sz:"Swaziland",se:"Sweden",ch:"Switzerland",sy:"Syria",tw:"Taiwan",tj:"Tajikistan",tz:"Tanzania",th:"Thailand",tl:"Timor-Leste",tg:"Togo",tk:"Tokelau",to:"Tonga",tt:"Trinidad and Tobago",tn:"Tunisia",tr:"Turkey",tm:"Turkmenistan",tc:"Turks and Caicos Islands",tv:"Tuvalu",vi:"U.S. Virgin Islands",ug:"Uganda",ua:"Ukraine",ae:"United Arab Emirates",gb:"United Kingdom",us:"United States",uy:"Uruguay",uz:"Uzbekistan",vu:"Vanuatu",va:"Vatican City",ve:"Venezuela",vn:"Vietnam",wf:"Wallis and Futuna",eh:"Western Sahara",ye:"Yemen",zm:"Zambia",zw:"Zimbabwe",ax:"√Öland Islands"};this.INVERTED_COUNTRY_MAP={afghanistan:"af",albania:"al",algeria:"dz","american samoa":"as",andorra:"ad",angola:"ao",anguilla:"ai","antigua and barbuda":"ag",argentina:"ar",armenia:"am",aruba:"aw",australia:"au",austria:"at",azerbaijan:"az",bahamas:"bs",bahrain:"bh",bangladesh:"bd",barbados:"bb",belarus:"by",belgium:"be",belize:"bz",benin:"bj",bermuda:"bm",bhutan:"bt",bolivia:"bo","bosnia and herzegovina":"ba",botswana:"bw",brazil:"br","british indian ocean territory":"io","british virgin islands":"vg",brunei:"bn",bulgaria:"bg","burkina faso":"bf",burundi:"bi",cambodia:"kh",cameroon:"cm",canada:"ca","cape verde":"cv","caribbean netherlands":"bq","cayman islands":"ky","central african republic":"cf",chad:"td",chile:"cl",china:"cn","christmas island":"cx",cocos:"cc",colombia:"co",comoros:"km",congo:"cg","cook islands":"ck","costa rica":"cr","c√¥te d‚Äôivoire":"ci",croatia:"hr",cuba:"cu","cura√ßao":"cw",cyprus:"cy","czech republic":"cz",denmark:"dk",djibouti:"dj",dominica:"dm","dominican republic":"do",ecuador:"ec",egypt:"eg","el salvador":"sv","equatorial guinea":"gq",eritrea:"er",estonia:"ee",ethiopia:"et","falkland islands":"fk","faroe islands":"fo",fiji:"fj",finland:"fi",france:"fr","french guiana":"gf","french polynesia":"pf",gabon:"ga",gambia:"gm",georgia:"ge",germany:"de",ghana:"gh",gibraltar:"gi",greece:"gr",greenland:"gl",grenada:"gd",guadeloupe:"gp",guam:"gu",guatemala:"gt",guernsey:"gg",guinea:"gn","guinea-bissau":"gw",guyana:"gy",haiti:"ht",honduras:"hn","hong kong":"hk",hungary:"hu",iceland:"is",india:"in",indonesia:"id",iran:"ir",iraq:"iq",ireland:"ie","isle of man":"im",israel:"il",italy:"it",jamaica:"jm",japan:"jp",jersey:"je",jordan:"jo",kazakhstan:"kz",kenya:"ke",kiribati:"ki",kuwait:"kw",kyrgyzstan:"kg",laos:"la",latvia:"lv",lebanon:"lb",lesotho:"ls",liberia:"lr",libya:"ly",liechtenstein:"li",lithuania:"lt",luxembourg:"lu",macau:"mo",macedonia:"mk",madagascar:"mg",malawi:"mw",malaysia:"my",maldives:"mv",mali:"ml",malta:"mt","marshall islands":"mh",martinique:"mq",mauritania:"mr",mauritius:"mu",mayotte:"yt",mexico:"mx",micronesia:"fm",moldova:"md",monaco:"mc",mongolia:"mn",montenegro:"me",montserrat:"ms",morocco:"ma",mozambique:"mz",myanmar:"mm",namibia:"na",nauru:"nr",nepal:"np",netherlands:"nl","new caledonia":"nc","new zealand":"nz",nicaragua:"ni",niger:"ne",nigeria:"ng",niue:"nu","norfolk island":"nf","north korea":"kp","northern mariana islands":"mp",norway:"no",oman:"om",pakistan:"pk",palau:"pw",palestine:"ps",panama:"pa","papua new guinea":"pg",paraguay:"py",peru:"pe",philippines:"ph",poland:"pl",portugal:"pt","puerto rico":"pr",qatar:"qa","r√©union":"re",romania:"ro",russia:"ru",rwanda:"rw","saint barth√©lemy":"bl","saint helena":"sh","saint kitts and nevis":"kn","saint lucia":"lc","saint martin":"mf","saint pierre and miquelon":"pm","saint vincent and the grenadines":"vc",samoa:"ws","san marino":"sm","s√£o tom√© and pr√ncipe":"st","saudi arabia":"sa",senegal:"sn",serbia:"rs",seychelles:"sc","sierra leone":"sl",singapore:"sg","sint maarten":"sx",slovakia:"sk",slovenia:"si","solomon islands":"sb",somalia:"so","south africa":"za","south korea":"kr","south sudan":"ss",spain:"es","sri lanka":"lk",sudan:"sd",suriname:"sr","svalbard and jan mayen":"sj",swaziland:"sz",sweden:"se",switzerland:"ch",syria:"sy",taiwan:"tw",tajikistan:"tj",tanzania:"tz",thailand:"th","timor-leste":"tl",togo:"tg",tokelau:"tk",tonga:"to","trinidad and tobago":"tt",tunisia:"tn",turkey:"tr",turkmenistan:"tm","turks and caicos islands":"tc",tuvalu:"tv","u.s. virgin islands":"vi",uganda:"ug",ukraine:"ua","united arab emirates":"ae","united kingdom":"gb","united states":"us",uruguay:"uy",uzbekistan:"uz",vanuatu:"vu","vatican city":"va",venezuela:"ve",vietnam:"vn","wallis and futuna":"wf","western sahara":"eh",yemen:"ye",zambia:"zm",zimbabwe:"zw","√•land islands":"ax"};this.COUNTRY_COORDINATES={AD:{country_name:"Andorra",lon:"1.601554",lat:"42.546245"},AE:{country_name:"United Arab Emirates",lon:"53.847818",lat:"23.424076"},AF:{country_name:"Afghanistan",lon:"67.709953",lat:"33.93911"},AG:{country_name:"Antigua and Barbuda",lon:"-61.796428",lat:"17.060816"},AI:{country_name:"Anguilla",lon:"-63.068615",lat:"18.220554"},AL:{country_name:"Albania",lon:"20.168331",lat:"41.153332"},AM:{country_name:"Armenia",lon:"45.038189",lat:"40.069099"},AO:{country_name:"Angola",lon:"17.873887",lat:"-11.202692"},AQ:{country_name:"Antarctica",lon:"-0.071389",lat:"-75.250973"},AR:{country_name:"Argentina",lon:"-63.616672",lat:"-38.416097"},AS:{country_name:"American Samoa",lon:"-170.132217",lat:"-14.270972"},AT:{country_name:"Austria",lon:"14.550072",lat:"47.516231"},AU:{country_name:"Australia",lon:"133.775136",lat:"-25.274398"},AW:{country_name:"Aruba",lon:"-69.968338",lat:"12.52111"},AX:{country_name:"Aland Islands",lon:"19.9156105",lat:"60.1785247"},AZ:{country_name:"Azerbaijan",lon:"47.576927",lat:"40.143105"},BA:{country_name:"Bosnia and Herzegovina",lon:"17.679076",lat:"43.915886"},BB:{country_name:"Barbados",lon:"-59.543198",lat:"13.193887"},BD:{country_name:"Bangladesh",lon:"90.356331",lat:"23.684994"},BE:{country_name:"Belgium",lon:"4.469936",lat:"50.503887"},BF:{country_name:"Burkina Faso",lon:"-1.561593",lat:"12.238333"},BG:{country_name:"Bulgaria",lon:"25.48583",lat:"42.733883"},BH:{country_name:"Bahrain",lon:"50.637772",lat:"25.930414"},BI:{country_name:"Burundi",lon:"29.918886",lat:"-3.373056"},BJ:{country_name:"Benin",lon:"2.315834",lat:"9.30769"},BL:{country_name:"Saint Barthelemy",lon:"-62.832994",lat:"17.903778"},BM:{country_name:"Bermuda",lon:"-64.75737",lat:"32.321384"},BN:{country_name:"Brunei",lon:"114.727669",lat:"4.535277"},BO:{country_name:"Bolivia",lon:"-63.588653",lat:"-16.290154"},BQ:{country_name:"Bonaire",lon:"-68.262382",lat:"12.20189"},BR:{country_name:"Brazil",lon:"-51.92528",lat:"-14.235004"},BS:{country_name:"The Bahamas",lon:"-77.39628",lat:"25.03428"},BT:{country_name:"Bhutan",lon:"90.433601",lat:"27.514162"},BV:{country_name:"Bouvet Island",lon:"3.413194",lat:"-54.423199"},BW:{country_name:"Botswana",lon:"24.684866",lat:"-22.328474"},BY:{country_name:"Belarus",lon:"27.953389",lat:"53.709807"},BZ:{country_name:"Belize",lon:"-88.49765",lat:"17.189877"},CA:{country_name:"Canada",lon:"-106.346771",lat:"56.130366"},CC:{country_name:"Cocos [Keeling] Islands",lon:"96.870956",lat:"-12.164165"},CD:{country_name:"Democratic Republic of the Congo",lon:"21.758664",lat:"-4.038333"},CF:{country_name:"Central African Republic",lon:"20.939444",lat:"6.611111"},CG:{country_name:"Congo-Brazzaville",lon:"15.827659",lat:"-0.228021"},CH:{country_name:"Switzerland",lon:"8.227512",lat:"46.818188"},CI:{country_name:"C√¥te d‚ÄôIvoire",lon:"-5.54708",lat:"7.539989"},CK:{country_name:"Cook Islands",lon:"-159.777671",lat:"-21.236736"},CL:{country_name:"Chile",lon:"-71.542969",lat:"-35.675147"},CM:{country_name:"Cameroon",lon:"12.354722",lat:"7.369722"},CN:{country_name:"China",lon:"104.195397",lat:"35.86166"},CO:{country_name:"Colombia",lon:"-74.297333",lat:"4.570868"},CR:{country_name:"Costa Rica",lon:"-83.753428",lat:"9.748917"},CU:{country_name:"Cuba",lon:"-77.781167",lat:"21.521757"},CV:{country_name:"Cape Verde",lon:"-24.013197",lat:"16.002082"},CW:{country_name:"Curacao",lon:"-68.988141",lat:"12.188002"},CX:{country_name:"Christmas Island",lon:"105.690449",lat:"-10.447525"},CY:{country_name:"Cyprus",lon:"33.429859",lat:"35.126413"},CZ:{country_name:"Czech Republic",lon:"15.472962",lat:"49.817492"},DE:{country_name:"Germany",lon:"10.451526",lat:"51.165691"},DJ:{country_name:"Djibouti",lon:"42.590275",lat:"11.825138"},DK:{country_name:"Denmark",lon:"9.501785",lat:"56.26392"},DM:{country_name:"Dominica",lon:"-61.370976",lat:"15.414999"},DO:{country_name:"Dominican Republic",lon:"-70.162651",lat:"18.735693"},DZ:{country_name:"Algeria",lon:"1.659626",lat:"28.033886"},EC:{country_name:"Ecuador",lon:"-78.183406",lat:"-1.831239"},EE:{country_name:"Estonia",lon:"25.013607",lat:"58.595272"},EG:{country_name:"Egypt",lon:"30.802498",lat:"26.820553"},EH:{country_name:"Sahrawi Arab Democratic Republic",lon:"-12.885834",lat:"24.215527"},ER:{country_name:"Eritrea",lon:"39.782334",lat:"15.179384"},ES:{country_name:"Spain",lon:"-3.74922",lat:"40.463667"},ET:{country_name:"Ethiopia",lon:"40.489673",lat:"9.145"},FI:{country_name:"Finland",lon:"25.748151",lat:"61.92411"},FJ:{country_name:"Fiji",lon:"179.414413",lat:"-16.578193"},FK:{country_name:"Falkland Islands",lon:"-59.523613",lat:"-51.796253"},FM:{country_name:"Federated States of Micronesia",lon:"150.550812",lat:"7.425554"},FO:{country_name:"Faroe Islands",lon:"-6.911806",lat:"61.892635"},FR:{country_name:"France",lon:"2.213749",lat:"46.227638"},GA:{country_name:"Gabon",lon:"11.609444",lat:"-0.803689"},GB:{country_name:"United Kingdom",lon:"-3.435973",lat:"55.378051"},GD:{country_name:"Grenada",lon:"-61.604171",lat:"12.262776"},GE:{country_name:"Georgia",lon:"43.356892",lat:"42.315407"},GF:{country_name:"French Guiana",lon:"-53.125782",lat:"3.933889"},GG:{country_name:"Guernsey",lon:"-2.585278",lat:"49.465691"},GH:{country_name:"Ghana",lon:"-1.023194",lat:"7.946527"},GI:{country_name:"Gibraltar",lon:"-5.345374",lat:"36.137741"},GL:{country_name:"Greenland",lon:"-42.604303",lat:"71.706936"},GM:{country_name:"Gambia",lon:"-15.310139",lat:"13.443182"},GN:{country_name:"Guinea",lon:"-9.696645",lat:"9.945587"},GP:{country_name:"Guadeloupe",lon:"-62.067641",lat:"16.995971"},GQ:{country_name:"Equatorial Guinea",lon:"10.267895",lat:"1.650801"},GR:{country_name:"Greece",lon:"21.824312",lat:"39.074208"},GS:{country_name:"South Georgia and the South Sandwich Islands",lon:"-36.587909",lat:"-54.429579"},GT:{country_name:"Guatemala",lon:"-90.230759",lat:"15.783471"},GU:{country_name:"Guam",lon:"144.793731",lat:"13.444304"},GW:{country_name:"Guinea-Bissau",lon:"-15.180413",lat:"11.803749"},GY:{country_name:"Guyana",lon:"-58.93018",lat:"4.860416"},HK:{country_name:"Hong Kong",lon:"114.109497",lat:"22.396428"},HM:{country_name:"Heard Island and McDonald Islands",lon:"73.504158",lat:"-53.08181"},HN:{country_name:"Honduras",lon:"-86.241905",lat:"15.199999"},HR:{country_name:"Croatia",lon:"15.2",lat:"45.1"},HT:{country_name:"Haiti",lon:"-72.285215",lat:"18.971187"},HU:{country_name:"Hungary",lon:"19.503304",lat:"47.162494"},ID:{country_name:"Indonesia",lon:"113.921327",lat:"-0.789275"},IE:{country_name:"Ireland",lon:"-8.24389",lat:"53.41291"},IL:{country_name:"Israel",lon:"34.851612",lat:"31.046051"},IM:{country_name:"Isle of Man",lon:"-4.548056",lat:"54.236107"},IN:{country_name:"India",lon:"78.96288",lat:"20.593684"},IO:{country_name:"British Indian Ocean Territory",lon:"71.876519",lat:"-6.343194"},IQ:{country_name:"Iraq",lon:"43.679291",lat:"33.223191"},IR:{country_name:"Iran",lon:"53.688046",lat:"32.427908"},IS:{country_name:"Iceland",lon:"-19.020835",lat:"64.963051"},IT:{country_name:"Italy",lon:"12.56738",lat:"41.87194"},JE:{country_name:"Jersey",lon:"-2.13125",lat:"49.214439"},JM:{country_name:"Jamaica",lon:"-77.297508",lat:"18.109581"},JO:{country_name:"Jordan",lon:"36.238414",lat:"30.585164"},JP:{country_name:"Japan",lon:"138.252924",lat:"36.204824"},KE:{country_name:"Kenya",lon:"37.906193",lat:"-0.023559"},KG:{country_name:"Kyrgyzstan",lon:"74.766098",lat:"41.20438"},KH:{country_name:"Cambodia",lon:"104.990963",lat:"12.565679"},KI:{country_name:"Kiribati",lon:"-168.734039",lat:"-3.370417"},KM:{country_name:"Comoros",lon:"43.872219",lat:"-11.875001"},KN:{country_name:"Saint Kitts and Nevis",lon:"-62.782998",lat:"17.357822"},KP:{country_name:"North Korea",lon:"127.510093",lat:"40.339852"},KR:{country_name:"South Korea",lon:"127.766922",lat:"35.907757"},KW:{country_name:"Kuwait",lon:"47.481766",lat:"29.31166"},KY:{country_name:"Cayman Islands",lon:"-80.566956",lat:"19.513469"},KZ:{country_name:"Kazakhstan",lon:"66.923684",lat:"48.019573"},LA:{country_name:"Laos",lon:"102.495496",lat:"19.85627"},LB:{country_name:"Lebanon",lon:"35.862285",lat:"33.854721"},LC:{country_name:"Saint Lucia",lon:"-60.978893",lat:"13.909444"},LI:{country_name:"Liechtenstein",lon:"9.555373",lat:"47.166"},LK:{country_name:"Sri Lanka",lon:"80.771797",lat:"7.873054"},LR:{country_name:"Liberia",lon:"-9.429499",lat:"6.428055"},LS:{country_name:"Lesotho",lon:"28.233608",lat:"-29.609988"},LT:{country_name:"Lithuania",lon:"23.881275",lat:"55.169438"},LU:{country_name:"Luxembourg",lon:"6.129583",lat:"49.815273"},LV:{country_name:"Latvia",lon:"24.603189",lat:"56.879635"},LY:{country_name:"Libya",lon:"17.228331",lat:"26.3351"},MA:{country_name:"Morocco",lon:"-7.09262",lat:"31.791702"},MC:{country_name:"Monaco",lon:"7.412841",lat:"43.750298"},MD:{country_name:"Moldova",lon:"28.369885",lat:"47.411631"},ME:{country_name:"Montenegro",lon:"19.37439",lat:"42.708678"},MF:{country_name:"Saint Martin",lon:"-63.050402",lat:"18.07538"},MG:{country_name:"Madagascar",lon:"46.869107",lat:"-18.766947"},MH:{country_name:"Marshall Islands",lon:"171.184478",lat:"7.131474"},MK:{country_name:"Macedonia",lon:"21.745275",lat:"41.608635"},ML:{country_name:"Mali",lon:"-3.996166",lat:"17.570692"},MM:{country_name:"Myanmar",lon:"95.956223",lat:"21.913965"},MN:{country_name:"Mongolia",lon:"103.846656",lat:"46.862496"},MO:{country_name:"Macau",lon:"113.543873",lat:"22.198745"},MP:{country_name:"Northern Mariana Islands",lon:"145.38469",lat:"17.33083"},MQ:{country_name:"Martinique",lon:"-61.024174",lat:"14.641528"},MR:{country_name:"Mauritania",lon:"-10.940835",lat:"21.00789"},MS:{country_name:"Montserrat",lon:"-62.187366",lat:"16.742498"},MT:{country_name:"Malta",lon:"14.375416",lat:"35.937496"},MU:{country_name:"Mauritius",lon:"57.552152",lat:"-20.348404"},MV:{country_name:"Maldives",lon:"73.22068",lat:"3.202778"},MW:{country_name:"Malawi",lon:"34.301525",lat:"-13.254308"},MX:{country_name:"Mexico",lon:"-102.552784",lat:"23.634501"},MY:{country_name:"Malaysia",lon:"101.975766",lat:"4.210484"},MZ:{country_name:"Mozambique",lon:"35.529562",lat:"-18.665695"},NA:{country_name:"Namibia",lon:"18.49041",lat:"-22.95764"},NC:{country_name:"New Caledonia",lon:"165.618042",lat:"-20.904305"},NE:{country_name:"Niger",lon:"8.081666",lat:"17.607789"},NF:{country_name:"Norfolk Island",lon:"167.954712",lat:"-29.040835"},NG:{country_name:"Nigeria",lon:"8.675277",lat:"9.081999"},NI:{country_name:"Nicaragua",lon:"-85.207229",lat:"12.865416"},NL:{country_name:"The Netherlands",lon:"5.291266",lat:"52.132633"},NO:{country_name:"Norway",lon:"8.468946",lat:"60.472024"},NP:{country_name:"Nepal",lon:"84.124008",lat:"28.394857"},NR:{country_name:"Nauru",lon:"166.931503",lat:"-0.522778"},NU:{country_name:"Niue",lon:"-169.867233",lat:"-19.054445"},NZ:{country_name:"New Zealand",lon:"174.885971",lat:"-40.900557"},OM:{country_name:"Oman",lon:"55.923255",lat:"21.512583"},PA:{country_name:"Panama",lon:"-80.782127",lat:"8.537981"},PE:{country_name:"Peru",lon:"-75.015152",lat:"-9.189967"},PF:{country_name:"French Polynesia",lon:"-149.406843",lat:"-17.679742"},PG:{country_name:"Papua New Guinea",lon:"143.95555",lat:"-6.314993"},PH:{country_name:"Philippines",lon:"121.774017",lat:"12.879721"},PK:{country_name:"Pakistan",lon:"69.345116",lat:"30.375321"},PL:{country_name:"Poland",lon:"19.145136",lat:"51.919438"},PM:{country_name:"Saint Pierre and Miquelon",lon:"-56.27111",lat:"46.941936"},PN:{country_name:"Pitcairn Islands",lon:"-127.439308",lat:"-24.703615"},PR:{country_name:"Puerto Rico",lon:"-66.590149",lat:"18.220833"},PS:{country_name:"Palestine",lon:"35.233154",lat:"31.952162"},PT:{country_name:"Portugal",lon:"-8.224454",lat:"39.399872"},PW:{country_name:"Palau",lon:"134.58252",lat:"7.51498"},PY:{country_name:"Paraguay",lon:"-58.443832",lat:"-23.442503"},QA:{country_name:"Qatar",lon:"51.183884",lat:"25.354826"},RE:{country_name:"Reunion",lon:"55.536384",lat:"-21.115141"},RO:{country_name:"Romania",lon:"24.96676",lat:"45.943161"},RS:{country_name:"Serbia",lon:"21.005859",lat:"44.016521"},RU:{country_name:"Russian Federation",lon:"105.318756",lat:"61.52401"},RW:{country_name:"Rwanda",lon:"29.873888",lat:"-1.940278"},SA:{country_name:"Saudi Arabia",lon:"45.079162",lat:"23.885942"},SB:{country_name:"Solomon Islands",lon:"160.156194",lat:"-9.64571"},SC:{country_name:"Seychelles",lon:"55.491977",lat:"-4.679574"},SD:{country_name:"Sudan",lon:"30.217636",lat:"12.862807"},SE:{country_name:"Sweden",lon:"18.643501",lat:"60.128161"},SG:{country_name:"Singapore",lon:"103.819836",lat:"1.352083"},SH:{country_name:"Saint Helena Ascension and Tristan da Cunha",lon:"-10.030696",lat:"-24.143474"},SI:{country_name:"Slovenia",lon:"14.995463",lat:"46.151241"},SJ:{country_name:"Svalbard and Jan Mayen",lon:"23.670272",lat:"77.553604"},SK:{country_name:"Slovakia",lon:"19.699024",lat:"48.669026"},SL:{country_name:"Sierra Leone",lon:"-11.779889",lat:"8.460555"},SM:{country_name:"San Marino",lon:"12.457777",lat:"43.94236"},SN:{country_name:"Senegal",lon:"-14.452362",lat:"14.497401"},SO:{country_name:"Somalia",lon:"46.199616",lat:"5.152149"},SR:{country_name:"Suriname",lon:"-56.027783",lat:"3.919305"},SS:{country_name:"South Sudan",lon:"31.307",lat:"6.877"},ST:{country_name:"S√£o Tom√© and Pr√ncipe",lon:"6.613081",lat:"0.18636"},SV:{country_name:"El Salvador",lon:"-88.89653",lat:"13.794185"},SX:{country_name:"Sint Maarten",lon:"-63.054828",lat:"18.042625"},SY:{country_name:"Syria",lon:"38.996815",lat:"34.802075"},SZ:{country_name:"Swaziland",lon:"31.465866",lat:"-26.522503"},TC:{country_name:"Turks and Caicos Islands",lon:"-71.797928",lat:"21.694025"},TD:{country_name:"Chad",lon:"18.732207",lat:"15.454166"},TF:{country_name:"French Southern Territories",lon:"69.348557",lat:"-49.280366"},TG:{country_name:"Togo",lon:"0.824782",lat:"8.619543"},TH:{country_name:"Thailand",lon:"100.992541",lat:"15.870032"},TJ:{country_name:"Tajikistan",lon:"71.276093",lat:"38.861034"},TK:{country_name:"Tokelau",lon:"-171.855881",lat:"-8.967363"},TL:{country_name:"East Timor",lon:"125.727539",lat:"-8.874217"},TM:{country_name:"Turkmenistan",lon:"59.556278",lat:"38.969719"},TN:{country_name:"Tunisia",lon:"9.537499",lat:"33.886917"},TO:{country_name:"Tonga",lon:"-175.198242",lat:"-21.178986"},TR:{country_name:"Turkey",lon:"35.243322",lat:"38.963745"},TT:{country_name:"Trinidad and Tobago",lon:"-61.222503",lat:"10.691803"},TV:{country_name:"Tuvalu",lon:"177.64933",lat:"-7.109535"},TW:{country_name:"Taiwan",lon:"120.960515",lat:"23.69781"},TZ:{country_name:"Tanzania",lon:"34.888822",lat:"-6.369028"},UA:{country_name:"Ukraine",lon:"31.16558",lat:"48.379433"},UG:{country_name:"Uganda",lon:"32.290275",lat:"1.373333"},UM:{country_name:"United States Minor Outlying Islands",lon:"166.647",lat:"19.2823"},US:{country_name:"United States of America",lon:"-95.712891",lat:"37.09024"},UY:{country_name:"Uruguay",lon:"-55.765835",lat:"-32.522779"},UZ:{country_name:"Uzbekistan",lon:"64.585262",lat:"41.377491"},VA:{country_name:"Vatican City",lon:"12.453389",lat:"41.902916"},VC:{country_name:"Saint Vincent and the Grenadines",lon:"-61.287228",lat:"12.984305"},VE:{country_name:"Venezuela",lon:"-66.58973",lat:"6.42375"},VG:{country_name:"British Virgin Islands",lon:"-64.639968",lat:"18.420695"},VI:{country_name:"United States Virgin Islands",lon:"-64.896335",lat:"18.335765"},VN:{country_name:"Vietnam",lon:"108.277199",lat:"14.058324"},VU:{country_name:"Vanuatu",lon:"166.959158",lat:"-15.376706"},WF:{country_name:"Wallis and Futuna",lon:"-177.156097",lat:"-13.768752"},WS:{country_name:"Samoa",lon:"-172.104629",lat:"-13.759029"},YE:{country_name:"Yemen",lon:"48.516388",lat:"15.552727"},YT:{country_name:"Mayotte",lon:"45.166244",lat:"-12.8275"},ZA:{country_name:"South Africa",lon:"22.937506",lat:"-30.559482"},ZM:{country_name:"Zambia",lon:"27.849332",lat:"-13.133897"},ZW:{country_name:"Zimbabwe",lon:"29.154857",lat:"-19.015438"}};this.ADDRESS_LINE_1_KEYS=["address30","address29","house_number","house_name","flats","conscription_number","street_number","street","place","industrial","retail","commercial","airport","station","place_of_worship","pub","bar","university","museum","arts_centre","zoo","theme_park","attraction","golf_course","castle","hospital","school","theatre","public_building","library","townhall","community_centre","fire_station","police","bank","post_office","park","recreation_ground","hotel","motel","cinema","information","artwork","archaeological_site","doctors","sports_centre","swimming_pool","supermarket","convenience","restaurant","fast_food","cafe","guest_house","pharmacy","fuel","peak","waterfall","wood","water","forest","cemetery","allotments","farmyard","rail","canal","river","stream","bicycle","clothes","hairdresser","doityourself","estate_agent","car","garden_centre","car_repair","newsagent","bakery","furniture","butcher","apparel","electronics","department_store","books","yes","outdoor","mall","florist","charity","hardware","laundry","shoes","beverages","dry_cleaning","carpet","computer","alcohol","optician","chemist","gallery","mobile_phone","sports","jewelry","pet","beauty","stationery","shopping_centre","general","electrical","toys","jeweller","betting","household","travel_agency","hifi","shop","pitch","unsurfaced","ruins","college","monument","subway","memorial","nature_reserve","common","lock_gate","fell","nightclub","path","garden","reservoir","playground","stadium","mine","cliff","caravan_site","bus_station","kindergarten","construction","atm","emergency_phone","lock","riverbank","coastline","viewpoint","hostel","bed_and_breakfast","halt","platform","tram","courthouse","recycling","dentist","beach","moor","grave_yard","derelict_canal","drain","grass","village_green","bay","tram_stop","marina","stile","light_rail","narrow_gauge","land","village_hall","dock","veterinary","brownfield","track","historic_station","prison","quarry","telephone","traffic_signals","heath","house","social_club","military","health_centre","building","clinic","services","ferry_terminal","marsh","hill","raceway","taxi","take_away","car_rental","islet","nursery","nursing_home","toilets","hall","boatyard","mini_roundabout","manor","chalet","bicycle_parking","weir","wetland","cave_entrance","crematorium","picnic_site","basin","tree","slipway","meadow","piste","care_home","club","medical_centre","roman_road","fort","subway_entrance","gate","fishing","car_wash","level_crossing","bird_hide","headland","apartments","shopping","scrub","fen","mountain_pass","parking","bus_stop","post_box","houses","preserved","dead_pub","disused_station","abandoned","disused","farm","conscription_number","road"];this.ADDRESS_LINE_2_KEYS=["pedestrian","footway","bridleway","cycleway","residential","neighbourhood","hamlet","locality","administrative","suburb","region","address28","address27","address26","address25"];this.CITY_KEYS=["city_district","village","island","town","city","county","district","state_district","address24","address23","address22","address21","address20","address19","address18","address17","address16","address15","address14","address13","address12","address11","address10","address9"];this.STATE_KEYS=["state","address8"];this.POSTAL_CODE_KEYS=["postcode","address7","address6","address5"];this.COUNTRY_KEYS=["country","address4"];this.ZMAPS_DOMAIN="https://maps.zoho.com";this.ZMAPS_DOMAIN_EU="https://maps.zoho.eu";this.ZMAPS_APIKEY="73f269cc3db5c26abb9a6b58b33e7452";this.IMG_STATIC_SERVER="https://img.zohostatic.in";this.IMG_STATIC_SERVER_EU="https://img.zohostatic.eu";this.JS_STATIC_SERVER="https://js.zohostatic.in";this.IPINFO_SKYDESK_URL="https://iplocation.skydesk.jp/getipinfo?type=jsonp";this.IPINFO_ZOHO_URL="https://iplocation.zoho.com/getipinfo?type=jsonp";this.ZOHO_MAPS="ZOHO_MAPS";this.IMAGE_STATIC_SERVER="IMAGE_STATIC_SERVER";this.IP_INFO_URL=(typeof bootConfig!="undefined")&&bootConfig.isPrviewAction&&!(window.location.host===zcNewLivePublicDomain)?ZCGlobal.appbuilderserverprefix+"/appbuilder/"+ZCGlobal.scopeName+"/"+ZCGlobal.appLinkName+"/getIpInfo":ZCGlobal.appurl+"getIpInfo";this.SORT_OPTS={"8":{Number:"",Country:"country"},"33":{FirstName:"",LastName:"last_name"},"34":{Address:"","City/District":"district_city",State:"state_province",Country:"country"}};this.GRP_OPTS={"8":{Country:"country"},"33":{FirstName:"",LastName:"last_name"},"34":{Address:"","City/District":"district_city",State:"state_province",Country:"country",Pincode:"postal_Code"}};this.LINK=1;this.LOCAL=2;this.LINKANDLOCAL=3;this.CAMERA=4;this.LINKANDCAMERA=5;this.CAMERAANDLOCAL=6;this.IMAGEALLOPTION=7;this.AUDIO=137;this.VIDEO=138;this.ALLOWTOACCESSMEDIA=i18n.allowtoaccessmedia;this.NOMEDIASUPPORT=i18n.nomediasupport;this.NOSUPPORTAUDIO=i18n.nosupportaudio;this.NOSUPPORTVIDEO=i18n.nosupportvideo;this.UPLOADAUDIO=i18n.uploadaudio;this.UPLOADVIDEO=i18n.uploadvideo;this.SHORTERAUDIO=i18n.shorteraudio;this.SHORTERVIDEO=i18n.shortervideo;this.UPLOADINGVIDEO=i18n.uploadingvideo;this.UPLOADINGAUDIO=i18n.uploadingaudio;this.FILESIZE=i18n.filesize;this.FILEERROR=i18n.filecorrupted;this.BLOCKPERMISSIONLINE1=i18n.blockpermissionline1;this.BLOCKPERMISSIONLINE2=i18n.blockpermissionline2;this.VIDEOPERMISSIONLINE1=i18n.videopermissionline1;this.AUDIOPERMISSIONLINE1=i18n.audiopermissionline1;this.IMAGEPERMISSIONLINE1=i18n.imagepermissionline1;this.IMAGEPERMISSIONLINE2=i18n.imagepermissionline2;this.PERMISSIONLINE2=i18n.permissionline2;this.IMGBLOCKPERMISSIONLINE1=i18n.imgblockpermissionline1;this.BROWSERSUPPORTLINE1=i18n.browsersupportline1;this.BROWSERSUPPORTLINE2=i18n.browsersupportline2;this.QUICK_VIEW="quickview";this.DETAIL_VIEW="detailview";this.SINGLE_REC_CUSTOM_ACTION=1;this.MULTI_REC_CUSTOM_ACTION=2;this.CONFIRM_BUTTON=1;this.CANCEL_BUTTON=2;this.SLIDING_PANE="SLIDING_PANE";this.TAB_BAR="TAB_BAR";this.BOTTOM_BAR="BOTTOM_BAR";this.COLUMN_1="1_COLUMN";this.COLUMN_CARD_1="1_COLUMN_CARD";this.VIEW_MAPS=20;this.VIEW_PIVOT_CHART=8;this.VIEW_PIVOT_TABLE=7;this.VIEW_CALENDAR=2;this.VIEW_TIMELINE=15;this.VIEW_KANBAN=16;this.NEW_EXPORT_LIMIT=50000;this.CAPTCHA_MIN_WIDTH=200;this.PLAINTEXT_MIN_WIDTH=230;this.COLUMN_MINWIDTH=250;this.ADDRESS_ERROR_TYPE="errType";this.ADDRESS_ERROR_MESSAGE="errMsg";this.ADDRESS_EMPTY_VALUE_TYPE=1;this.ADDRESS_INVALID_ZIP_TYPE=2;this.LEFT="left";this.RIGHT="right"};var LicenseKeys=new function(){this.handsonTableLicenseKey="4de59-e480d-90345-f4c3a-29e47"};var ObjectType=new function(){this.APP=1;this.FORM=2;this.REPORT=3;this.PAGE=4;this.FIELD=5;this.FORMBUTTON=6;this.RECORD=7;this.APPROVAL=8};var AppTheme=(function(){this.isTab=function(C){return(B[C].TYPE==A.TAB)};this.isGrid=function(C){return(B[C].TYPE==A.GRID)};var A={LEFT:1,TAB:2,GRID:3};var B={1:{TYPE:A.LEFT},2:{TYPE:A.TAB},3:{TYPE:A.LEFT},4:{TYPE:A.TAB},5:{TYPE:A.LEFT},6:{TYPE:A.TAB},7:{TYPE:A.GRID},8:{TYPE:A.LEFT},9:{TYPE:A.LEFT}};return this})();var FormAccessType=new function(){this.ADD_RECORD=1;this.VIEW_ADD_RECORD=2;this.VIEW_EDIT_RECORD=3;this.BULK_EDIT=4;this.LOOKUP_ADD=5;this.SEARCH_FORM=6;this.isAddRecord=function(A){if(A==this.ADD_RECORD||A==this.VIEW_ADD_RECORD||A==this.LOOKUP_ADD){return true}return false};this.getURL=function(A){if(A==this.VIEW_EDIT_RECORD){return"edit"}else{if(A==this.BULK_EDIT){return"bulkedit"}}return"add"}};var FormAlign=new function(){this.LEFT=1;this.RIGHT=2;this.TOP=3;this.INPLACE=4;var A={1:"label-left",2:"label-right",3:"label-top",4:"label-inplace"};var B=function(C){return A[C]};this.getAlign=function(C){if(A.hasOwnProperty(C)){return{ALIGN:C,CLASS:B(C)}}return{}}};var ApplicationControllerType=new function(){this.DEFAULT=1;this.PREVIEWAPPLICATION=2};var FormControllerType=new function(){this.DEFAULT=1;this.REPORTFORM=2;this.LOOKUPFORM=3;this.BULKEDITFORM=4;this.REPORTADDFORM=5;this.PREVIEWFORM=6};var FieldType=new function(){this.NONE=0;this.SINGLE_LINE=1;this.PASSWORD=2;this.MULTI_LINE=3;this.EMAIL_ADDRESS=4;this.NUMBER=5;this.CURRENCY=6;this.PERCENTAGE=7;this.PHONE_NUMBER=8;this.DECISIONBOX=9;this.DATE=10;this.TIME=11;this.SINGLE_SELECT=12;this.MULTI_SELECT=13;this.PLAIN_TEXT=14;this.SCRIPT=15;this.FILE_UPLOAD=18;this.DECIMAL=19;this.IMAGE=20;this.URL=21;this.DATE_TIME=22;this.RICH_TEXT_AREA=24;this.EXTERNAL_FIELD=25;this.EXTERNAL_LINK_FIELD=26;this.INLINE_SINGLE_SELECT=29;this.SYSTEM_LOOKUP=30;this.AUTO_NUMBER=31;this.LOOKUP=32;this.NAME=33;this.ADDRESS=34;this.SECTION=35;this.SIGNATURE=36;this.AUDIO=137;this.VIDEO=138;this.RECORD_STATUS=38;this.DROPDOWN=100;this.RADIO=101;this.LIST=102;this.CHECK_BOXES=103;this.SUB_FORM_GRID=99;this.POPUP_SINGLE=95;this.INLINE_PICK_LIST=1100;this.INLINE_RADIO=1101;this.USER_SINGLE_SELECT=100;this.USER_MULTI_SELECT=101};var ReportType=new function(){this.REPORT_LIST=1;this.REPORT_CALENDAR=2;this.REPORT_SUMMARY=3;this.REPORT_SHEET=4;this.REPORT_CHART=5;this.REPORT_SPREADSHEET=6;this.REPORT_TIMELINE=15;this.REPORT_CUSTOM=9;this.PREVIEW_REPORT=10;this.REPORT_KANBAN=16;this.REPORT_MAP=20};var CalendarDisplayType=new function(){this.MONTH=1;this.WEEK=2;this.DAY=3;this.TIMELINEMONTH=4;this.TIMELINEWEEK=5;this.TIMELINEDAY=6};var CalendarDisplay=new function(){this.MONTH="month";this.BASICWEEK="basicWeek";this.AGENDAWEEK="agendaWeek";this.BASICDAY="basicDay";this.AGENDADAY="agendaDay";this.TIMELINEMONTH="timelineMonth";this.TIMELINEWEEK="timelineWeek";this.TIMELINEDAY="timelineDay";this.CALENDAR="calendar";this.TIMELINE="timeline";this.BASIC="basic";this.AGENDA="agenda";this.CAPMONTH="Month"};var CalendarDefaultType=new function(){this.LAST_YEAR=1;this.CURRENT_YEAR=2;this.NEXT_YEAR=3;this.CUSTOM_YEAR=4;this.LAST_MONTH=5;this.THIS_MONTH=6;this.NEXT_MONTH=7,this.CUSTOM_MONTH=8;this.YESTERDAY=9;this.TODAY=10;this.TOMORROW=11;this.CUSTOM_DAY=12};var PageType=new function(){this.DEFAULT=1;this.OLD_PAGE=2;this.NEW_PAGE=3;this.PREVIEW_PAGE=4};var RecordLimit=new function(){this.DEFAULT_SIZE_FOR_LIST=50;this.DEFAULT_SIZE_FOR_SUMMARY=200};var ZCSearchConstants=new function(){this.BETWEEN=58;this.CURRENT_NEXT_WEEK=63;this.LAST_N_DAYS=64;this.NEXT_N_YEARS=71;this.EQUALS=18;this.NOT_EQUALS=19;this.LESS_THAN=20;this.GREATER_THAN=21;this.LESS_EQUAL=22;this.GREATER_EQUAL=23;this.STARTS_WITH=24;this.ENDS_WITH=25;this.EMPTY=29;this.NOT_EMPTY=30;this.YESTERDAY=31;this.CONTAINS=26;this.NOT_CONTAINS=27;this.TRUE=49;this.FALSE=50;this.UNLOCKED=79;this.ADMIN_ONLY=80;this.SUPERIOR_ONLY=81;this.IN=72;this.LIKE=28;this.BEFORE="Before";this.AFTER="After";this.getSearchText=function(A){var B="contains";switch(A){case this.EQUALS:B="is";break;case this.NOT_EQUALS:B="is not";break;case this.EMPTY:B="is empty";break;case this.NOT_EMPTY:B="is not empty";break;case this.STARTS_WITH:B="starts with";break;case this.ENDS_WITH:B="end with";break;case this.LIKE:B="like";break;case this.CONTAINS:B="contains";break;case this.NOT_CONTAINS:B="does not contain";break;case this.LESS_THAN:B="is less than";break;case this.GREATER_THAN:B="is greater than";break;case this.LESS_EQUAL:B="is less than or equal to";break;case this.GREATER_EQUAL:B=" is greater than or equal to";break}return B};this.getLockValue=function(A){if(A==ZCSearchConstants.UNLOCKED){return"0"}if(A==ZCSearchConstants.ADMIN_ONLY){return"1"}if(A==ZCSearchConstants.SUPERIOR_ONLY){return"2"}}};var HandsOnTableContainers=new function(){this.HT_MASTER="ht_master";this.HT_CLONE_TOP="ht_clone_top";this.HT_CLONE_BOTTOM="ht_clone_bottom";this.HT_CLONE_LEFT="ht_clone_left";this.HT_CLONE_TOP_LEFT_CORNER="ht_clone_top_left_corner"};var ZCKeyConstants=new function(){this.BACKSPACE=8;this.ENTER=13;this.SPACE=32;this.LEFT=37;this.UP=38;this.PAGEUP=33;this.PAGEDOWN=34;this.RIGHT=39;this.DOWN=40;this.DELETE=46;this.ESCAPE=27;this.TAB=9};var FilterConstants=new function(){this.FILTER_COMMA_CONSTANT="@#zoho-comma#@";this.FILTER_COLON_CONSTANT="@#zohocolon#@";this.FILTER_SEMICOLON_CONSTANT="@#zohosemicolon#@";this.FILTER_QUOTS_CONSTANT="@#zohoquots#@";this.FILTER_SLASH_CONSTANT="zohooslash"};var NLPCharts=new function(){this.SUMMARY="SUMMARY";this.PIVOT="PIVOT";this.PIE="CHART__PIE";this.RING="CHART__RING";this.SEMI_RING="CHART__SEMI_RING";this.PYRAMID="CHART__PYRAMID";this.LINE="CHART__LINE";this.LINE_WITH_POINTS="CHART__LINE_WITH_POINTS";this.SMOOTH_LINE="CHART__SMOOTH_LINE";this.SMOOTH_LINE_WITH_POINTS="CHART__SMOOTH_LINE_WITH_POINTS";this.STEP="CHART__STEP";this.BAR="CHART__BAR";this.STACKED_BAR="CHART__STACKED_BAR";this.COMBO="CHART__COMBO";this.COMBO_STACKED_BAR="CHART__COMBO_STACKED_BAR";this.COMBO_BAR_WITH_SMOOTH_LINE="CHART__COMBO_BAR_WITH_SMOOTH_LINE";this.COMBO_STACKED_BAR_WITH_SMOOTH_LINE="CHART__COMBO_STACKED_BAR_WITH_SMOOTH_LINE";this.SCATTER="CHART__SCATTER";this.BUBBLE="CHART__BUBBLE";this.PACKED_BUBBLE="CHART__PACKED_BUBBLE";this.AREA="CHART__AREA";this.AREA_WITH_POINTS="CHART__AREA_WITH_POINTS";this.SMOOTH_AREA="CHART__SMOOTH_AREA";this.SMOOTH_AREA_WITH_POINTS="CHART__SMOOTH_AREA_WITH_POINTS";this.STACKED_AREA="CHART__STACKED_AREA";this.STACKED_AREA_WITH_POINTS="CHART__STACKED_AREA_WITH_POINTS";this.STACKED_SMOOTH_AREA="CHART__STACKED_SMOOTH_AREA";this.STACKED_SMOOTH_AREA_WITH_POINTS="CHART__STACKED_SMOOTH_AREA_WITH_POINTS";this.MAP_SCATTER="CHART__MAP_SCATTER";this.MAP_BUBBLE="CHART__MAP_BUBBLE";this.MAP_FILLED="CHART__MAP_FILLED";this.FUNNEL="CHART__FUNNEL";this.WEB="CHART__WEB";this.WEB_WITHOUT_FILL="CHART__WEB_WITHOUT_FILL";this.SUNBURST="CHART__SUNBURST";this.TABLE="CHART__TABLE";this.DEFAULT="UNKNOWN"};var NLPChartColors=["#438ce9","#FF465B","#16AF91","#04C36B","#FDC33A","#D65587","#FC7C63","#51A5A9","#BFBFBF","#91CD6A","#BE9B89","#7D8DB0","#B68E2E","#C6D5B0","#D1ACCE","#E0AE60","#5CD29F","#716398","#AD8686","#FF99A8","#A0C0C0","#2D7094","#553D4E","#B2449D","#FED577","#D3D159","#AAAAAA","#7ED9D9","#F7A26D","#8ABFA2","#767676","#E36068","#A3AFC7"];function replaceParams(B,A){if((B.indexOf("[")>-1)||(B.indexOf("&#x5b;")>-1)){B=B.replace("&#x5b;","[");B=B.replace("&#x5d;","]");if(typeof A!="undefined"&&A.length>0){for(i=0;i<A.length;i++){B=replace(B,"["+i+"]",A[i])}}}else{B=B.replace("&#x7b;","{");B=B.replace("&#x7d;","}");if(typeof A!="undefined"&&A.length>0){for(i=0;i<A.length;i++){B=replace(B,"{"+i+"}",A[i])}}}return B}function replace(A,G,E){var C=A.length,F=G.length;if((C==0)||(F==0)){return A}var B=A.indexOf(G);if((!B)&&(G!=A.substring(0,F))){return A}if(B==-1){return A}var D=A.substring(0,B)+E;if(B+F<C){D+=replace(A.substring(B+F,C),G,E)}return D}function stopPropogation(A){if($.browser.msie){window.event.cancelBubble=true}else{if(A!=undefined){A.stopPropagation()}}}function isNull(A){return A==null||A==undefined||A==""||A=="null"}function isFunction(A){return !!(A&&A.constructor&&A.call&&A.apply)}function isNumber(A){return !isNaN(parseFloat(A))&&isFinite(A)}function closeDialog(){if($zcmodal.hasInstance()){$zcmodal.getTopPopup().close()}}function convertToIndianTimeZone(){offset=+5.5;userDate=new Date();utc=userDate.getTime()+(userDate.getTimezoneOffset()*60000);ISTDate=new Date(utc+(3600000*offset));return ISTDate}function loadChat(){$("#zc_helpPanel-close").trigger("click");ZCLiveChat.load()}function C5PaymentCallBack(A){var B=this;B.wfRespArray=A.wfRespArray;B.redirectURl=A.redirectUrl;this.process=function(){var E=window.location.toString();if(E.indexOf("/paymentCallBack?")>0){var D=false;var C=B.wfRespArray;if(C!=undefined){$.each(C,function(F,G){if(G.FUNCTION_NAME=="openUrl"){if(!(G.windowType=="new"||G.windowType=="new window"||G.windowType=="popup window")){D=true}if((G.hasOwnProperty("redirectType")&&G.redirectType!="url")||!G.urlString.startsWith("http")){G.urlString="/"+ZCGlobal.scopeName+"/"+ZCGlobal.appLinkName+"/"+G.urlString}openWindowTask(G.urlString,G.windowType)}})}if(!D){window.location=B.redirectURl}}}}function PaymentCallback(A){this.timeTaken=0;this.pollTime;this.isReturn=function(){return(A.returnType=="return")};this.getPollURL=function(){return A.pollURL};this.getActionURL=function(){return A.actionURL};this.getRecLinkId=function(){return A.recLinkId};this.getTransactionId=function(){return A.transactionId};this.getCallbackJSON=function(){return A.callbackJSON};this.isStatusSuccess=function(){return(A.callbackJSON.status=="success")};this.getReturnFormData=function(){if(A.isExternal){return{isPaymentCallback:true,recLinkId:A.recLinkId,pmt_transactionId:A.transactionId,pmt_returnType:A.returnType,zc_SuccMsg:A.zc_SuccMsg,zc_NextUrl:A.zc_NextUrl,zc_OpenUrlIn:A.zc_OpenUrlIn}}else{return{componentName:A.formLinkName,componentType:"form",paymentCallback:true,recLinkId:A.recLinkId,transactionId:A.transactionId,returnType:A.returnType,zc_SuccMsg:A.zc_SuccMsg,zc_NextUrl:A.zc_NextUrl,zc_OpenUrlIn:A.zc_OpenUrlIn}}}}PaymentCallback.prototype.process=function(){if(this.isReturn()&&!this.isStatusSuccess()){this.poll()}else{this.submitReturn()}};PaymentCallback.prototype.submitReturn=function(){var A=this,B=document.createElement("form");B.setAttribute("method","post");B.setAttribute("action",A.getActionURL());$.each(A.getReturnFormData(),function(D,C){if(C!=undefined&&C!=null&&C!=""){var E=document.createElement("input");E.setAttribute("type","hidden");E.setAttribute("name",D);E.setAttribute("value",C);B.appendChild(E)}});$(B).appendTo("body").submit()};PaymentCallback.prototype.poll=function(){var A=this;var C=function(){A.poll()};var B={recLinkId:A.getRecLinkId(),transactionId:A.getTransactionId()};$.ajax({url:A.getPollURL(),method:"GET",data:B,success:function(D){if(D.status=="norow"&&(A.timeTaken<600000)){A.polltim=setTimeout(C,3000);A.timeTaken+=3000}else{clearTimeout(A.polltim);A.submitReturn()}}})};function parseAttr(V,G){var W={};var R=G.replace(/'/g,'"');var T=R.toLowerCase();if(V==FieldType.IMAGE){if(T.indexOf("<a")==0){if(T.indexOf("href")!=-1){var Y=T.indexOf("href",0);var P=R.substring(Y+1);var O=P.indexOf('"',0);var K=P.indexOf('"',O+1);var C=P.substring(O+1,K);W.zcfieldlink=C;W.target=2}if(T.indexOf("title")!=-1){var Y=T.indexOf("title",0);var P=R.substring(Y+1);var I=P.indexOf('"',0);var H=P.indexOf('"',I+1);var X=P.substring(I+1,H);W.zctitle=X}if(T.indexOf("target")!=-1){var Y=T.indexOf("target",0);var P=R.substring(Y+1);var S=P.indexOf('"',0);var Q=P.indexOf('"',S+1);var N=P.substring(S+1,Q);W.target=(N.toLowerCase().indexOf("blank")!=-1)?1:2}if(T.indexOf("src")!=-1){var Y=T.indexOf("src",0);var P=R.substring(Y+1);var d=P.indexOf('"',0);var b=P.indexOf('"',d+1);var B=P.substring(d+1,b);W.zcsource=B}if(T.indexOf("alt")!=-1){var Y=T.indexOf("alt",0);var P=R.substring(Y+1);var d=P.indexOf('"',0);var b=P.indexOf('"',d+1);var U=P.substring(d+1,b);W.zcalttext=U}}else{if(T.indexOf("<img")==0){if(T.indexOf("src")!=-1){var Y=T.indexOf("src",0);var P=R.substring(Y+1);var d=P.indexOf('"',0);var b=P.indexOf('"',d+1);var B=P.substring(d+1,b);W.zcsource=B}if(T.indexOf("alt")!=-1){var Y=T.indexOf("alt",0);var P=R.substring(Y+1);var d=P.indexOf('"',0);var b=P.indexOf('"',d+1);var U=P.substring(d+1,b);W.zcalttext=U}}}}else{if(T.indexOf("href")!=-1){var Y=T.indexOf("href",0);var P=R.substring(Y+1);var F=P.indexOf('"',0);var D=P.indexOf('"',F+1);var M=P.substring(F+1,D);W.zcurl=M;W.target=2}if(T.indexOf("title")!=-1){var Y=T.indexOf("title",0);var P=R.substring(Y+1);var c=P.indexOf('"',0);var I=P.indexOf('"',c+1);var E=P.substring(c+1,I);W.zctitle=E}if(T.indexOf("target")!=-1){var Y=T.indexOf("target",0);var P=R.substring(Y+1);var S=P.indexOf('"',0);var Q=P.indexOf('"',S+1);var A=P.substring(S+1,Q);W.target=(A.toLowerCase().indexOf("blank")!=-1)?1:2}var a=R.indexOf(">",0);var Z=R.indexOf("<",a);var J=G.substring(a+1,Z);W.zclnkname=J}return W}function getWindowHeight(){var A=0;if(typeof (window.innerWidth)=="number"){A=window.innerHeight}else{if(document.documentElement&&(document.documentElement.clientHeight)){A=document.documentElement.clientHeight}else{if(document.body&&(document.body.clientHeight)){A=document.body.clientHeight}}}return A}function getWindowWidth(){var A=0;if(typeof (window.innerWidth)=="number"){A=window.innerWidth}else{if(document.documentElement&&(document.documentElement.clientWidth)){A=document.documentElement.clientWidth}else{if(document.body&&(document.body.clientWidth)){A=document.body.clientWidth}}}return A}function showLiveDeskPane(){$("#chatContainer").slideDown(500);$("#liveChatFloat").fadeOut();var B=$("#liveChatFloat").attr("appLinkName");var A=$("#liveChatFloat").attr("dispname");$._setCookie("zc_"+B+"_"+A+"_ChatFrameVisible","true")}function hideLiveDeskPane(){$("#chatContainer").slideUp(500);$("#liveChatFloat").fadeIn();var B=$("#chatContainer").attr("appLinkName");var A=$("#chatContainer").attr("dispname");$._setCookie("zc_"+B+"_"+A+"_ChatFrameVisible","")}function getParamsAsMap(E,A,D){E=$.trim(E);if(E==""){return{}}A=isNull(A)?"&":A;D=isNull(D)?"=":D;var B=E.split(A);var C={};for(var G=0;G<B.length;G++){var H=B[G];var I=$.trim(H.substring(0,H.indexOf(D)));var F=$.trim(H.substring((H.indexOf(D)+1),H.length));C[I]=F}return C}function getURLParamsJSON(F){var J=window.location.search;var D=window.location.hash;if(F!=undefined){D=F.substring(F.indexOf("?"))}var A=(J.indexOf("?")!=-1)?J.substring(J.indexOf("?")+1)+"&":"";var C=(D.indexOf("?")!=-1)?D.substring(D.indexOf("?")+1):"";A=A+C;var I="{";if(A!=undefined&&A!=""){var B=A.split("&");for(var E=0;E<B.length;E++){if(isNull(B[E])){continue}var G=(B[E]).split("=");var H=G[0];if(I!="{"){I=I+","}I=I+'"'+G[0]+'":"'+G[1]+'"'}}I=I+"}";return I}(function(A){A.QueryString=function(C){if(C==""){return{}}var B={};for(var D=0;D<C.length;++D){var E=C[D].split("=");if(E.length!=2){continue}B[E[0]]=decodeURIComponent(E[1].replace(/\+/g," "))}return B}})(jQuery);(function(A){A.IsLoadInDialog=function(D){if(!LIB._isNull(D)&&D.indexOf("?")>-1){try{var F=D.substr(D.indexOf("?")).substr(1);var B=decodeURIComponent(F).split("&");var E=A.QueryString(B);return !LIB._isNull(E)&&!LIB._isNull(E.zc_LoadIn)&&E.zc_LoadIn=="dialog"}catch(C){Console.log(C)}}return false}})(jQuery);window.Console=window.console;(function(A){A._setCookie=function(I,H,D,F,G){var E=new Date();if(D){E.setTime(E.getTime()+(D*24*3600*1000))}else{E.setTime(E.getTime()+(365*24*3600*1000))}var C=(G==undefined)?"/":G;var B=I+"="+escape(H)+";expires="+E.toGMTString()+";path="+C+";";if(F){B=B+"domain="+escape(F)}document.cookie=B}})(jQuery);(function(A){A._deleteCookie=function(B){A._setCookie(B,"")}})(jQuery);(function(A){A._getCookie=function(F){if(LIB._isNull(document.cookie)||document.cookie.length==0){return""}var C=F+"=";var B=document.cookie.split(";");for(var D=0;D<B.length;D++){var E=B[D].trim();if(E.indexOf(C)===0){return E.substring(C.length,E.length)}}return undefined}})(jQuery);(function(A){A._appendToQueryString=function(E,C,D){var B=E;if(B==undefined||B==null||B==""){}else{B+="&"}B+=C+"="+D;return B}})(jQuery);$.fn.showImportData=function(A,D,B,F,G){if(F!=undefined&&F==true){if($zcmodal.getTopPopup()!=undefined){$zcmodal.getTopPopup().close()}}var E=ZCGlobal.serverPrefix+"/"+ZCGlobal.scopeName+"/"+A+"/import/"+D+"/showImportDialog";if(B!=undefined&&B!=""){E=E+"?reportLinkName="+B}if((typeof (reportMeta)!=="undefined")){if(!LIB._isNull(reportMeta.PRIVATELINK)){E=E+"&privatelink="+reportMeta.PRIVATELINK}}var C={type:ZCModalConstants.JIT_MODAL,showPreloader:true,bodyClass:"show-import-dialog",wrapperClass:"zc-import-dialog",beforeShow:function(){},beforeClose:function(){},buildDOM:function(){return getModalProgress()}};var I=$.zcmodal(C);var H=I.getBody();$.ajax({beforeSend:function(){},url:E,type:"GET",success:function(K,J,M){$(H).html(K);if(ZCGlobal.useSheet2App){ZCImport.reportLinkName=B;ZCImport.isPermaOrEmbed=G;ZCImport.bindSheetToAppEvents(B)}else{ZCImport.bindEvents()}}})};var ZCImport=new function(){var A=this;var C=null;this.reportLinkName=null;this.isPermaOrEmbed=false;this.isSheet2AppEnabled=ZCGlobal.useSheet2App;this.sheet2AppDomain=ZCGlobal.sheet2AppDomain;this.bindSheetToAppEvents=function(D){C=$("#ZC_IMPORTDATA_DIV");$(C).find("input[name=xfile]").change(function(E){E.preventDefault();stopEventBubbling(E);A.postToSheet()});$(window).off("message.sheetToApp").on("message.sheetToApp",function(E){E=E.originalEvent;if(E.data.type=="sheet2app"&&E.origin==A.sheet2AppDomain&&(E.data.action=="browserback"||E.data.action=="closeframe")){$(window).off("message.sheetToApp");A.refreshView()}});$(C).find(".zc-dem-import-list .cloud-file").parent().click(function(){A.initlizeGadgetFrame()});$(C).find(".zc-dem-import-list .pasted-data").parent().click(function(){$(C).find("input[name='isPastedData']").val("true");A.switchImportDialog(true)});$(C).find(".zc-secondary-dialog button.zc-live-primary-btn").click(function(E){E.preventDefault();stopEventBubbling(E);$(C).find("input[name='isPastedData']").val("true");A.postToSheet()});$(C).find(".zc-secondary-dialog button.zc-live-secondary-btn").click(function(E){E.preventDefault();stopEventBubbling(E);A.switchImportDialog(false)});A.initializeGadget()};this.switchImportDialog=function(D){var E=$(C).find(".zc-dem-dialogue-content");if(D){$(E[1]).show();$(E[0]).hide()}else{$(E[1]).hide();$(E[0]).show()}};this.initIFrame=function(F){var E=$("<div>").css({"z-index":"1001",position:"fixed",top:"0px",width:"100%",height:"100%"});var D=$("<iframe>").css({border:"medium none",height:"100%",margin:"0px",padding:"0px",width:"100%"});E.attr("id",F.divID);E.addClass(F.divClass);D.attr("id",F.frameID);D.addClass(F.frameClass);if(!LIB._isNull(F.frameSrc)){D.attr("src",F.frameSrc)}if(!LIB._isNull(F.frameName)){D.attr("name",F.frameName)}E.append(D);$("body").append(E)};this.initlizeGadgetFrame=function(){var D={};D.divID="zc-gadgets_cloudpicker_div";D.divClass="gadgets_cloudpicker_div";D.frameID="zc-file_attach_iframe";D.frameClass="gadgets_cloudpicker_iframe";D.frameSrc=clouddocurl;D.configType="cloudPicker";A.initIFrame(D)};this.initlizeSheetFrame=function(){var D={};D.divID="zc-sheettoapp-iframe-container";D.divClass="gadgets_cloudpicker_div";D.frameID="zc-sheettoapp-iframe";D.frameClass="gadgets_cloudpicker_iframe";D.frameName="sheetToAppIFrames";D.configType="sheetToApp";A.initIFrame(D);return D};this.postToSheet=function(){var D=A.initlizeSheetFrame();$(C).find("form[name='sheet2AppForm']").submit()};this.refreshView=function(){location.reload()};this.bindEvents=function(F){C=$("#ZC_IMPORTDATA_DIV");$(C).find("input[name=DATA_LOCATION]").click(function(){A.toggleDataLoc(this)});$(C).find("input[name=DATA_LOCATION]").change(function(){A.toggleDataLoc(this)});$(C).find("input[name=IMPORT_MODE]").change(function(){A.setImportMode(this)});$(C).find("div[name=toggleScriptDiv]").change(function(){A.toggleScriptDiv(this)});A.initializeGadget();$(C).find("#cloudPickerEl").click(function(){A.openCloudPickerForImport()});$(C).find("#gDocsEl").click(function(){A.openImportGDocDialog()});$(C).find("input[name=HASFIELDNAMES]").click(function(){A.toggleFirstRow(this)});$(C).find("#toggleCSVSettings").click(function(){A.toggleCSVSettings()});var D=$(C).find("#showCSVSettings");var E=$(C).find("#hideCSVSettings");$(D).click(function(){$(D).toggleClass("hide");$(E).toggleClass("hide");A.toggleCSVSettings()});$(E).click(function(){$(D).toggleClass("hide");$(E).toggleClass("hide");A.toggleCSVSettings()});$(E).addClass("hide");$(C).find("input[name=DATA_FILE]").change(function(){var I=$(this).val();if(I){var J=(I.indexOf("\\")>=0?I.lastIndexOf("\\"):I.lastIndexOf("/"));var H=I.substring(J);if(H.indexOf("\\")===0||H.indexOf("/")===0){H=H.substring(1)}var G="<li><p></p></li>";$(".zc-import-filename").html(G);$(".zc-import-filename").find("p").text(H)}});$(C).find("input[name=zc-closebutton]").click(function(G){if($zcmodal.getTopPopup()!=undefined){$zcmodal.getTopPopup().close()}if($(this).attr("step")){location.reload()}if(window.event){window.event.cancelBubble=true;return false}})};this.setImportMode=function(E){var D=$("#ZC_IMPORTDATA_DIV").find("div[elName=UPDATE_ADD_DIV]");if($(E).val()=="UPDATE_ADD"){D.show()}else{D.hide();D.find(":input[type=checkbox]").prop("checked",false)}};this.toggleDataLoc=function(F){var E=$(F).val();var D=$("#ZC_IMPORTDATA_DIV");if(E=="PASTED_DATA"){D.find("div[elName=WEBCLIENT_DIV]").show();D.find("div[elName=PASTED_DATA_DIV]").show();D.find("div[elName=LOCAL_DRIVE_DIV]").hide();D.find("div[elName=MIGRATION_DIV]").hide();D.find("div[elName=CLOUD_PICKER_DIV]").hide();D.find("div[elName=GOOGLE_DOCS_DIV]").hide()}else{if(E=="CLOUD_PICKER"){D.find("div[elName=WEBCLIENT_DIV]").show();D.find("div[elName=PASTED_DATA_DIV]").hide();D.find("div[elName=LOCAL_DRIVE_DIV]").hide();D.find("div[elName=CLOUD_PICKER_DIV]").show();D.find("div[elName=GOOGLE_DOCS_DIV]").hide();D.find("div[elName=MIGRATION_DIV]").hide()}else{if(E=="GOOGLE_DOCS"){D.find("div[elName=WEBCLIENT_DIV]").show();D.find("div[elName=PASTED_DATA_DIV]").hide();D.find("div[elName=LOCAL_DRIVE_DIV]").hide();D.find("div[elName=CLOUD_PICKER_DIV]").hide();D.find("div[elName=GOOGLE_DOCS_DIV]").show();D.find("div[elName=MIGRATION_DIV]").hide()}else{if(E=="LOCAL_DRIVE"){D.find("div[elName=WEBCLIENT_DIV]").show();D.find("div[elName=PASTED_DATA_DIV]").hide();D.find("div[elName=LOCAL_DRIVE_DIV]").show();D.find("div[elName=MIGRATION_DIV]").hide();D.find("div[elName=CLOUD_PICKER_DIV]").hide();D.find("div[elName=GOOGLE_DOCS_DIV]").hide()}else{if(E=="MIGRATION"){D.find("div[elName=PASTED_DATA_DIV]").hide();D.find("div[elName=LOCAL_DRIVE_DIV]").hide();D.find("div[elName=WEBCLIENT_DIV]").hide();D.find("div[elName=MIGRATION_DIV]").show();D.find("div[elName=CLOUD_PICKER_DIV]").hide();D.find("div[elName=GOOGLE_DOCS_DIV]").hide()}}}}}};this.openCloudPickerForImport=function(F){this.isImport=true;var E=$("<div>").attr("id","zc-gadgets_cloudpicker_div").addClass("gadgets_cloudpicker_div").css({"z-index":"1001",position:"fixed",top:"0px",width:"100%",height:"100%"});var D=$("<iframe>").attr("id","zc-file_attach_iframe").attr("src",clouddocurl).addClass("gadgets_cloudpicker_iframe").css({border:"medium none",height:"100%",margin:"0px",padding:"0px",width:"100%"});E.append(D);D.one("load",function(){D.one("load",function(){var I=D[0],T=I.contentWindow?I.contentWindow.document:(I.contentDocument?I.contentDocument:I.document),R=T.documentElement?T.documentElement:T.body,Q;Q=R?R.innerHTML:null;var K=T.getElementsByTagName("pre")[0],S=T.getElementsByTagName("body")[0];if(K){Q=K.textContent?K.textContent:K.innerText}else{if(S){Q=S.textContent?S.textContent:S.innerText}}$(E).remove();Q=JSON.parse(Q);$("#cloudPickVal").val(JSON.stringify(Q));for(var N in Q){var H=Q[N];for(var O=0,J=H.length;O<J;O++){var P=H[O];var G=P.docName;if(!LIB._isNull(G)){var M=$("#cloudFileName");$(M).html(P.docName)}}}})});$("body").append(E)};this.initializeGadget=function(){$(window).off("message.gadgetsCloudPicker").on("message.gadgetsCloudPicker",function(F){F=F.originalEvent;if(F.data!=undefined&&F.data.type=="CloudPicker"){fileListObject=F.data.doc;if(fileListObject!=undefined){var I;var E;var H=[];var G=3;zohodocs=fileListObject.zohodocs;gdrive=fileListObject.gdrive;dropbox=fileListObject.dropbox;skydrive=fileListObject.skydrive;box=fileListObject.box;if(zohodocs!=undefined&&zohodocs.length>0){G=2;E="zohodocs";H.push(zohodocs[0])}else{if(gdrive!=undefined&&gdrive.length>0){G=3;E="gdrive";H.push(gdrive[0])}else{if(dropbox!=undefined&&dropbox.length>0){G=4;E="dropbox";H.push(dropbox[0])}else{if(skydrive!=undefined&&skydrive.length>0){G=5;E="skydrive";H.push(skydrive[0])}else{if(box!=undefined&&box.length>0){G=6;E="box";H.push(box[0])}}}}}if(H!=undefined){fileDetail=H[0];docId=fileDetail.docId;docType=fileDetail.docType;docName=fileDetail.docName;I=fileDetail.accountId;originalFileName=docName;if(docName.indexOf(".")<0){switch(docType){case"document":docName=docName+".doc";break;case"presentation":docName=docName+".ppt";break;case"spreadsheet":docName=docName+".xlsx";break;case"zohosheet":docName=docName+".xlsx";break;case"pdf":docName=docName+".pdf";break}}docName=decodeURIComponent(docName);docType=unescape(docType);docId=unescape(docId);originalFileName=unescape(originalFileName);I=unescape(I);if(A.isSheet2AppEnabled){$(C).find("input[name='docId']").val(docId);$(C).find("input[name='docType']").val(docType);$(C).find("input[name='docName']").val(docName);$(C).find("input[name='service']").val(E);if(E=="dropbox"){$(C).find("input[name='filePath']").val(filePath)}}else{docDetails=G+","+docId+","+docType+","+docName+","+originalFileName;if(G==4){docDetails+=","+I}var D={};D[G]=H;$("#cloudPickVal").val(JSON.stringify(D));$("#cloudFileName").text(docName)}$("#zc-gadgets_cloudpicker_div").remove();$(window).off("message.gadgetsCloudPicker");if(A.isSheet2AppEnabled){$(C).find("input[name='cloud']").val("true");A.postToSheet()}}}}else{if(F.data!=undefined&&F.data=="closePicker"){$("#zc-gadgets_cloudpicker_div").remove()}}})};this.openImportGDocDialog=function(){};var B=function(){var D=$.zcmodal({type:ZCModalConstants.JIT_MODAL,showPreloader:true,showClose:false,closeOnEsc:false,closeOnAnyClick:false,hideFooter:true,bodyClass:"show-import-dialog",wrapperClass:"zc-import-dialog",buildDOM:function(){return getModalProgress()}})};this.toggleScriptDiv=function(){var D=$("#ZC_IMPORTDATA_DIV").find("div[elName=SKIP_SCRIPT_DIV]");if($(D).css("display")=="none"){$(D).show()}else{$(D).hide()}};this.continueImport=function(E){var D=A.checkInputs(E);return D};this.importData=function(D){if(!A.checkInputs(D)){return false}if(ZCImport.isSheet2AppEnabled){$(D).attr("onsubmit","");$(D).submit()}else{var F=$(D).attr("actionurl");var E=new FormData($(D)[0]);$.ajax({beforeSend:function(){B()},url:F,type:"POST",processData:false,contentType:false,data:E,success:function(H,G,I){closeFirstPopup();$(".show-import-dialog").find(".popupConentContainer").html(H);ZCImport.bindEvents()},error:function(M){closeFirstPopup();var G=$("<div>").append(M.responseText).find("input[name=errorMeta]");var H;try{var J=JSON.parse($(G).val());H=J.errorDescription}catch(I){Console.log(I)}var K={};if(LIB._isNull(H)){K.msg=i18n.unsupportedfile}else{K.msg=H;K.desc=i18n.unsupportedfile}$.alert(K)}})}};this.checkInputs=function(E){if($(E).find(":input[name=IMPORT_MODE]").val()=="UPDATE_ADD"){var D=true;$.each($(E).find("div[elName=UPDATE_ADD_DIV]").find(":input[name=UPDATE_ADD_COLS]"),function(F,G){if($(G).is(":checked")){D=false}});if(D&&D.toString()=="true"){$.alert({msg:i18n.nofldtomatch});return false}}if($(E).find(":input[elName=PASTED_DATA_RADIO]").is(":checked")){if($(E).find(":input[name=PASTED_DATA]").val()==""){$.alert({msg:i18n.plzpastedata});return false}}if($(E).find(":input[elName=GOOGLE_DOCS_RADIO]").is(":checked")){if($(E).find(":input[name=GDOC_ID]").val()==""){$.alert({msg:i18n.nofiletoimport});return false}}if($(E).find(":input[elName=LOCAL_DRIVE_RADIO]").is(":checked")){if($(E).find(":input[name=DATA_FILE]").val()==""){$.alert({msg:i18n.nofiletoimport});return false}}return true};this.toggleFirstRow=function(H){var G=$("#ZC_IMPORTDATA_DIV").find("div[elName=ZCIMPORT_PREVIEW_DIV]");var D=$(G).find("tr[elName=ZCIMPORT_HDRDATA_TR]");var E=$(G).find("tr[elName=ZCIMPORT_HASHDR_TR]");var F=$(G).find("tr[elName=ZCIMPORT_NOHDR_TR]");if($(H).val()&&$(H).val().toString()=="true"){$(D).hide();$(F).hide();$(E).show()}else{$(D).show();$(E).hide();$(F).show()}};this.toggleCSVSettings=function(){var F=$("#ZC_IMPORTDATA_DIV");var D=$(F).find("div[elName=ZCIMPORT_CSVSETTINGS_DIV]");var E=$(F).find("div[elName=ZCIMPORT_PREVIEW_REFRESH_DIV]");if($(D).is(":hidden")){$(D).show()}else{$(D).hide()}};this.refreshPreview=function(F,K,G){var M=$("#ZC_IMPORTDATA_DIV");var J=$(M).find("#sheet_"+K).val();var N=$(M).find("div[elName=ZCIMPORT_CSVSETTINGS_DIV]");var H="ZCACTION=PARSEFILE&formLinkName="+K+"&FILENAME="+J;H+="&sharedBy="+ZCGlobal.scopeName;H+="&"+ZCGlobal.csrfTokenName+"="+ZCGlobal.csrfToken;H+="&DELIMETER="+$(N).find(":input[name=DELIMETER]").val();H+="&HASFIELDNAMES="+$(M).find(":input[elName=HASFIELDNAMES_RADIO]").is(":checked");H+="&TEXT_QUALIFIER="+$(N).find(":input[name=TEXT_QUALIFIER]").val();var I=$(N).find(":input[name=SKIP_TOP_ROWS]").val();if(!isNull(I)){H+="&SKIP_TOP_ROWS="+I}var D=$(N).find(":input[name=COMMENT_CHAR]").val();if(!isNull(D)){H+="&COMMENT_CHAR="+D}var E=ZCGlobal.serverPrefix+"/"+ZCGlobal.scopeName+"/"+F+"/import/"+K+"/importFormData";if(G!=undefined&&G!=""){E+="?reportLinkName="+G}$.ajax({beforeSend:function(){},url:E,type:"POST",data:H,success:function(Q,P,R){var O=$(M).find("div[elName=ZCIMPORT_PREVIEW_DIV]");$(O).html(Q);ZCImport.bindEvents();$(M).find("#hideCSVSettings").toggleClass("hide")}})};this.isTrue=function(D){return(D&&D.toString()=="true")};this.checkColumn=function(D){if(!A.isTrue($(D).is(":checked"))){$("#ZC_IMPORTDATA_DIV").find("div[elName=ZCIMPORT_PREVIEW_DIV]").find("select:eq("+$(D).attr("colIndex")+")").val(-1)}};this.fieldOnChange=function(I){var H=$("#ZC_IMPORTDATA_DIV").find("div[elName=ZCIMPORT_PREVIEW_DIV]");var E=$(I).attr("colIndex");var D=$(I).val();var F=$(H).find("tr[elName=ZCIMPORT_NOHDR_TR]");var G=$(H).find("tr[elName=ZCIMPORT_HASHDR_TR]");if(D==-1){$(G).find(":checkbox:eq("+E+")").prop("checked",false);$(F).find(":checkbox:eq("+E+")").prop("checked",false)}else{$.each($(H).find("select"),function(J,M){if(D==$(M).val()){var K=(J==E);if(!A.isTrue(K)){$(M).val(-1)}$(G).find(":checkbox:eq("+J+")").prop("checked",K);$(F).find(":checkbox:eq("+J+")").prop("checked",K)}})}};this.importFormData=function(J,I,Y,F){var T=$("#ZC_IMPORTDATA_DIV");var S=$(T).find("div[elName=ZCIMPORT_PREVIEW_DIV]");var Z=$(S).find("tr[elName=ZCIMPORT_LABEL_TR]");var X=$(T).find(":input[elName=HASFIELDNAMES_RADIO]").is(":checked");var V=X?$(S).find("tr[elName=ZCIMPORT_HASHDR_TR]"):$(S).find("tr[elName=ZCIMPORT_NOHDR_TR]");var N="ZCACTION=IMPORT";N+="&formLinkName="+I;N+="&HASFIELDNAMES="+X;N+="&DELIMETER="+$(T).find(":input[name=DELIMETER]").val();N+="&TEXT_QUALIFIER="+$(T).find(":input[name=TEXT_QUALIFIER]").val();N+="&SKIP_TOP_ROWS="+$(T).find(":input[name=SKIP_TOP_ROWS]").val();N+="&ONIMPORTERROR="+$(T).find(":input[name=ONIMPORTERROR]").val();N+="&sharedBy="+ZCGlobal.scopeName;N+="&appLinkName="+J;N+="&zccpn="+$(T).find(":input[name=zccpn]").val();var Q=$(T).find(":input[name=DATE_FORMAT]").val();if(!isNull(Q)){N+="&DATE_FORMAT="+Q}var E=$(T).find(":input[name=COMMENT_CHAR]").val();if(!isNull(E)){N+="&DATE_FORMAT="+E}var U=JSON.parse(F);if(!isNull(U.FILENAME)){var K=U.FILENAME;var R=$(T).find("select[name=SHEET_NAME]").val();if(R!=undefined){K=R}N+="&FILENAME="+encodeURIComponent(K);var O=[];var G=$(T).find("select[name='SHEET_NAME']").find("option");for(i=0;i<G.length;i++){O.push($(G[i]).val())}N+="&FILELIST="+JSON.stringify(O)}var W=$(T).find("select[name=DATE_TYPE]").val();if(!isNull(W)){N+="&DATE_TYPE="+W}if(!isNull(U.IMPORT_MODE)){N+="&IMPORT_MODE="+U.IMPORT_MODE}if(!isNull(U.SKIP_ONUPDATE)){N+="&SKIP_ONUPDATE="+U.SKIP_ONUPDATE}if(!isNull(U.SKIP_ONSUBMIT)){N+="&SKIP_ONSUBMIT="+U.SKIP_ONSUBMIT}if(!isNull(U.SKIP_ONCOMMIT)){N+="&SKIP_ONCOMMIT="+U.SKIP_ONCOMMIT}if(!isNull(U.IMPORTSUBFORMDATA)){N+="&IMPORTSUBFORMDATA="+U.IMPORTSUBFORMDATA}if(!isNull(U.MATCHING_COLUMNS)){var H=JSON.parse(U.MATCHING_COLUMNS);for(var P=0;P<H.length;P++){N+="&MATCHING_COLUMNS="+H[P]}}var M=false;N+="&IMPORTCOLUMNS=<COLUMNS>";$.each($(V).find(":input[type=checkbox]"),function(a,b){var c=$(Z).find(":input:eq("+a+")").val();var d=(A.isTrue($(b).is(":checked"))&&(c!=-1));if(A.isTrue(d)){M=true}N+='<COLUMN INDEX="'+(a+1)+'" DELUGENAME="'+c+'" IMPORT="'+d+'" />'});N+="</COLUMNS>";if(Geolocation.locationError==undefined&&Geolocation.locationData!=undefined){N+="&GEOLOCATION="+Geolocation.locationData}if(!isNull(U.ISGEOLOCATION)&&U.ISGEOLOCATION&&Geolocation.locationData==undefined){Geolocation.locationError=(Geolocation.locationError==undefined)?i18n.formgeolocationerror:Geolocation.locationError;$.alert({msg:Geolocation.locationError,desc:(Geolocation.locationError==i18n.formgeolocationerror)?i18n.formgeolocationdesc:i18n.geolocbrowsererror,handleFocus:false});return false}if(M){var D=ZCGlobal.serverPrefix+"/"+ZCGlobal.scopeName+"/"+J+"/import/"+I+"/importFormData";if(Y!=undefined&&Y!=""){D=D+"?reportLinkName="+Y}$.ajax({beforeSend:function(){B()},url:D,type:"POST",data:N,success:function(b,a,c){closeFirstPopup();$(".show-import-dialog").find(".popupConentContainer").html(b);ZCImport.bindEvents()},error:function(a){closeFirstPopup();$.alert({msg:"An error occurred.."});Console.log(a)}})}else{$.alert({msg:i18n.selectatleastacolumntoimport})}};this.showHideImportError=function(I){var F=$(I).closest("table.zc-import-table");var H=$(F).find("tr[elName=ZCERRORDETAILS]");var D=A.isTrue($(I).attr("showError"));var G=$(F).find("a[errorEle='true']");var E=$(I).closest("tbody").find("tr[elName=ZCERRORDETAILS]");$(H).hide();$(G).attr("showError",true);$(G).html(i18n.showimperrors);if(D){$(E).show();$(I).attr("showError",false);$(I).html(i18n.hideimperrors)}else{$(E).hide();$(I).attr("showError",true);$(I).html(i18n.showimperrors)}}}();function evaluateJs(A,C){var B=document.createElement("script");B.text=A;document.getElementsByTagName("body")[0].appendChild(B);doaction(C);if(window.openURLBreak){window.openURLBreak=false;return true}return false}function openWindowTask(D,C,B){if($zcmodal.hasInstance()){isUrlContainsDialog=$.IsLoadInDialog(D);$zcmodal.getTopPopup().close()}D=D.trim();var A=D.toLowerCase();if(!ZCSecurity.isURLXSSVulnerable(D)){window.openURLBreak=LIB._openURL(D,C,B)}}function createInputElement(B,C){var A=document.createElement("input");A.type="hidden";A.setAttribute("name",B);A.setAttribute("value",C);return A}function createFormElement(D,A,C){var B=document.createElement("form");if(!isNull(D)){B.setAttribute("method",D)}if(!isNull(A)){B.setAttribute("action",A)}if(!isNull(C)){B.setAttribute("target",C)}return B}function isInsideFence(C,B){var A=C.RAD,E=C.UNIT;var H=G(D(C.LAT),D(B.latitude),D(C.LON-B.longitude));if(E==="K"){H=H*1.852}else{if(E==="M"){H=H*1.15078}}return(H<=A);function G(K,J,M){var I=Math.sin(K)*Math.sin(J)+Math.cos(K)*Math.cos(J)*Math.cos(M);var N=Math.acos(I);return F(N)*60}function D(I){return(I*Math.PI)/180}function F(I){return(I*180)/Math.PI}}$.ajaxSetup({error:function(B,A,C){liveErrorHandler.handleError(B,A,C)}});$.zcAjax=(function(D){D.zcAjax=true;var A=D.success,B=D.error,C={};$.ajaxSetup(C,D);if(!C.async){throw new Error("options.async false not supported")}C.success=function(G,E,F){interceptAJAXResponse(C,G,E).then(function(){if(A){A(G,E,F)}})};C.error=function(F,E,G){if(B){B(F,E,G)}else{liveErrorHandler.handleError(F,E,G)}};interceptAJAXRequest(C).then(function(){$.ajax(C)})});$.ajaxPrefilter(function(C,A,E){if(A.zcAjax){return }var D=C.type;if(D.toUpperCase()=="POST"&&window.location.host===zcNewLivePublicDomain){var F=C.url;var B=F.indexOf("?");if(B>=0){C.url=F.substring(0,B)+"/zc_public"+F.substring(B)}else{if(F.endsWith("/")){C.url=F+"zc_public"}else{C.url=F+"/zc_public"}}}});function getSpecificDomain(A){switch(A){case Constants.ZOHO_MAPS:return typeof (ZCGlobal)!=="undefined"&&ZCGlobal.buildSetup=="eu"?Constants.ZMAPS_DOMAIN_EU:Constants.ZMAPS_DOMAIN;case Constants.IMAGE_STATIC_SERVER:return typeof (ZCGlobal)!=="undefined"&&ZCGlobal.buildSetup=="eu"?Constants.IMG_STATIC_SERVER_EU:Constants.IMG_STATIC_SERVER}}formAccessURLRegex=new RegExp("/([A-Za-z0-9_.-]+)/([A-Za-z0-9_-]+)/(form|form-perma|form-embed)/([A-Za-z0-9_-]+)$");previewURLRegex=new RegExp("/preview/([A-Za-z0-9_.-]+)/([A-Za-z0-9_-]+)/(form|report|page)/([A-Za-z0-9_-]+)$");function isFormAccessURL(C){var E=document.createElement("a");E.href=ZCGlobal.serverPrefix;var A=C.indexOf(E.host);var B=C.indexOf("?");var F=(B===-1)?C.substring(A+(E.host).length):C.substring(A+(E.host).length,B);var D=F.search(formAccessURLRegex);return D===0||D!==-1&&previewURLRegex.test(C)}function decode(D,C){if(D==undefined){D=document.createElement("textarea")}if(C!=undefined&&typeof (C)=="string"&&C.toLowerCase().indexOf("</textarea>")!=-1){var B=C.toLowerCase().indexOf("</textarea>");var A=C.substring(B,B+11);C=C.replace(A,"ZCtextareaZC");D.innerHTML=C;C=D.value.replace("ZCtextareaZC",A)}else{D.innerHTML=C;C=D.value}return C}var FormatConstants=new function(){this.DEFAULTFORMAT=0;this.COMMADOTENGLISH=1;this.COMMADOTINDIA=2;this.SPACECOMMA=3;this.DOTCOMMA=4;this.QUOTEDOT=5};var FormatSeparators={0:["","."],1:[",","."],2:[",","."],3:[" ",","],4:[".",","],5:["'","."]};function zcDebounce(B,A){A||(A=250);var C;return function(){var D=this,E=arguments;clearTimeout(C);C=setTimeout(function(){C=null;B.apply(D,E)},A)}}function zcThrottle(C,A){A||(A=250);var B=0;return function(){var D=this,F=arguments,E=+new Date();if(E>=B+A){B=E;C.apply(D,F)}}}function ZCWebStorage(){}ZCWebStorage.localStore={};ZCWebStorage.fallback=false;ZCWebStorage.setItem=function(B,A){if(typeof (Storage)!=="undefined"){try{localStorage.setItem(B,A)}catch(C){ZCWebStorage.fallback=true}}else{ZCWebStorage.fallback=true}if(ZCWebStorage.fallback){ZCWebStorage.localStore[B]=A}};ZCWebStorage.getItem=function(B){var A=false;if(!ZCWebStorage.fallback&&typeof (Storage)!=="undefined"){try{var C=localStorage.getItem(B);return C}catch(D){A=true}}else{A=true}if(A){return ZCWebStorage.localStore[B]}};ZCWebStorage.hasItem=function(B,A){var C=ZCWebStorage.getItem(B);return((C!=undefined&&A==undefined)||(C!=undefined&&A!=undefined&&C==A))};ZCWebStorage.remove=function(B){var A=false;if(!ZCWebStorage.fallback&&typeof (Storage)!=="undefined"){try{localStorage.removeItem(B)}catch(C){A=true}}else{A=true}if(A){delete ZCWebStorage.localStore[B]}};var IP_LOCATE={};function iplocate(A,B,C){if(ZCGlobal.buildSetup=="dev"||ZCGlobal.buildSetup=="local"){IP_LOCATE={OLSON_TIME_ZONE:"ASIA/KOLKATA",CITY:"CHENNAI",ZIPCODE:"600009",LONGITUDE:"80.278470",ISP_NAME:"TATA COMMUNICATIONS LIMITED",COUNTRY_NAME:"INDIA",TIMEZONE:"+05:30",NETSPEED:"DSL",DOMAIN_NAME:"TATACOMMUNICATIONS.COM",LATITUDE:"13.087840",REGION:"TAMIL NADU",COUNTRY_CODE:"IN"};A(IP_LOCATE)}else{if(Object.keys(IP_LOCATE).length==0){var E=Constants.IP_INFO_URL;var D={};if(!isNull(C)){D.privatelink=C}D[ZCGlobal.csrfTokenName]=ZCGlobal.csrfToken;$.post(E,D).done(function(F){IP_LOCATE=F;A(F)}).fail(B)}else{A(IP_LOCATE)}}}function setKeyParam(){var A=arguments[0];var B=arguments[1];return A.replace(/\{(\d+)\}/g,function(){return B[arguments[1]]})}function insertContent(G,C){var F=$(G).val();var E;var B=$(G).prop("selectionStart");if(document.selection){$(G).focus();var D=document.selection.createRange();D.text=$(this).val();$(G).focus()}else{if(B||B=="0"){var A=$(G).prop("selectionEnd");var E=F.substring(0,B)+C+F.substring(A,F.length);$(G).val(E);$(G).focus();$(G).prop("selectionStart",B+C.length);$(G).prop("selectionEnd",B+C.length)}else{E=F+C;$(G).focus();$(G).val(E)}}}$.fn.dtPicker=function(D){var B=$(this);var C=function(J){var G=D.initParent?$(J).parent():J;if($(G).data("dtpicker")!=undefined){return $(G).data("dtpicker")}var O=function(Q){delete $.fn.datetimepicker.defaults.keyBinds.t;var b=Q.value?Q.value:$(J).val();var Z="zc-dem-date-picker-icon "+(Q.iconClass==undefined?"zc-em zc-common-calendar":Q.iconClass);var S=true;var c=[0,1,2,3,4,5,6];var a=Q.format==undefined?"DD-MMM-YYYY":Q.format;var W=Q.onShowCallback==undefined?function(){}:Q.onShowCallback;var Y=Q.onChangeCallback==undefined?function(){}:Q.onChangeCallback;var V=Q.onHideCallback==undefined?function(){}:Q.onHideCallback;var U;if(Q.showClearValue){var T=$(J).parent();var P=(b!="")?"":"hide";if(Q.clearIconCallbk!=undefined){Q.clearIconCallbk(P);T=$(J)}else{var X="<span class='zc-dem-date-picker-clear-icon "+P+"'><i class='zc-db-em zc-dbemcommon-close'></i></span>";if(!$(T).find(".zc-dem-date-picker-clear-icon").length){$(T).css("position","relative");$(T).append(X)}}U=$(T).find(".zc-dem-date-picker-clear-icon");$(U).off("click").on("click",function(d){I(Q.clearCallback)})}if(Q.showIcon){if(!$(J).siblings("#zc-dtpicker-icon").length){$("<i></i>").attr("id","zc-dtpicker-icon").addClass(Z).insertAfter($(J))}$(J).siblings("#zc-dtpicker-icon").off("click").on("click",function(){$(J).focus()})}if(isNull(b)){S=false;b=moment()}if(!$("body").find("#active-DatePicker-Cont").length){$("body").append('<div id="active-DatePicker"><div style="position:relative" id="active-DatePicker-Cont" class="zc-dem-datepicker"></div></div><div id="" class="zc-scroll-mask" style="display: none;"></div>')}var R={locale:"en-US",useCurrent:Q.useCurrent==undefined?false:Q.useCurrent,keepInvalid:Q.keepInvalid==undefined?false:Q.keepInvalid,format:a,defaultDate:Q.defaultDate==undefined?b:Q.defaultDate,debug:false,allowInputToggle:true,minDate:Q.minDate==undefined?false:Q.minDate,maxDate:Q.maxDate==undefined?false:Q.maxDate,sideBySide:Q.sideBySide==undefined?true:Q.sideBySide,showTodayButton:Q.showTodayButton==undefined?false:Q.showTodayButton,showClear:Q.showClear==undefined?false:Q.showClear,showClose:Q.showClose==undefined?false:Q.showClose,useStrict:true,daysOfWeekDisabled:Q.allowedDays==undefined?false:K(c,Q.allowedDays.split(",")),enabledHours:Q.allowedHours==undefined?false:Q.allowedHours,disabledHours:Q.notallowedHours==undefined?false:Q.notallowedHours,widgetPositioning:Q.widgetPointer==undefined?{horizontal:"auto",vertical:"auto"}:Q.widgetPointer,widgetParent:$("#active-DatePicker-Cont"),parseInputDate:function(d,e){e.locale("en-US",{weekdaysMin:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]});if(e.isMoment(d)||d instanceof Date){d=e(d)}else{d=e(d,a)}return d},ignoreReadonly:Q.ignoreReadonly==undefined?false:Q.ignoreReadonly,focusOnShow:Q.focusOnShow==undefined?true:Q.focusOnShow,keepOpen:Q.keepOpen==undefined?false:Q.keepOpen,};if(Q.icons!=undefined){R.icons=Q.icons}if(Q.zcLocale!=undefined){R.zcLocale=Q.zcLocale}if(Q.customInput){delete R.parseInputDate}$(G).datetimepicker(R);if(!S){if(Q.defaultValueCallbk!=undefined){Q.defaultValueCallbk()}else{if(Q.initParent){$(G).children(":input").val("")}else{$(G).val("")}}}$(G).on("dp.show",function(e){var d=ifreeze({container:"body",type:ZCFreezeConstants.MASK_ONLY_TYPE});$(d).after($("body").find("#active-DatePicker"));H(e,Q);W()});$(G).on("dp.hide",function(d){$(".zc-scroll-mask").hide();unfreeze({container:"body",type:ZCFreezeConstants.MASK_ONLY_TYPE});if($(J).val()!=""&&Q.showClearValue){$(U).removeClass("hide")}V();$(J).blur()});$(G).off("dp.change").on("dp.change",function(d){Y(d);if(Q.showClearValue){$(U).removeClass("hide")}})};function K(R,P){var Q=[],U=[];for(var T=0;T<R.length;T++){Q[R[T]]=true}for(var T=0;T<P.length;T++){if(Q[P[T]]){delete Q[P[T]]}else{Q[P[T]]=true}}for(var S in Q){U.push(S)}return U}function H(P,Q){var b=Q.dtPickerLocateElem!=undefined?Q.dtPickerLocateElem:$(P.target);var Y=20;var R=51;var T=$(b).offset();var a=T.top+$(b).height()+(($(b).outerHeight(true)-$(b).height())/2);var S=T.left+(($(b).outerWidth(true)-$(b).width())/2);var U=S+$(".bootstrap-datetimepicker-widget").outerWidth(true);var X=a+$(".bootstrap-datetimepicker-widget").outerHeight(true);if((U-R)>$(window).width()){S-=($(".bootstrap-datetimepicker-widget").outerWidth(true)-$(b).width())}var W="top";var Z=$(window).height()-a;var V=T.top-$(".bootstrap-datetimepicker-widget").outerHeight(true);if($(window).scrollTop()==0){if(T.top>$(".bootstrap-datetimepicker-widget").height()){if(Z<$(".bootstrap-datetimepicker-widget").outerHeight(true)){a=V}else{W="bottom"}}else{if(Z<T.top){a=V}else{if(Z>a){W="bottom"}}}}if($(window).scrollTop()!=0){a=a-$(window).scrollTop();if(a+$(".bootstrap-datetimepicker-widget").outerWidth(true)>$(window).height()){a=a-($(".bootstrap-datetimepicker-widget").outerHeight(true)+$(P.target).height());W="bottom"}}if(W=="top"){$(".bootstrap-datetimepicker-widget").removeClass("bottom").addClass("top")}else{$(".bootstrap-datetimepicker-widget").removeClass("top").addClass("bottom")}$(".bootstrap-datetimepicker-widget").css({top:a,left:S,bottom:"auto",right:"auto",position:"fixed"});$(".bootstrap-datetimepicker-widget").css("z-index",9991)}try{if(getConfig().useCompression&&Modules.DATETIMEPICKER!=undefined){var E=new Requires(Modules.DATETIMEPICKER);require(E.get(),E.getPromise(function(){O(D)}))}else{O(D)}}catch(M){var N=window.console;N.log(M)}var F={destroy:function(){$(J).parent().find(".zc-dem-date-picker-clear-icon").remove();$(J).siblings("#zc-dtpicker-icon").remove();$(G).removeData("dtpicker");return $(G).data("DateTimePicker").destroy()},clear:function(P){I(P)},disable:function(){var P;if(D.initParent){P=$(G).find(".zc-dem-date-picker-clear-icon");$(G).find("input[type=text]").attr("disabled",true)}else{P=$(G).parent().find(".zc-dem-date-picker-clear-icon");$(G).attr("disabled",true)}if($(P).length){$(P).removeClass("hide").addClass("hide")}return $(G)},enable:function(){var P;if(D.initParent){P=$(G).find(".zc-dem-date-picker-clear-icon");$(G).find("input[type=text]").removeAttr("disabled")}else{P=$(G).parent().find(".zc-dem-date-picker-clear-icon");$(G).removeAttr("disabled")}if($(P).length){$(P).removeClass("hide")}return $(G)},date:function(){return $(G).data("DateTimePicker").date()},format:function(P){return $(G).data("DateTimePicker").format(P)},minDate:function(P){return $(G).data("DateTimePicker").minDate(P)},maxDate:function(P){return $(G).data("DateTimePicker").maxDate(P)},show:function(){return $(G).data("DateTimePicker").show()}};var I=function(Q){var P=G;if(D.initParent){clearIcon=$(G).find(".zc-dem-date-picker-clear-icon");P=$(G).find("input[type=text]")}else{clearIcon=$(G).parent().find(".zc-dem-date-picker-clear-icon")}$(clearIcon).removeClass("hide").addClass("hide");$(P).val("");if(Q){Q();$(clearIcon).removeClass("hide").addClass("hide")}};$(G).data("dtpicker",F);return F};if($(B).length>1){var A=[];$(B).each(function(E){A.push(C(this))});return A}else{return C(B)}};var ZCModalConstants={MODAL_SUBMIT:1,MODAL_CANCEL:2,MODAL_BUTTON:3,AJAX_MODAL:1,JIT_MODAL:2};$zcmodal={_modalStack:[],_theme:"default",getTopPopup:function(){if(this._modalStack[this._modalStack.length-1]!=undefined){return this._modalStack[this._modalStack.length-1].value}},hasInstance:function(){return this._modalStack.length>0},getModal:function(D){var A;for(var B in this._modalStack){var C=this._modalStack[B];if(C.key==D){A=C.value}}return A}};function ZCModal(B,D){var C=this;this.target=B;var A=$.extend({},this.defaults,D);this._data=A;this.getOptions=function(){return A};this.isCloseOnEsc=function(){return A.closeOnEsc};this.getBeforeClose=function(){return A.beforeClose};this.getAfterClose=function(){return A.afterClose};this.open()}ZCModal.prototype.defaults={zcmodalId:"",title:null,bodyClass:null,wrapperClass:"",showClose:true,closeOnEsc:true,closeOnAnyClick:true,hideHeader:false,hideFooter:false,showInFullScreen:false,showInSlideScreen:false,skipFreeze:false,type:ZCModalConstants.JIT_MODAL,modalBody:null,ajaxuri:null,showPreloader:false,buildDOM:function(){return""},buttons:[],overrideActions:false,beforeShow:function(A){},beforeClose:function(A){return true},afterClose:function(){},afterOpen:function(A){}};ZCModal.prototype.setModalBody=function(){var B=this.getOptions();var A=this;var C=B.containerClass;switch(B.type){case ZCModalConstants.AJAX_MODAL:A.$modalBody="";$.ajax({beforeSend:function(){if(B.showPreloader){LIB._startLoading();this.async=true}},url:B.ajaxuri,type:"GET",async:false,success:function(E,D,F){A.$modalBody=E;if(B.showPreloader){A.setBody(E);LIB._stopLoading()}}});break;case ZCModalConstants.JIT_MODAL:A.$modalBody=B.buildDOM();break}};ZCModal.prototype.setBody=function(A){var B=this;B.$overlay.find(B.getOptions().containerClass).fadeIn("slow",function(){$(this).html(A)})};ZCModal.prototype.getBody=function(){return this.$overlay.find(this.getOptions().containerClass)};ZCModal.prototype.addShortcut=function(){var A=this;var B=A.getOptions();var C=Shortcut.pushContext(B.shortcutContext);if(!isNull(B.shortcutContext)){if(!isNull(B.submitOnEnterKey)&&B.submitOnEnterKey==true){C.assign(Keys.ENTER.code,function(){A.$container.find("[name='ok']").click()})}if(B.shortcutContext==KeyContexts.POPUP.ALERT){C.assign(Keys.ESCAPE.code,function(){A.$container.find("[name='ok']").click()})}else{C.assign(Keys.ESCAPE.code,function(){A.$container.find("[name='cancel']").click()})}}B.showClose&&C.assign(Keys.ESCAPE.code,function(){A.close()})};ZCModal.prototype.open=function(){var A=this;options=A.getOptions();this._optionCache={};A.buildDOM();A.buildModal();options.zcmodalId=isNull(options.zcmodalId)?A.$container.prop("id"):options.zcmodalId;if(!options.overrideActions){A.addEventListeners()}else{(options.bindActions)(A)}if(ZCGlobal.isMobileLayout){$(".zc-mobile-back-button").hide()}A._optionCache.type=options.type;A.$overlay.show().data(A);if(isNull(A.$container.prop("id"))){A.$key=$zcmodal._modalStack.length}else{A.$key=options.zcmodalId}if(ZCGlobal.isMobileLayout&&!isNull(options.wrapperClass)&&options.wrapperClass==="zc-mob-fullscreen"){A.$body.find(".zc-mobile-layout").addClass("zc-container-hide");$.each($zcmodal._modalStack.slice(0,A.index),function(){$(this.$overlay).addClass("zc-container-hide")})}setTimeout(function(){A.$body.addClass("zcmodal_active")},($zcmodal.hasInstance()?0:50));if(!isNull(options.shortcutContext)){A.addShortcut()}(options.beforeShow)(A.getBody());A.index=$zcmodal._modalStack.push({key:A.$key,value:A})-1;A.$overlay.show();(options.afterOpen)(A.getBody());if(options.select2Focus){setTimeout(function(){select2FocusField(A.$overlay.find(".zc-dem-field-group:first"))},100)}};ZCModal.prototype.close=function(){var B=this;var C=B.getOptions();var A=(B.getBeforeClose())(B.$container);if(A!=false){if(B.index!=undefined){$zcmodal._modalStack.splice($zcmodal._modalStack.length-1,1)}if(!C.skipFreeze){unfreeze()}if(!isNull(C.popupType)){Shortcut.popContext()}else{if(!$zcmodal.hasInstance()){$(document.body).removeClass("zcmodal_active")}}if(ZCGlobal.isMobileLayout&&!$zcmodal.hasInstance()){$(".zc-mobile-back-button").show()}if(ZCGlobal.isMobileLayout&&!isNull(C.wrapperClass)&&C.wrapperClass==="zc-mob-fullscreen"){var D=$zcmodal._modalStack.length;if(D){$($zcmodal._modalStack[$zcmodal._modalStack.length-1].$overlay).removeClass("zc-container-hide")}else{B.$body.find(".zc-mobile-layout").removeClass("zc-container-hide")}}if(!C.skipFreeze){B.$container.removeClass("zc-dem-freeze-content")}B.$overlay.hide();if(C.popupType=="iSlide"&&C.showInSlideScreen){B.$container.deActive(function(){B.$container.removeClass("zc-dem-slider");$("body").removeClass("zc-dem-slider-loaded")})}else{B.$overlay.remove()}(B.getAfterClose())()}};function validateModal(){var I=this.getOptions();var B="\n Button Usage: \n{ \n\t name : //Name and value of button (STRING),\n\t type : //Type of button <Choices :ZCModalConstants.MODAL_SUBMIT, ZCModalConstants.MODAL_BUTTON, ZCModalConstants.MODAL_CANCEL> (INTEGER),\n\t action : //action execute on click of this button (FUNCTION)\n}";var H=I.buttons;for(var D=0,F=H.length;D<F;D++){var E=H[D];if(isNull(E.name)||isNull(E.type)||isNull(E.action)){throw new MissingProperty("for button "+E+B)}else{if(isNaN(E.type)){throw new InvalidProperty("Button.type for button : "+E+B)}else{if($.isFunction(E.action)){throw new InvalidProperty("Button.action for button : "+E+B)}}}}var G=["width","height","offsetTop","type"];for(var D=0,F=G.length;D<F;D++){if(isNaN(I[G[D]])){throw new InvalidProperty(G[D])}}var A=["showClose","closeOnEsc","closeOnAnyClick","draggable","hideHeader","hideFooter","showOnfocus"];for(var D=0,F=A.length;D<F;D++){if(I[A[D]].constructor!=Boolean){throw new InvalidProperty(A[D])}}var C=["beforeShow","beforeClose","afterClose"];for(var D=0,F=C.length;D<F;D++){if($.isFunction(I[C[D]])){throw new InvalidProperty(C[D])}}}function getScrollbarWidth(){if($(document.body).height()<=$(window).height()){return 0}var D=document.createElement("div"),B=document.createElement("div"),A,C;D.style.visibility="hidden";D.style.width="100px";document.body.appendChild(D);A=D.offsetWidth;D.style.overflow="scroll";B.style.width="100%";D.appendChild(B);C=B.offsetWidth;D.parentNode.removeChild(D);return A-C}$.fn.zcmodal=function(B){var A=new ZCModal(this,B);$(this).data("zcmodal",A.index);return A};$.zcmodal=function(B){var A=new ZCModal(undefined,B);return A};function MissingProperty(A){this.message+="Cannot find property "+(A||"")}MissingProperty.prototype=new Error();function InvalidProperty(A){this.message+="Invalid property "+(A||"")}InvalidProperty.prototype=new Error();var freezeStack=[];var ZCFreezeConstants={DEFAULT_TYPE:1,MASK_ONLY_TYPE:2,FREEZER_FOR_MOBILE:3};function ZCFreeze(C){this.defaults={container:$("#zc-dem-container"),clickCallBack:function(){return""},type:ZCFreezeConstants.DEFAULT_TYPE};$.extend(defaults,C);var A=function(){return freezeStack.length};var F=function(){return A()-1};var B=function(){return freezeStack[F()]};var D=function(H,G){if(defaults.type==ZCFreezeConstants.FREEZER_FOR_MOBILE&&!ZCGlobal.isMobileLayout){return $(H).hide()}if(!G){typeHandling(defaults.type,H)}$(H).off("click").on("click",function(){defaults.clickCallBack()});if(defaults.animation&&defaults.animation=="fade"){return $(H).fadeIn()}return $(H).show()};var E=function(G){if(defaults.animation&&defaults.animation=="fade"){return $(G).fadeOut()}return $(G).hide()};return{show:function(){if(A()==1&&!$(B()).is(":visible")){return D(B())}if(!(defaults.type==ZCFreezeConstants.MASK_ONLY_TYPE&&!ZCGlobal.isMobileLayout)){A()&&E(B())}var G=getFreezeHtml();$(defaults.container).append(G);freezeStack.push(G);return D(G)},hide:function(){E(B());A()&&$(freezeStack.pop()).remove();if(A()){return D(B(),true)}else{$("body").removeClass("zc-freeze-scroll-mask")}}}}function ifreeze(A){return ZCFreeze(A).show()}function unfreeze(A){return ZCFreeze(A).hide()}function getFreezeHtml(){return $('<div class="zc-freezer"></div>')}function typeHandling(B,A){var C="zc-freezer-layer";var D="zc-freeze-scroll-mask";switch(B){case ZCFreezeConstants.DEFAULT_TYPE:$("body").addClass(D);$(A).addClass(C);break;case ZCFreezeConstants.FREEZER_FOR_MOBILE:if(ZCGlobal.isMobileLayout){$("body").addClass(D);$(A).addClass(C)}break;case ZCFreezeConstants.MASK_ONLY_TYPE:$("body").addClass(D);if(ZCGlobal.isMobileLayout){$(A).addClass(C)}else{$(A).removeClass(C)}break}}$ZCPopover={_popoverStack:[]};var ZCPopoverType={ZC_ACTION_SHEET:1,ZC_CALLOUT:2,ZC_ACCORDION:3};$.fn.zcPopover=function(B){var D={content:this,isFreeze:true,isSlider:false,popoverType:ZCPopoverType.ZC_ACTION_SHEET,containerClass:"",hideCallBack:function(){return""}};$.extend(D,B);var A=$(D.content).data("zcpo");if(A!=undefined){return A}else{var C=ZCPopover(D);$(D.content).data("zcpo",C);return C}};function ZCPopover(B){var F;var E=function(G){G.popOverContent=$(G.content).clone(true);if(G.popOverContent!=undefined){F=$("<div elemname='zc-popover-container' class='zc-popover-container'></div>");F.append(G.popOverContent);$(G.popOverContent).css("display","block");F.addClass(G.containerClass);var H="";switch(G.popoverType){case ZCPopoverType.ZC_ACTION_SHEET:H="zc-action-sheet-popover";break;case ZCPopoverType.ZC_CALLOUT:H="zc-callout-popover";break;case ZCPopoverType.ZC_ACCORDION:H="zc-accordion-popover";break}if(ZCGlobal.isMobileLayout){$("body").append(F);$(G.popOverContent).addClass(H)}else{if(G.elemTarget!=undefined){$(G.elemTarget).append(F)}else{$(G.content).after(F)}}}G.popOverContainer=$(F)};var D=function(H){$(H.content).removeData("zcpo");var G=$(H.popOverContainer)[0];$(G).remove()};var A=function(G){if(G.scrollElm!=undefined){var I=$(G.popOverContainer).find(G.scrollElm);var H=(typeof (ZCGlobal.appDirectionMeta)!="undefined"&&ZCGlobal.appDirectionMeta.isRTL)?ZCGlobal.appDirectionMeta.scrollerPosition:"right";$(I).data("zcsp")!=undefined?$(I).data("zcsp").scrollToPosition(0,false,0):$(I).zcScrollPane({VerticalBarWidth:4,scrollPosition:H})}if(ZCGlobal.isMobileLayout){$(G.popOverContainer).css({"z-index":"998"})}};var C=function(H){if(ZCGlobal.isMobileLayout&&H.isFreeze&&H.toShow){var G=ifreeze({container:"body",clickCallBack:function(){$(H.content).data("zcpo").hide()}});$(G).after(H.popOverContainer)}if(ZCGlobal.isMobileLayout&&H.isFreeze&&!H.toShow){unfreeze({container:"body"})}};E(B);return{getPopoverContainer:function(){return $(B.popOverContainer)},isSlider:function(){return B.isSlider},show:function(){var G=$ZCPopover._popoverStack[0];if(G!=undefined){G.hide()}B.toShow=true;C(B);B.isSlider?$(B.popOverContainer).slideDown(function(){A(B)}):$(B.popOverContainer).show();!B.isSlider&&A(B);$ZCPopover._popoverStack.push(this)},hide:function(){B.toShow=false;C(B);B.isSlider?$(B.popOverContainer).slideUp(function(){D(B)}):$(B.popOverContainer).hide();!B.isSlider&&D(B);$ZCPopover._popoverStack.pop();B.hideCallBack()},toggle:function(){var G=$(B.popOverContainer).is(":visible");B.toShow=G?false:true;if(!G){var H=$ZCPopover._popoverStack[0];if(H!=undefined){H.hide()}if(!B.isSlider){$(B.popOverContainer).show();A(B)}else{$(B.popOverContainer).slideToggle(function(){A(B)})}B.toShow=true;C(B);$ZCPopover._popoverStack.push(this)}else{if(!B.isSlider){$(B.popOverContainer).hide();D(B)}else{$(B.popOverContainer).slideToggle(function(){D(B)})}$ZCPopover._popoverStack.pop();B.toShow=false;C(B)}}}}function hidePopover(){var A=$ZCPopover._popoverStack[0];if(A!=undefined){A.hide()}}function replaceParams(B,A){if((B.indexOf("[")>-1)||(B.indexOf("&#x5b;")>-1)){B=B.replace("&#x5b;","[");B=B.replace("&#x5d;","]");if(typeof A!="undefined"&&A.length>0){for(i=0;i<A.length;i++){B=replace(B,"["+i+"]",A[i])}}}else{B=B.replace("&#x7b;","{");B=B.replace("&#x7d;","}");if(typeof A!="undefined"&&A.length>0){for(i=0;i<A.length;i++){B=replace(B,"{"+i+"}",A[i])}}}return B}function replace(A,G,E){var C=A.length,F=G.length;if((C==0)||(F==0)){return A}var B=A.indexOf(G);if((!B)&&(G!=A.substring(0,F))){return A}if(B==-1){return A}var D=A.substring(0,B)+E;if(B+F<C){D+=replace(A.substring(B+F,C),G,E)}return D}var i18=function(){var A=arguments;var C=A.length;if(C===0){return }if(C===1){if(i18n[A[0]]){return i18n[A[0]]}else{return A[0]}}var B=i18n[A[0]];return B.replace(/\{[0-9]*\}/g,function(D){D=D.replace(/[\{\}]/g,"");return A[parseInt(D)+1]})};function oldDashboardTracking(A){url="/userhome/"+A+"/oldDashboardTacking";$.ajax({url:url,success:function(C,B,D){}})}function getLicenseContent(){var A="/userhome/"+sharedBy+"/getLicense";var B={};B[ZCGlobal.csrfTokenName]=ZCGlobal.csrfToken;$.ajax({url:A,type:"POST",data:B,success:function(D){if($("#licenseContent").length>0){$("#licenseContent").remove()}$("body").append(D);if(useCompression){var C=cssserverPrefix+"/"+buildLabel+"/dashboard/css/zclicense.css";var E=jsserverPrefix+"/"+buildLabel+"/dashboard/js"+jsVersion+"/zclicense.js";require([E],function(){loadFile(C).then(function(){licenceJS.init()})})}else{setTimeout(function(){licenceJS.init()},5000)}}})}function isZiaShortcutEnabled(){if(typeof (zossearch)=="undefined"){initZiaShortcut()}return !(zossearch.getGSShortCutKey())}function ziaEnableShortcut(){if(typeof (zossearch)=="undefined"){initZiaShortcut()}zossearch.toggleZSShortcutKey(false)}function ziaDisableShortcut(){if(typeof (zossearch)=="undefined"){initZiaShortcut()}zossearch.toggleZSShortcutKey(true)}function initZiaShortcut(){$(window).keydown(function(B){if(B.keyCode==Constants.KEYPAD_FORWARDSLASH&&(B.ctrlKey||B.metaKey)){if(isZiaShortcutEnabled()){$("#select2-drop-mask").click()}}});var A=(function(B){B=window.zossearch||{};B.shortCutKey=B.shortCutKey||false;B.toggleZSShortcutKey=function(C){B.shortCutKey=C};B.getGSShortCutKey=function(){return B.shortCutKey};return B})(A);window.zossearch=A}var OpenSansMapReportJson={version:8,name:"Klokantech Basic",metadata:{"mapbox:autocomposite":false,"mapbox:type":"template","maputnik:renderer":"mbgljs","openmaptiles:version":"3.x","openmaptiles:mapbox:owner":"openmaptiles","openmaptiles:mapbox:source:url":"mapbox://openmaptiles.4qljc88t"},center:[8.54806714892635,47.37180823552663],zoom:12.241790506353492,bearing:0,pitch:0,sources:{openmaptiles:{type:"vector",url:getSpecificDomain(Constants.ZOHO_MAPS)+"/vector/data/v3.json"},country_boundary:{type:"geojson",data:getSpecificDomain(Constants.ZOHO_MAPS)+"/vector/geojson/country_boundary.geojson"},telangana_inner_boundary:{type:"geojson",data:getSpecificDomain(Constants.ZOHO_MAPS)+"/vector/geojson/telangana_inner_boundary.geojson"}},glyphs:getSpecificDomain(Constants.ZOHO_MAPS)+"/vector/fonts/{fontstack}/{range}.pbf",layers:[{id:"background",type:"background",paint:{"background-color":"hsl(47, 26%, 88%)"}},{id:"landuse-residential",type:"fill",source:"openmaptiles","source-layer":"landuse",filter:["all",["==","$type","Polygon"],["==","class","residential"]],layout:{visibility:"visible"},paint:{"fill-color":"hsl(47, 13%, 86%)","fill-opacity":0.7}},{id:"landcover_grass",type:"fill",source:"openmaptiles","source-layer":"landcover",filter:["==","class","grass"],paint:{"fill-color":"hsl(82, 46%, 72%)","fill-opacity":0.45}},{id:"park",type:"fill",source:"openmaptiles","source-layer":"park",paint:{"fill-color":"rgba(192, 216, 151, 0.53)","fill-opacity":1}},{id:"landcover_wood",type:"fill",source:"openmaptiles","source-layer":"landcover",filter:["==","class","wood"],paint:{"fill-color":"hsl(82, 46%, 72%)","fill-opacity":{base:1,stops:[[8,0.6],[22,1]]}}},{id:"water",type:"fill",source:"openmaptiles","source-layer":"water",filter:["==","$type","Polygon"],paint:{"fill-color":"hsl(205, 56%, 73%)"}},{id:"landcover-ice-shelf",type:"fill",source:"openmaptiles","source-layer":"landcover",filter:["==","subclass","ice_shelf"],layout:{visibility:"visible"},paint:{"fill-color":"hsl(47, 26%, 88%)","fill-opacity":0.8}},{id:"landcover-glacier",type:"fill",source:"openmaptiles","source-layer":"landcover",filter:["==","subclass","glacier"],layout:{visibility:"visible"},paint:{"fill-color":"hsl(47, 22%, 94%)","fill-opacity":{base:1,stops:[[0,1],[8,0.5]]}}},{id:"landuse",type:"fill",source:"openmaptiles","source-layer":"landuse",filter:["==","class","agriculture"],layout:{visibility:"visible"},paint:{"fill-color":"#eae0d0"}},{id:"landuse_overlay_national_park",type:"fill",source:"openmaptiles","source-layer":"landcover",filter:["==","class","national_park"],paint:{"fill-color":"#E1EBB0","fill-opacity":{base:1,stops:[[5,0],[9,0.75]]}}},{id:"park_outline",type:"line",source:"openmaptiles","source-layer":"park",layout:{},paint:{"line-color":"rgba(159, 183, 118, 0.69)","line-dasharray":[0.5,1]}},{id:"waterway",type:"line",source:"openmaptiles","source-layer":"waterway",filter:["==","$type","LineString"],paint:{"line-color":"hsl(205, 56%, 73%)","line-width":{base:1.4,stops:[[8,1],[20,8]]},"line-opacity":1}},{id:"building",type:"fill",source:"openmaptiles","source-layer":"building",paint:{"fill-color":"hsl(39, 41%, 86%)","fill-outline-color":"hsl(36, 45%, 80%)","fill-opacity":{base:1,stops:[[13,0.6],[14,1]]}}},{id:"housenumber",type:"symbol",source:"openmaptiles","source-layer":"housenumber",minzoom:17,filter:["==","$type","Point"],layout:{"text-field":"{housenumber}","text-size":10,"text-font":["Open Sans Regular"]},paint:{"text-color":"hsla(0, 14%, 57%, 0.51)","text-halo-color":"hsl(39, 41%, 86%)","text-halo-width":0.5}},{id:"road_path",type:"line",source:"openmaptiles","source-layer":"transportation",filter:["all",["==","$type","LineString"],["in","class","path","track"]],layout:{"line-cap":"square","line-join":"bevel"},paint:{"line-color":"hsl(0, 0%, 97%)","line-dasharray":[1,1],"line-width":{base:1.55,stops:[[4,0.25],[20,10]]}}},{id:"road_minor",type:"line",source:"openmaptiles","source-layer":"transportation",filter:["all",["==","$type","LineString"],["in","class","minor","service"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"hsl(0, 0%, 97%)","line-width":{base:1.55,stops:[[4,0.25],[20,30]]}}},{id:"tunnel_minor",type:"line",source:"openmaptiles","source-layer":"transportation",filter:["all",["==","$type","LineString"],["==","brunnel","tunnel"],["==","class","minor_road"]],layout:{"line-cap":"butt","line-join":"miter"},paint:{"line-color":"#efefef","line-width":{base:1.55,stops:[[4,0.25],[20,30]]},"line-dasharray":[0.36,0.18]}},{id:"tunnel_major",type:"line",source:"openmaptiles","source-layer":"transportation",filter:["all",["==","$type","LineString"],["==","brunnel","tunnel"],["in","class","primary","secondary","tertiary","trunk"]],layout:{"line-cap":"butt","line-join":"miter"},paint:{"line-color":"#fff","line-width":{base:1.4,stops:[[6,0.5],[20,30]]},"line-dasharray":[0.28,0.14]}},{id:"road_trunk_primary",type:"line",source:"openmaptiles","source-layer":"transportation",filter:["all",["==","$type","LineString"],["in","class","trunk","primary"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fff","line-width":{base:1.4,stops:[[6,0.5],[20,30]]}}},{id:"road_secondary_tertiary",type:"line",source:"openmaptiles","source-layer":"transportation",filter:["all",["==","$type","LineString"],["in","class","secondary","tertiary"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fff","line-width":{base:1.4,stops:[[6,0.5],[20,20]]}}},{id:"road_major_motorway",type:"line",source:"openmaptiles","source-layer":"transportation",filter:["all",["==","$type","LineString"],["==","class","motorway"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"hsl(0, 0%, 100%)","line-width":{base:1.4,stops:[[8,1],[16,10]]},"line-offset":0}},{id:"railway",type:"line",source:"openmaptiles","source-layer":"transportation",filter:["==","class","rail"],layout:{visibility:"visible"},paint:{"line-color":"hsl(34, 12%, 66%)","line-opacity":{base:1,stops:[[11,0],[16,1]]}}},{id:"bridge_minor case",type:"line",source:"openmaptiles","source-layer":"transportation",filter:["all",["==","$type","LineString"],["==","brunnel","bridge"],["==","class","minor_road"]],layout:{"line-cap":"butt","line-join":"miter"},paint:{"line-color":"#dedede","line-width":{base:1.6,stops:[[12,0.5],[20,10]]},"line-gap-width":{base:1.55,stops:[[4,0.25],[20,30]]}}},{id:"bridge_major case",type:"line",source:"openmaptiles","source-layer":"transportation",filter:["all",["==","$type","LineString"],["==","brunnel","bridge"],["in","class","primary","secondary","tertiary","trunk"]],layout:{"line-cap":"butt","line-join":"miter"},paint:{"line-color":"#dedede","line-width":{base:1.6,stops:[[12,0.5],[20,10]]},"line-gap-width":{base:1.55,stops:[[4,0.25],[20,30]]}}},{id:"bridge_minor",type:"line",source:"openmaptiles","source-layer":"transportation",filter:["all",["==","$type","LineString"],["==","brunnel","bridge"],["==","class","minor_road"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#efefef","line-width":{base:1.55,stops:[[4,0.25],[20,30]]}}},{id:"bridge_major",type:"line",source:"openmaptiles","source-layer":"transportation",filter:["all",["==","$type","LineString"],["==","brunnel","bridge"],["in","class","primary","secondary","tertiary","trunk"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fff","line-width":{base:1.4,stops:[[6,0.5],[20,30]]}}},{id:"admin_sub",type:"line",source:"openmaptiles","source-layer":"boundary",filter:["in","admin_level",4,6,8],layout:{visibility:"visible"},paint:{"line-color":"hsl(0, 0%, 76%)","line-dasharray":[2,1]}},{id:"admin_country",type:"line",source:"openmaptiles","source-layer":"boundary",filter:["all",["<=","admin_level",2],["==","$type","LineString"]],layout:{"line-cap":"round","line-join":"round",visibility:"none"},paint:{"line-color":"hsla(0, 8%, 22%, 0.51)","line-width":{base:1.3,stops:[[3,0.5],[22,15]]}}},{id:"country_boundary",type:"line",source:"country_boundary",layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"hsl(248, 7%, 66%)","line-width":{base:1,stops:[[0,0.6],[4,1.4],[5,2],[12,8]]}}},{id:"telangana_inner_boundary",type:"line",source:"telangana_inner_boundary",minzoom:4,maxzoom:6,paint:{"line-color":"hsl(0, 0%, 76%)","line-dasharray":[2,1]}},{id:"poi_label",type:"symbol",source:"openmaptiles","source-layer":"poi",minzoom:5,filter:["all",["==","$type","Point"],["==","rank",1]],layout:{"text-size":11,"text-font":["Open Sans Regular"],visibility:"visible","text-offset":[0,0.5],"icon-size":1,"text-anchor":"top","text-field":"{name}","text-max-width":8},paint:{"text-color":"#666","text-halo-width":1,"text-halo-color":"rgba(255,255,255,0.75)","text-halo-blur":1}},{id:"road_major_label",type:"symbol",source:"openmaptiles","source-layer":"transportation_name",filter:["==","$type","LineString"],layout:{"symbol-placement":"line","text-field":"{name}","text-font":["Open Sans Regular"],"text-transform":"uppercase","text-letter-spacing":0.1,"text-size":{base:1.4,stops:[[10,8],[20,14]]},"text-rotation-alignment":"map"},paint:{"text-color":"#000","text-halo-color":"hsl(0, 0%, 100%)","text-halo-width":2}},{id:"place_label_other",type:"symbol",source:"openmaptiles","source-layer":"place",minzoom:8,filter:["all",["==","$type","Point"],["!=","class","city"]],layout:{"text-field":"{name_en}","text-font":["Open Sans Regular"],"text-max-width":6,"text-size":{stops:[[6,10],[12,14]]},visibility:"visible","text-anchor":"center"},paint:{"text-color":"rgba(50, 46, 37, 1)","text-halo-color":"hsl(0, 0%, 100%)","text-halo-blur":0,"text-halo-width":1}},{id:"place_label_city",type:"symbol",source:"openmaptiles","source-layer":"place",maxzoom:16,filter:["all",["==","$type","Point"],["==","class","city"]],layout:{"text-field":"{name_en}","text-font":["Open Sans Regular"],"text-max-width":10,"text-size":{stops:[[3,12],[8,16]]}},paint:{"text-color":"rgba(50, 46, 37, 1)","text-halo-color":"hsla(0, 0%, 100%, 0.75)","text-halo-blur":0,"text-halo-width":1,"text-opacity":1}},{id:"country_label",type:"symbol",source:"openmaptiles","source-layer":"place",maxzoom:12,filter:["all",["==","$type","Point"],["==","class","country"]],layout:{"text-field":"{name_en}","text-font":["Open Sans Bold"],"text-max-width":10,"text-size":{stops:[[3,12],[8,22]]},"text-transform":"none"},paint:{"text-color":"rgba(50, 48, 46, 1)","text-halo-color":"rgba(255,255,255,0.75)","text-halo-width":1,"text-halo-blur":0,"icon-translate":[0,0]}}]};(function(D){var I={};D(window).bind("keydown",function(M){var J=M.keyCode;if(J==27){if(D(".zc-show-imagepreview").is(":visible")){M.stopPropagation();return true}var K=$zcmodal.getTopPopup();if(K&&K.isCloseOnEsc()){D(".zc-single-card").removeClass("zc-single-card");D(".zc-single-summary").removeClass("zc-single-summary");if(D(K.$overlay).hasClass("slidescreen")){D(K.$overlay).closest('div[elname="zc-view-component"]').removeClass("zc-kanban-accordion")}D("div[elname=recordDetailViewFreeze]").hide();D("div[elname=recordDetailViewFreeze]").remove();D(".show-view-record").closest('[elname="zc-component"]').css({position:""});D("#zc-component").css({overflow:""});K.close()}}stopEventBubbling(M)});var B={containerClass:".popupConentContainer",width:null,height:null,offsetTop:150,showOnfocus:false,draggable:false,slideWidth:null,tableValue:{}};var H=ZCModal.prototype.defaults;ZCModal.prototype.defaults=D.extend(H,B);ZCModal.prototype.buildDOM=function(){var V=this;options=V.getOptions();var J,T,K,S;var M=" compact";if(options.showInFullScreen){M=" fullscreen"}else{if(options.showInSlideScreen){M=" slidescreen"}}var O="";if(!isNull(options.width)){O+="width:";O+=isNaN(options.width)?options.width:options.width+"px"}if(!isNull(options.height)){O+=";height:";O+=isNaN(options.height)?options.height:options.height+"px"}var P="";if(!isNull(options.slideWidth)){P+="width:";P+=isNaN(options.slideWidth)?options.slideWidth:options.slideWidth+"px"}if(!isNull(options.isPage)&&options.isPage==true&&options.isNewPage!=true){if(!isNull(options.slideHeight)){P+=";height:";P+=isNaN(options.slideHeight)?options.slideHeight:options.slideHeight+"px"}if(!isNull(options.slideTop)){P+=";top:";P+=isNaN(options.slideTop)?options.slideTop:options.slideTop+"px"}}var U='<div style="'+P+'" class="zcpopup '+$zcmodal._theme+(M)+((ZCGlobal.isMobileLayout&&!options.showInSlideScreen)?" "+options.wrapperClass:"")+'"><div class="popupbox-wrapper" ><div class="popupbox">'+(options.showClose?'<span class="popupClose"><i class="fa fa-close"></i></span>':"")+'<div class="popupboxOuter'+(!isNull(options.bodyClass)?" "+options.bodyClass:"")+'" style="'+O+'">';if(!isNull(options.title)){U+='<div class="popupHeader"><span>'+options.title+"</span></div>"}U+='<div class="popupConentContainer"></div>';if(options.buttons.length>0){U+='<div class="popupFooter">';for(var N=0,R=options.buttons.length;N<R;N++){var Q=options.buttons[N];U+='<a id="'+Q.id+'" class="'+((Q.type==ZCModalConstants.MODAL_SUBMIT)?"zc-live-primary-btn":"zc-live-secondary-btn")+'" href="#">'+Q.name+"</a>"}U+="</div>"}U+="</div></div></div></div>";V.$overlay=D(U)};ZCModal.prototype.buildModal=function(){var M=this;options=M.getOptions();M.$body=D(document.body);M._optionCache.bodySource=M.target;M.$container=M.$overlay.find(".popupbox-wrapper");M.setModalBody();var P=(M.$container[0]).style;P.visibility="visible";M.$overlay.find(".popupConentContainer")[0].innerHTML=M.$modalBody;if(options.showInFullScreen){var K=options.container!=undefined?options.container:D("#zc-component");D(K).append(M.$overlay)}else{if(options.showInSlideScreen){var N=options.slideContainer!=undefined?options.slideContainer:D(".record-container");D(N).after(M.$overlay)}else{if(!options.skipFreeze){var J=ifreeze({container:"body",});D(J).after(M.$overlay)}else{M.$body.append(M.$overlay)}}}var O=options.tableValue;if(O.length>0){D.each(O,function(Q,S){var R=D(M.$body).find(".zc-del-rec-info").find("div[elName=zc-recsdiv-"+S.status+"]");if(R.length>0){var T=S.colHeaders;D(R).handsontable({data:S.data,columns:S.columns,colHeaders:S.colHeaders,viewportColumnRenderingOffset:T.length,stretchH:"all",readOnly:true,renderAllRows:true,disableVisualSelection:true})}})}};ZCModal.prototype.addButtonEvent=function(K){var J=this;options=J.getOptions();var M=document.createElement("textarea");M.innerHTML=K.name;K.name=M.value;if(K.name=="Yes"){J.$container.find("a[id='"+K.name+"']").focus()}J.$container.find("a[id='"+K.id+"']").bind("click",function(N){N.preventDefault();if(K.action){if(!(K.action)(J.getBody())){J.close()}}else{J.close()}if(K.type==ZCModalConstants.MODAL_SUBMIT){J.$container.trigger("confirm")}else{J.$container.trigger("cancel")}})};ZCModal.prototype.addEventListeners=function(){var K=this;options=K.getOptions();D((K.$container[0]).getElementsByClassName("popupClose")).bind("click",function(O){D(".zc-single-card").removeClass("zc-single-card");D(".zc-single-summary").removeClass("zc-single-summary");D(".zc-selected-card").removeClass("zc-selected-card");if(D(K.$container[0]).parent().hasClass("slidescreen")){D(K.$container[0]).closest('div[elname="zc-view-component"]').removeClass("zc-kanban-accordion")}D("div[elname=recordDetailViewFreeze]").hide();D("div[elname=recordDetailViewFreeze]").remove();D(".show-view-record").closest('[elname="zc-component"]').css({position:""});D("#zc-component").css({overflow:""});if(ZCGlobal.isMobileLayout){D(".zc-mobile-back-button").show()}O.preventDefault();K.close()});D(K.$container).click(function(O){O.stopPropagation()});if(options.closeOnAnyClick){(K.$overlay).find(".popupbox-wrapper").bind("click",function(O){O.preventDefault();K.close()})}(K.$overlay).find(".popupboxOuter").bind("click",function(O){O.stopPropagation()});if(options.draggable&&!options.showInFullScreen){K.$container.draggable({handle:".popupboxOuter",containment:"document",cursor:"move"})}var N=options.buttons;for(var M=0,J=N.length;M<J;M++){K.addButtonEvent(N[M])}};D.widget("custom.smartcomplete",D.ui.autocomplete,{_renderMenu:function(M,K){D(M).unbind("scroll");var J=this;J._scrollMenu(M,K)},_scrollMenu:function(O,M){var K=this;var P=50;var N=[];var J=Math.ceil(M.length/P);window.pageIndex=0;N=M.slice(0,P);if(J>1){D(O).scroll(function(){if(C(D(O))){++window.pageIndex;if(window.pageIndex>=J){return }N=M.slice(window.pageIndex*P,window.pageIndex*P+P);if(N.length==0){fetchFromServer(range)}D.each(N,function(Q,R){K._renderItem(O,R).data("ui-autocomplete-item",R)});K.menu.refresh();O.show();K._resizeMenu();O.position(D.extend({of:K.element},K.options.position));if(K.options.autoFocus){K.menu.next(new D.Event("mouseover"))}}})}D.each(N,function(Q,R){K._renderItem(O,R).data("ui-autocomplete-item",R)})}});function C(K){var J=K.outerHeight();var M=K[0].scrollHeight;var N=K.scrollTop();if(N>=M-J){return true}return false}D.fn.validateOnBlur=function(){var J=this;D(this).on("blur",function(){try{D(this).data("zcfield").validate()}catch(K){K.handle()}})};function F(K){this.marker;var J=K;this.getMarker=function(){return marker};this.getTarget=function(){return J};var M="";D(J).closest(".form-field").find(".compositeWrapper > span").each(function(){var N=D(this).find(":input").val()});this.open()}F.prototype.open=function(){var O,Q;var J;var P=new google.maps.InfoWindow({size:new google.maps.Size(150,50)});var U=this;O=new google.maps.Geocoder();var K=new google.maps.LatLng(-34.397,150.644);var N={zoom:8,center:K,mapTypeId:google.maps.MapTypeId.ROADMAP};D("#map_canvas").zcmodal({title:"Pick your address",width:700,closeOnAnyClick:false,beforeShow:function(W){J=new google.maps.Map(D(W).find("#mapDiv")[0],N);google.maps.event.addListener(J,"click",function(){P.close()});var V=D(W).find("input[type=text]");var X="";D(U.getTarget()).closest(".compositeWrapper").find("span").each(function(){var Z=D(this).find(":input[type=text]").val();X=(Z!=""&&Z!=undefined)?X+Z+", ":X});google.maps.event.addListener(J,"rightclick",function(Z){U.marker.setPosition(Z.latLng);M(Z.latLng)});if(isNull(X)){if(navigator.geolocation){navigator.geolocation.getCurrentPosition(function(Z){var a=new google.maps.LatLng(Z.coords.latitude,Z.coords.longitude);S(a)})}}else{O.geocode({address:X},function(a,Z){if(Z==google.maps.GeocoderStatus.OK){J.setCenter(a[0].geometry.location);if(U.marker==undefined){U.marker=new google.maps.Marker({map:J,draggable:true,position:a[0].geometry.location});T()}U.marker.address_components=a[0].address_components;U.marker.formatted_address=a[0].formatted_address;google.maps.event.trigger(U.marker,"click")}else{alert("Geocode was not successful for the following reason: "+Z)}})}D(W).find(":input[type=button]").click(function(){if(U.marker==undefined){U.marker=new google.maps.Marker({map:J,draggable:true,position:J.getCenter()});T()}else{U.marker.setPosition(J.getCenter())}O.geocode({latLng:J.getCenter()},function(a,Z){if(Z==google.maps.GeocoderStatus.OK){if(a[0]){U.marker.address_components=a[0].address_components;U.marker.formatted_address=a[0].formatted_address;google.maps.event.trigger(U.marker,"click")}}})});var Y=new google.maps.places.SearchBox((V[0]));google.maps.event.addListener(Y,"places_changed",function(){var b=Y.getPlaces();if(b.length==0){return }var c=new google.maps.LatLngBounds();var a=b[0];var Z=a.address_components;J.setCenter(a.geometry.location);if(U.marker==undefined){U.marker=new google.maps.Marker({map:J,draggable:true,position:a.geometry.location});T()}else{U.marker.setPosition(a.geometry.location)}U.marker.formatted_address=D(V).val();U.marker.address_components=a.address_components;google.maps.event.trigger(U.marker,"click");c.extend(a.geometry.location);J.fitBounds(c)});google.maps.event.addListener(J,"bounds_changed",function(){var Z=J.getBounds();Y.setBounds(Z)})},buttons:[{name:"Ok",type:ZCModalConstants.MODAL_SUBMIT,action:function(){var W=$gmap.getTopMap().marker;var V=W.address_components;U.getTarget().val(W.formatted_address);U.getTarget().trigger("picked",[V])}},{name:"Cancel",type:ZCModalConstants.MODAL_CANCEL,action:function(){}}]});function R(X){if(X==null||typeof (X)!="object"){return X}var V=new X.constructor();for(var W in X){V[W]=R(X[W])}return V}function T(){google.maps.event.addListener(U.marker,"dragend",function(){M(U.marker.getPosition())});google.maps.event.addListener(U.marker,"click",function(){if(U.marker.formatted_address){P.setContent(U.marker.formatted_address)}else{P.setContent(address)}P.open(J,U.marker)})}function S(V){U.marker=new google.maps.Marker({map:J,draggable:true,position:V});T();J.setCenter(V);M(V)}function M(V){O.geocode({latLng:V},function(W){if(W&&W.length>0){U.marker.formatted_address=W[0].formatted_address;U.marker.address_components=W[0].address_components}else{U.marker.formatted_address="Cannot determine address at this location."}P.setContent(U.marker.formatted_address);P.open(J,U.marker)})}};$gmap={mapStack:[],getTopMap:function(){return this.mapStack[this.mapStack.length-1]}};D.fn.gMap=function(){var J=new F(D(this));$gmap.mapStack.push(J);return J};D.alert=function(J){J.handleFocus=(J.handleFocus!=undefined)?J.handleFocus:true;var K=D(document.activeElement);D.zcmodal({type:ZCModalConstants.JIT_MODAL,bodyClass:"alert-popup",showClose:false,closeOnAnyClick:false,closeOnEsc:false,beforeShow:function(M){D(M).next().find("a.zc-live-primary-btn").focus()},buildDOM:function(){return'<div class="alertMsg"><i class="fa fa-exclamation-circle"></i><p>'+J.msg+"</p>"+((J.desc!=undefined)?"<span>"+J.desc+"</span>":"")+"</div>"},buttons:[{id:"Ok",name:i18n.ok,type:ZCModalConstants.MODAL_SUBMIT,action:function(){if(J.handleFocus){K.focus()}if(J.callback!=undefined){J.callback()}}}]})};D.confirm=function(J){D.zcmodal({type:ZCModalConstants.JIT_MODAL,bodyClass:"confirm-popup",showClose:false,closeOnAnyClick:false,closeOnEsc:false,buildDOM:function(){return'<div class="confirmMsg"><i class="fa fa-question-circle"></i><p>'+J.message+"</p>"+((J.description!=undefined)?"<span>"+J.description+"</span>":"")+"</div>"},buttons:[{id:"Yes",name:((J.buttonConfirm!=undefined)?J.buttonConfirm:i18n.yes),type:ZCModalConstants.MODAL_SUBMIT,action:function(){if(J.success!=undefined){(J.success)()}}},{id:"No",name:((J.buttonCancel!=undefined)?J.buttonCancel:i18n.no),type:ZCModalConstants.MODAL_CANCEL,action:function(){if(J.failure!=undefined){(J.failure)()}}}]})};D.info=function(J){D.zcmodal({type:ZCModalConstants.JIT_MODAL,bodyClass:"info-popup",buildDOM:function(){return'<div class="infoMsg"><i class="fa fa-info-circle"></i><p>'+J+"</p></div>"},buttons:[{id:"Ok",name:i18n.ok,type:ZCModalConstants.MODAL_SUBMIT,action:function(){}}]})};D.showInfo=function(J){D.zcmodal({type:ZCModalConstants.JIT_MODAL,bodyClass:"show-info-popup",buildDOM:function(){return'<div class="showInfoMsg"><i class="fa fa-info-circle"></i><p>'+J+"</p></div>"},buttons:[{id:"Ok",name:i18n.ok,type:ZCModalConstants.MODAL_SUBMIT,action:function(){}}]})};D.deleteInfo=function(K,M,J){bClass=M?"info-popup "+M:"info-popup";D.zcmodal({type:ZCModalConstants.JIT_MODAL,bodyClass:bClass,tableValue:J,buildDOM:function(){return'<div class="infoMsg"><i class="fa fa-info-circle"></i><p>'+K+"</p></div>"},buttons:[{id:"Ok",name:i18n.ok,type:ZCModalConstants.MODAL_SUBMIT,action:function(){}}]})};D.successMsg=function(N,M,K){var J=D('<div class="form-success-msg"><i class="fa fa-check"></i><p></p></div>');if(K){J.find("p").html(N)}else{J.find("p").text(N)}D("body").append(J).fadeIn();D("html, body").animate({scrollTop:0},600);setTimeout(function(){J.fadeOut(function(){D("body").find(".form-success-msg").remove()})},M)};D.showCogLoader=function(M,J){var K=D(M).closest(".form-field");if(J){K=K.closest(".form-group")}if(K.find(".cogLoader").length==0){K.append('<i class="cogLoader fa fa-spinner fa-spin"></i>')}};D.hideCogLoader=function(M,J){var K=D(M).closest(".form-field");if(J){K=K.closest(".form-group")}K.find(".cogLoader").remove()};D.ajaxPrefilter(function(M,J,K){if(M.iframe){M.originalURL=M.url;return"iframe"}});D.ajaxTransport("iframe",function(T,Q,S){var M=null,P=null,O=null,J=null,K="fileupload_target",N=D(T.file);function R(){var U=D(N);U.data("clone").replaceWith(U);M.remove();P.remove()}T.data=Q.data;M=D("<form action='"+T.originalURL+"' enctype='multipart/form-data' method='post' target='"+K+"' style='display:none'></form>");D.each(T.data||{},function(U,V){D("<input type='hidden' />").attr({name:U,value:V}).appendTo(M)});O=N.after(function(){var V=D(this),U=V.clone().prop("disabled",true);V.data("clone",U);return U}).next();N.appendTo(M);return{send:function(V,U){P=D("<iframe src='javascript:false;' name='"+K+"' id='"+K+"' style='display:none'></iframe>");P.one("load",function(){P.one("load",function(){R()});M[0].submit()});function W(X){var g=X.contentWindow?X.contentWindow.document:(X.contentDocument?X.contentDocument:X.document),f=g.documentElement?g.documentElement:g.body;var a,Y,c,d;if(f){a=Number(f.getAttribute("status"))||200;Y=f.getAttribute("statusText")||"OK"}d=f?f.innerHTML:null;var Z=g.getElementsByTagName("pre")[0];var e=g.getElementsByTagName("body")[0];if(Z){d=Z.textContent?Z.textContent:Z.innerText}else{if(e){d=e.textContent?e.textContent:e.innerText}}c={text:d};R();U(a,Y,c)}D("body").append(M,P)},abort:function(){if(P!==null){R()}}}});function A(d,X){this.getElement=function(){return d};if(X.services==undefined){if(X.fieldType){d[0].addEventListener("change",R,false)}else{if(X.dimension>1){d[0].addEventListener("change",K,false)}else{d[0].addEventListener("change",N,false)}}}else{if(X.services==""||(X.services.indexOf("mycomputer")!=-1)){X.services=X.services.replace("mycomputer,","");d[0].addEventListener("change",N,false)}else{if(!X.isPickerRestricted()){d[0].addEventListener("click",Y,false)}}if(X.services!=""&&!X.isPickerRestricted()){D(d.parent().parent().parent()[0].querySelector(".arrows-1-cloud-upload-96")).parent().bind("click",function(g){Y(g)})}}if(!d.attr("multiple")){X.multiple=false}else{X.multiple=true}var V={},J=d,P,b=d.width(),a,e;var W=D(J).parent().siblings("ul");if(X.defaultVal!=undefined&&X.defaultVal!=""){a=X.defaultVal,e=(a!=undefined&&a!="")?a.substring(a.indexOf("_")+1):"";if(X.fieldType==Constants.AUDIO||X.fieldType==Constants.VIDEO){e=e.substring(e.indexOf("_")+1)}M(e,a,false)}var U=D("<input type='file'/>").get(0).files!==undefined,T=window.FormData!==undefined,f=(U&&T);if(X.multiple){P="<p>Click or Drop here to add files</p>"}else{P='<span class="calcIcon"><i class="fa fa-upload"></i></span>'}var O;O=D("<i class='zc-li-outline arrows-4-undo-29 file-restore' title='Restore'></i>");if(X.defaultVal!=undefined&&X.defaultVal!=""){O.hide();D(J).parent().after(O);O.click(function(){M(e,a,false);(X.onrestore)(a)})}function K(h){var g=Object.create(MediaPopup);if(h.target.files[0]!=undefined){g.cropImage(h,g,X,this)}}function R(l){var g;var k=D(l.target).attr("duration");file=document.createElement("INPUT");file.setAttribute("type","file");D(file).prop("files",l.target.files);if(l.target.files[0]==undefined){D(D(J).parent(".filedrag").parent().parent().parent().find(".cogLoader")).remove();return }g=new FileReader();g.readAsDataURL(l.target.files[0]);g.onload=function(){var m,n;if(X.fieldType==Constants.AUDIO){m=document.createElement("audio")}else{if(X.fieldType==Constants.VIDEO){m=document.createElement("video");D(m).attr("preload","metadata")}}m.src=this.result;m.addEventListener("error",function(){X.error(Constants.FILEERROR);return });m.addEventListener("loadedmetadata",h)};function h(){var m=this;var p=false;var o=m.duration;function q(u){o=u;if(o>k){p=true;var t=~~(k/60)==0?"00":~~(k/60);var r=(k%60)==0?"00":(k%60);var v="";if(t=="00"){v=r+" secs"}else{if(r=="00"){v=(t=="1")?t+" min":t+" mins"}else{v=t+":"+r}}var s="";if(X.fieldType==Constants.AUDIO){s=Constants.UPLOADAUDIO+" "+v+" "+Constants.SHORTERAUDIO}else{if(X.fieldType==Constants.VIDEO){s=Constants.UPLOADVIDEO+" "+v+" "+Constants.SHORTERVIDEO}}p=true;X.error(s)}else{p=false;N(l)}}if(((l.target.files[0].size/1024)/1024).toFixed()>=50){errorMsg=Constants.FILESIZE+"";X.error(errorMsg);p=true}else{if(o==Infinity||isNaN(o)){p=true;function n(r,t){if(o===Infinity||isNaN(o)){function s(){this.ontimeupdate=function(){return };o=r.duration;if(o!=Infinity&&!isNaN(o)){t(o);r.removeEventListener("timeupdate",s,true)}r.currentTime=0}r.addEventListener("timeupdate",s,true);r.currentTime=1e+101}else{t(o)}}n(m,function(r){q(m.duration)})}else{if(o>k){q(m.duration)}else{if(!p){N(l)}}}}}}function N(o){var w=D.extend(true,{},D.ajaxSettings,X,{url:X.url,contentType:false,processData:false,cache:false,type:"POST"});if(f){var v=new FormData();var h=o.target.files||o.dataTransfer.files;if(h.length==0){return }function t(s){s=s.replace(new RegExp("[$~ *&%+)(#@^!><?:;}{\\]\\[\"'\\\\/]","g"),"_");return s}function k(z,s){var x=(170-(new Date().getTime().toString().length)-3);if((X.fieldType==Constants.AUDIO||X.fieldType==Constants.VIDEO)&&s!=undefined){x=x-s.toString().length-1}if(z.length>x){var y=z.substring(z.lastIndexOf(".")+1,z.length);z=z.substring(0,(x-y.length-1))+"."+y}return t(z)}if(h.length){if(h.length>1&&!X.multiple){D.alert("Multiple upload not supported");return false}for(j=0;j<h.length;j++){var u=k(h[j].name,h[j].size);v.append(X.name,h[j],u);m(u)}}else{return }D.each(X.data||{},function(s,x){if(x!=undefined){v.append(s,x)}});w.data=v}else{w.iframe=true;w.file=J;if(isNull(w.data)){w.data={}}w.data.frameorigin=ZCGlobal.serverPrefix;if(J.val()==""){return }D(window).off("message.iframeUpload").on("message.iframeUpload",function(){var x=window.event;if(x.origin==ZCGlobal.serverPrefix){var y=x.data;y=JSON.parse(y);var s=y.content[0];p(s);w.success(y.content,y.status,y.statusText);D(window).off("message.iframeUpload")}});var l=J.val(),r=(l.indexOf("\\")>=0?l.lastIndexOf("\\"):l.lastIndexOf("/")),g=l.substring(r);if(g.indexOf("\\")===0||g.indexOf("/")===0){g=g.substring(1)}m(g)}function n(){if(!X.multiple){D(Q(V).HTML).find("i").trigger("click")}}function m(s){if(!X.multiple){V={}}V[s]={HTML:D("<li><i></i></li>").append(D("<p>").text(s)),PATH:""}}if(V.length==0){return }w.xhr=function(){var s=D.ajaxSettings.xhr();if(s.upload){s.upload.addEventListener("progress",function(AA){D(D(W).parent().parent()[0].querySelector(".zc-image-hover-msg")).html("");var z=0;var x=AA.loaded||AA.position;var y=AA.total;if(AA.lengthComputable){z=Math.ceil(x/y*100)}if(X.uploadProgress){X.uploadProgress(z)}},false)}return s};var q=w.beforeSend;w.beforeSend=function(x,s){S();if(q){q.call(this,x,s)}};D.ajax(w).complete(function(s){if(s.responseJSON!=undefined){s=s.responseJSON[0];p(s)}});function p(y){for(var s=0;s<y.length;s++){var AA=V[t(y[s].docName)],x=D(AA.HTML).find("i")[0],z=y[s].docId;if(y[s].status=="error"){D(AA.HTML).remove();delete V[y[s].docName];return false}AA.PATH=z;x.className="zc-li-outline ui-1-simple-remove";x.data={path:z,filename:t(y[s].docName)};c(x)}}}function Y(l){l.preventDefault();var h=D('<div id="zc-gadgets_cloudpicker_div" class="gadgets_cloudpicker_div" style="z-index: 1001; position: fixed; top: 0px; width:100%; height:100%;"></div>');var m="sources="+X.services;var g=fileCloudUrl.replace("ZC_PARAMS=",m);if(l.target.baseURI.search("form-perma")!=-1){g=fileCloudUrlFormperma.replace("ZC_PARAMS=",m)}var k=D("<iframe class='gadgets_cloudpicker_iframe' style='border: medium none; height:100%; margin:0px; padding:0px; width:100%;' id='zc-file_attach_iframe' src='"+g+"'>");h.append(k);k.one("load",function(){k.one("load",function(){var u=k[0],t=u.contentWindow?u.contentWindow.document:(u.contentDocument?u.contentDocument:u.document),o=t.documentElement?t.documentElement:t.body,s;s=o.getElementsByTagName("script")[0].innerHTML;s=s.replace("parent.gadgetresponse =","");s=s.substr(0,s.length-1);s=JSON.parse(s);D(h).remove();for(var p in s){var r=s[p];for(var q=0,n=r.length;q<n;q++){r[q].docName=decodeURIComponent(r[q].docName);M(r[q].docName,r[q].docId,true)}s[p]=r}(X.success)(s,200);s={}})});D("body").append(h)}function M(m,l,g){if(!X.multiple){V={}}var h;h=D('<li><i class="zc-li-outline ui-1-simple-remove"></i></li>').append(D("<p>").text(m));V[l]={HTML:h,PATH:l};var k=D(h).find("i")[0];k.data={path:l,filename:m};c(k,g);S()}function S(){if(O!=undefined){O.hide()}if(X.showOpts!=undefined){(X.showOpts)()}D(D(W).parent().parent()[0].querySelector(".zc-image-icons")).hide();D(D(W).parent().parent()[0].querySelector(".zc-image-hover-msg")).html("");if(!X.multiple){D(W).html(Q(V).HTML)}else{for(j in V){D(W).append(V[j].HTML)}}}function Q(h){for(var g in h){return h[g]}}function c(h,g){h.addEventListener("click",function(k){Z(k.target,g)})}function Z(g,h){var k=D(g).closest("div.form-group").find('input[name="uploadFile"]');D(k).val("");D(g).parent("li").remove();delete V[g.data.filename];if(X.ondelete!=undefined){(X.ondelete)()}}}A.prototype.destroy=function(){D(this.getElement()).closest(".uploadFile").before(this.getElement().clone()).remove()};D.fn.upload=function(J){if(J=="destroy"){if(this.data("upload")!=undefined){this.data("upload").destroy()}else{return }}var K=new A(this,J);this.data("upload",K);return K};function G(s,m){var n=m.position;var d=m.tooltip;var h=D(s).height();var o=D(s).width();var M=D('<div id="zc-calculateMsgHeight" class="zc-tooltipDesc" style="display:none;white-space:pre-line;max-width:270px"></div>');M.text(d);D("body").append(M);var N=D("#zc-calculateMsgHeight").height();var p=D("#zc-calculateMsgHeight").width();D("#zc-calculateMsgHeight").remove();var b=D(s).offset().left;var P=D(s).offset().top;var u=window.innerWidth;var w=window.innerHeight;var V=0,v=0;var t=["RIGHT","BOTTOM","TOP","LEFT"];var c=new Array(0);if(n=="auto"||n==undefined){c=t}else{if(n=="top"||n=="left"||n=="right"||n=="bottom"){c.push(n.toUpperCase())}jQuery.each(t,function(x,y){if(D.inArray(y,c)==-1){c.push(y)}})}var f=false;var R="right";for(var Y=0;Y<c.length;Y++){switch(c[Y]){case"BOTTOM":var g=b+(o/2)-(p/2)-15;var a=h+P+11;if(((w-(a+10))>=N&&(u-(g+3))>=p)){v=a;V=g;R="bottom";f=true}break;case"RIGHT":var W=o+b+26;var K=h;if(m.containsSubfield&&m.extraHeight!=undefined){K=K-m.extraHeight}var S=P+(K/2)-(N/2)-8;if(((w-(S+10))>=N&&(u-(W+10))>=p)){v=S;V=W;R="right";f=true}break;case"TOP":var q=b+(o/2)-(p/2)-15;var l=P-26;if(((l+20)>=N&&(u-(q+3))>=p)){v=l-N;V=q;R="top";f=true}break;case"LEFT":var U=b-35;if(m.isDecisionBox&&m.checkBoxWidth!=undefined){U=U-m.checkBoxWidth-2}var e=h;if(m.containsSubfield&&m.extraHeight!=undefined){e=e-m.extraHeight}var Q=P+(e/2)-(N/2)-8;if(((w-Q)>=N&&(U-20)>=p)){v=Q;V=U-p;R="left";f=true}break}if(v<0||V<0||v>w||V>u){f=false;v=V=0}if(f){break}}if(V==0&&v==0){var k=b-p-10;var r=P-N-10;var Z=(w-P-h-N-30);var O=(u-b-o-p-30);var J=Math.max(k,O);var X=Math.max(Z.topSpace);var T=((w/X)>(u/J)?true:false);if(T){if(Z==X){v=h+P+11;V=b+(o/2)-(p/2)-15;R="bottom"}else{v=P-N-26;V=b+(o/2)-(p/2)-15;R="top"}}else{if(O==J){v=P+(h/2)-(N/2)-8;V=o+b+26;R="right"}else{v=P+(h/2)-(N/2)-8;V=b-p-35;R="bottom"}}}return{left:V,top:v,position:R}}D.fn.tooltipPositionCalc=function(J){if(J.tooltip!=""&&J.tooltip!=undefined){var K;if(J.tooltipelem!=undefined){K=J.tooltipelem}else{K=D(this)}if(J.position==undefined){J.position="auto"}D(this).hover(function(N){N.stopPropagation();var M=G(D(K),J);D("#zc-fieldTooltipMsg").remove();var O=D('<div id="zc-fieldTooltipMsg" class="zc-tooltipDesc zc-tooltip-'+M.position+'" style="display:none;pointer-events:none;z-index:999;max-width:270px;white-space:pre-line;position:fixed;top:'+M.top+"px;left:"+M.left+'px;"></div>');O.text(J.tooltip);D("body").append(O);D("#zc-fieldTooltipMsg").fadeIn(500)},function(M){M.stopPropagation();D("#zc-fieldTooltipMsg").remove()});D(this).on("click keydown focus",function(M){D("#zc-fieldTooltipMsg").remove()})}};var E=(function(N,M){var K="",J="";this.create=function(){var O=this.generateTab();D(M).append(O)};this.generateTab=function(){var P=D("<ul class='tabcontainer'></ul>"),S=D("<div class='subtabcontainer'></div>"),Q=(N.defaultIndex!=undefined)?N.defaultIndex:0,O=this;D.each(N.tabs,function(V){var Y="tab"+V,X=false,U=this.onSelect;if(Q==V){X=true}var T=D("<li>",{elname:"tab"+V,"class":((X)?"selected":""),text:this.parent});D(P).append(T);var W=D("<div>",{elname:"subtab"+V,style:"display:"+((X)?"block":"none")});D(W).append(this.child);D(S).append(W);if(X){K=D(T);J=D(W)}D(T).click(function(){O._idle();K=D(this);J=D(W);D(this).addClass("selected");D(W).show();if(U!=undefined){(U)()}})});var R=D("<div class='zc-tab-pane'>");R.append(P);R.append(S);return R};this._idle=function(){D(K).removeClass("selected");D(J).hide()}});D.fn.tabpane=function(J){var K=new E(J,this).create();this.data("tabpane",K)}})(window.jQuery);(function(A){$.fn.cloneWithData=function(){var C=A.apply(this,arguments),E=this.find("select").add(this.filter("select")),F=C.find("select").add(C.filter("select")),B=this.find("textarea").add(this.filter("textarea")),I=C.find("textarea").add(C.filter("textarea")),H=C.find('div[elename="signature"]').add(C.filter('div[elename="signature"]'));for(var G=0,D=E.length;G<D;++G){F[G].selectedIndex=E[G].selectedIndex}for(var G=0,D=B.length;G<D;++G){$(I[G]).val($(B[G]).val())}for(var G=0,D=H.length;G<D;++G){H.children("div").not(".signature-line-div").remove();H.children("canvas").remove()}return C}})($.fn.clone);function stopEventBubbling(A){if($.browser.msie){if(A==null){return }A.cancelBubble=true;if(A.stopPropagation){A.stopPropagation()}}else{A.stopPropagation()}}function closeAllPopup(){while(1){var A=$zcmodal.getTopPopup();if(A==undefined){break}A.close()}}function closeFirstPopup(){var A=$zcmodal.getTopPopup();if(A!=undefined){A.close()}}function getParentWindow(){var A=window.opener;if(A==null){A=window.parent}return A}var Geolocation={};Geolocation.locationData=undefined;Geolocation.locationError=undefined;Geolocation.locationDataArr=[];Geolocation.isAccessGranted=undefined;Geolocation.test=function(){Geolocation.locationData="12.9382766,80.1459366";Geolocation.locationDataArr=[12.9382766,80.1459366];Geolocation.locationError=undefined;Geolocation.isAccessGranted=true};Geolocation.getLocationDataObj=function(){if(Geolocation.locationData!==undefined){var A=Geolocation.locationData.split(",");return{latitude:A[0],longitude:A[1]}}return{}};Geolocation.init=function(R){var P=R.overlay;var E=$(P).find("#geoheader");var B=$(P).find("#geodesc");var M=$(P).find("#allowlocation");var K=$(P).find("#geodenied");var Q=$(P).find("#popupimg");var W=$(Q).find("span");var U={OPR:"opera",Firefox:"mozilla",Safari:"safari",MSIE:"msie",Chrome:"chrome",Edge:"edge",Default:"default"};for(var V in U){if(V=="Safari"){if(navigator.userAgent.search(V)>=0&&navigator.userAgent.search("Chrome")<=0){$(W).addClass("zc-geo-location-alert-"+U[V]);break}}else{if(V=="Default"){$(W).addClass("zc-geo-location-alert-"+U[V]);break}else{if(navigator.userAgent.search(V)>=0){$(W).addClass("zc-geo-location-alert-"+U[V]);break}}}}function G(){LIB._stopLoading();$(P).hide();$(P).next().show();if(typeof R.success!="undefined"){R.success()}}function N(){$(P).show();$(P).next().hide();$(Q).show();$(E).text(R.headerMsg);$(B).text(i18n.geodesc);$(M).unbind("click").bind("click",function(){LIB._startLoading();T()})}function I(){LIB._stopLoading();$(P).show();$(P).next().hide();$(K).show();$(K).parent().parent().addClass("zc-geoblock");$(P).find("#arrow").remove();$(E).text(i18n.geoheaderfailure);$(B).text(i18n.geodescfailure);$(Q).hide();$(M).remove()}function J(X){ZCWebStorage.setItem("isGeoAccessGranted","1");if(X.coords.latitude!=undefined&&X.coords.longitude!=undefined){Geolocation.locationData=X.coords.latitude+","+X.coords.longitude;Geolocation.locationDataArr=[];Geolocation.locationDataArr.push(X.coords.latitude);Geolocation.locationDataArr.push(X.coords.longitude);Geolocation.locationError=undefined}G()}function O(){ZCWebStorage.remove("isGeoAccessGranted");I();Geolocation.locationError=i18n.formgeolocationerror}function F(X){if(X.coords.latitude!=undefined&&X.coords.longitude!=undefined){Geolocation.locationData=X.coords.latitude+","+X.coords.longitude;Geolocation.locationDataArr=[];Geolocation.locationDataArr.push(X.coords.latitude);Geolocation.locationDataArr.push(X.coords.longitude);Geolocation.locationError=undefined}}function H(){ZCWebStorage.remove("isGeoAccessGranted");Geolocation.locationError=i18n.formgeolocationerror}function T(){if(typeof (navigator.geolocation)!="undefined"){C()}else{I();Geolocation.locationError=i18n.nogeolocation}}function C(){navigator.geolocation.watchPosition(F,H);navigator.geolocation.getCurrentPosition(J,O)}var D="";if(navigator.permissions!=undefined){navigator.permissions&&navigator.permissions.query({name:"geolocation"}).then(function(X){D=X.state;S(D)})}else{A()}function S(X){if(X=="granted"){if(Geolocation.locationData===undefined){LIB._startLoading();C()}else{G()}}else{if(X=="denied"){O()}else{N()}}}function A(){if(!ZCWebStorage.hasItem("isGeoAccessGranted","1")){N()}else{if(Geolocation.locationData===undefined){LIB._startLoading();C()}else{G()}}}};function getModalProgress(){return'<div><div class="zc_SplashContainer"><div id="splash-screen"><div class="splash-screen-text">'+i18n.loading+'</div><div class="splash-screen-circle-outer"></div><div class="splash-screen-circle-inner"></div></div></div></div>'}jQuery.uaMatch=function(B){B=B.toLowerCase();var A=/(chrome)[ \/]([\w.]+)/.exec(B)||/(webkit)[ \/]([\w.]+)/.exec(B)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(B)||/(msie) ([\w.]+)/.exec(B)||B.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(B)||[];return{browser:A[1]||"",version:A[2]||"0"}};matched=jQuery.uaMatch(navigator.userAgent);browser={chrome:false,webkit:false,safari:false,msie:false,mozilla:false,opera:false};if(matched.browser){browser[matched.browser]=true;browser.version=matched.version}if(browser.chrome){browser.webkit=true}else{if(browser.webkit){browser.safari=true}}jQuery.browser=browser;$.fn.smoothShow=function(B,A,C){C=(C==undefined)?"up":C;B=(B==undefined)?0:B;this.css({opacity:0});this.show("blind",{direction:C},B,function(){$(this).animate({opacity:1},B,function(){if(A!=undefined){A()}})});return this};$.fn.smoothHide=function(B,A){B=(B==undefined)?0:B;this.animate({opacity:0},B,function(){$(this).hide("blind",B,function(){if(A!=undefined){A()}})});return this};$.fn.smoothToggle=function(A){if(this.is(":visible")){this.smoothHide(A)}else{this.smoothShow(A)}};$.cachedScript=function(A,C,B){if(B==undefined){B="script"}return jQuery.ajax({type:"GET",dataType:B,cache:true,success:C,url:A})};function openZMapsDisp(D,E,A,C,B){if(getConfig().useCompression){require(["mapbox"],function(F){window.mapboxgl=F;mapDisplay(D,E,A)})}else{mapDisplay(D,E,A)}event.stopPropagation()}function mapDisplay(C,D,A){var B=getSpecificDomain(Constants.IMAGE_STATIC_SERVER)+"/maps/v8_1_7/images/maps-blue-marker.svg";$.zcmodal({title:A,type:ZCModalConstants.JIT_MODAL,width:700,closeOnAnyClick:true,beforeShow:function(F){var E="location_map";var H=new mapboxgl.Map({container:E,style:OpenSansMapReportJson,hash:false,zoom:10,maxZoom:20,center:[D,C]});var G=document.createElement("div");$(G).css({height:"35px",width:"22px","background-repeat":"no-repeat"});G.className="zc-marker-div";G.style.backgroundImage="url("+B+")";customMarker=new mapboxgl.Marker(G,{offset:[0,-17.5]});customMarker.setLngLat([D,C]);customMarker.addTo(H);window.zohomap=H},buildDOM:function(){var E="<div id='zMap'>";E+="<div id='location_map' style='height:400px;'></div>";E+="</div>";return E}})}function mapInlineStaticDisplay(C,D,B){staticMap=L.map(B);L.tileLayer(Constants.ZMAPS_DOMAIN+"/tiles/{z}/{x}/{y}.png",{}).addTo(staticMap);staticMap.setView([C,D],12);$(".leaflet-control-attribution").css("visibility","hidden");$(".leaflet-control-zoom").css("visibility","hidden");$(".maps_locate-icon").css("display","none");staticMap.dragging.disable();staticMap.touchZoom.disable();staticMap.doubleClickZoom.disable();staticMap.scrollWheelZoom.disable();staticMap.keyboard.disable();var A=L.icon({iconUrl:Constants.IMG_STATIC_SERVER+"/maps/v8_1_5/images/maps-red-marker.svg",iconSize:[21,36]});L.marker([C,D],{icon:A}).addTo(staticMap)}function rgeocode(A){var B="params="+encodeURIComponent('{"lat":"'+A.lat+'", "lon":"'+A.lon+'"}');B+="&api_key="+Constants.ZMAPS_APIKEY;return $.ajax({url:getSpecificDomain(Constants.ZOHO_MAPS)+"/v1/query/rgeocode",type:"GET",data:B,beforeSend:function(){},success:A.successCallback,error:A.errorCallback})}function locateUser(A,E){var C,D;if(Geolocation.locationDataArr.length==2){C=Geolocation.locationDataArr[0];D=Geolocation.locationDataArr[1]}else{if(userlocate==null){maps_getData(iplocateurl,maps_setCookie)}C=userlocate.LATITUDE;D=userlocate.LONGITUDE}if(A){map.setView(L.latLng([C,D]),10);maps_removeAllMarkers();maps_plotMarker({lat:C,lon:D})}else{var B={};B.lat=C;B.lon=D;B.successCallback=E;rgeocode(B)}}function parseAddress(B){var A={};var D={};function C(G,F,E){if(F.length>0){F.sort(function(I,H){return(Constants[E].indexOf(I)-Constants[E].indexOf(H))});A[G]=F.map(function(H){return B.address[H]}).join(", ")}}$.each(B.address,function(E,F){if(Constants.ADDRESS_LINE_1_KEYS.indexOf(E)!==-1){if(isNull(D.route)){D.route=[]}D.route.push(E)}if(Constants.ADDRESS_LINE_2_KEYS.indexOf(E)!==-1){if(isNull(D.locality)){D.locality=[]}D.locality.push(E)}if(Constants.CITY_KEYS.indexOf(E)!==-1){if(isNull(D.administrative_area_level_2)){D.administrative_area_level_2=[]}D.administrative_area_level_2.push(E)}if(Constants.STATE_KEYS.indexOf(E)!==-1){A.administrative_area_level_1=B.address[E]}if(Constants.COUNTRY_KEYS.indexOf(E)!==-1){A.country=B.address[E]}if(Constants.POSTAL_CODE_KEYS.indexOf(E)!==-1){A.postal_code=B.address[E]}});$.each(D,function(G,F){var E;switch(G){case"route":E="ADDRESS_LINE_1_KEYS";break;case"locality":E="ADDRESS_LINE_2_KEYS";break;case"administrative_area_level_2":E="CITY_KEYS";break;case"administrative_area_level_1":E="STATE_KEYS";break;case"country":E="COUNTRY_KEYS";break;case"postal_code":E="POSTAL_CODE_KEYS";break}C(G,F,E)});if(isNull(A.route)&&!isNull(A.locality)){A.route=A.locality;A.locality=""}A.latitude=B.lat;A.longitude=B.lon;A.countryCode=B.address.country_code.toLowerCase();return A}var MediaPopup={_this:this,_opts:{},_localstream:{},eleType:"",$el:null,chunks:[],width:585,height:438,_input:{},_script:null,_source:null,_image:{},mediaRecorder:{},_recorder:{},_mp3File:{},_isRecording:false,_isPlayback:false,_isplayCompleted:false,_cropped:false,_beforeCrop:"",_clock:{},error:false,selectedType:2,errorMsg:"",footerEle:$(".media-popup .popupFooter"),popup:$(".media-popup"),cameraLocalTabContent:'<div id="cameraTabContent" class="zc-localtabContent-center"><div id="cropperDiv"  style="margin:8px"><video class="hide" style="padding: 0px 0 0px 0px;width: 585px;height : 438px;" ></video><canvas class="" style="display:none;"></canvas></div></div>',cameraTabContent:'<div id="cameraTabContent" class="flLeft zc-local-tabContent"><div id="permissionMsg" class="hide zc-permissionMsg"><span id="firstMsg" class="zc-permission-txt1"></span><div id="permission" class="zc-permission-image"></div><span id="lastMsg" class="zc-permission-txt2"></span></div><div id="cropperDiv"  style="margin:8px"><video class="hide" style="padding: 0px 0 0px 0px;width: 585px;height : 438px;" ></video><canvas class="" style="display:none;"></canvas></div></div>',localTabContent:'<div id="localTabContent" class=" flLeft zc-local-tabContent" ><input id="dummyFile" style="position: absolute;top: 0;right: 0;bottom: 0;left: 0;height: 100%;width: 100%;opacity: 0;cursor: pointer;z-index: 5;" type="file"/><div id="errorMsgComp" class="hide zc-media-errormsgcomp"><i class="fa fa-exclamation-triangle" style="color: rgb(219, 76, 74)" aria-hidden="true"></i><div id="errorMsg" class="zc-media-errormsg"></div></div><div class="zc-import-image"><div id="dragdrop"><i class="fa fa-cloud-upload" aria-hidden="true"></i><span id="dragtext" class="zc-drag-drop-msg"><span class="zc-media-dragtext">Drag and Drop your file here</span> <span class="zc-media-or">or</span> <span class="zc-media-clicktext">Click to Browse.</span></span></div></div></div>',linkTabContent:'<div id="linkTabContent" class="hide flLeft zc-local-tabContent" ><div class="zc-insert-link"><div class="zc-dem-form-control zc-dem-label-right">    <div class="form-group"><label class="form-label zc-Image_crop-label  zc_image_label">Image URL </label><div class="form-group"><input id="linkUrl" placeholder="https://" class="form-control textfield image-source" type="text"></div></div>   </div></div></div></div>',audio:document.querySelector("audio"),video:document.querySelector("video"),image_fieldDOM:{},_imageField:{_dummyField:'<input id="dummyFile" title="Click here" style="position: absolute;top: 0;right: 0;bottom: 0;left: 0;height: 100%;width: 100%;opacity: 0;cursor: pointer;z-index: 5;" type="file" accept="image/*">',_videoField:'<video class="hide" style="padding: 0px 0 0px 0px" >',_canvas:'<canvas class="" style="display:none;"></canvas>'},_audio:{_isRecording:false,_isPlaying:false,_isPaused:false,_audioContext:{},_scriptProcessor:{},_analyzer:{},_bar:[],_playBars:[],_canvas:$("#audioTabContent canvas")[0],_dummyField:'<input id="dummyFile" title="Click here" style="position: absolute;top: 0;right: 0;bottom: 0;left: 0;height: 100%;width: 100%;opacity: 0;cursor: pointer;z-index: 5;" type="file"/>',_dragText:'<span id="dragtext" class="zc-drag-drop-msg"><span class="zc-media-dragtext">Drag and Drop your file here</span> <span class="zc-media-or">or</span> <span class="zc-media-clicktext">Click to Browse.</span></span>'},setOpts:function(A){this._opts=A},getOpts:function(){return this._opts},setErrorMsg:function(A){this.errorMsg=A},getErrorMsg:function(){return this.errorMsg},bindLocalCrop:function(E,F){F.$el=$ele;var A=F.popup.find("#imageFile")[0];var D=F.$el.attr("dimension");var C=F.getAspectRatio();F._beforeCrop=A.src;var B=new Cropper(A,{aspectRatio:C,viewMode:1,zoomable:false,zoomOnWheel:false,zoomOnTouch:false,crop:function(H){var G=B.getCroppedCanvas().toDataURL(F.$el[0].files[0].type);F._image=G;A.src=G;F._cropped=true;F.popup.find("#dummyFile").remove();F.popup.find("#dummyFile").unbind("change");if(F.popup.find("#localTabContent").css("display")!="none"){F.cssMediaPopupChanges("602px","595px")}}})},bindCrop:function(){_this.popup.find("#imageFile");var A=_this.popup.find("#imageFile")[0];var D=_this.$el.attr("dimension");var C=_this.getAspectRatio();var B=new Cropper(A,{aspectRatio:C,viewMode:1,zoomable:false,zoomOnWheel:false,zoomOnTouch:false,crop:function(F){_this._beforeCrop=A.src;var E=B.getCroppedCanvas().toDataURL();_this._image=E;A.src=E;_this._cropped=true;_this.popup.find("#dummyFile").remove();_this.popup.find("#dummyFile").unbind("change");if(_this.popup.find("#localTabContent").css("display")!="none"){_this.cssMediaPopupChanges("602px","595px")}}})},bindCameraEvent:function(A,B,C,D){if(A){_this.popup.find("[id='done']").bind("click",function(){if(_this.isCropEnabled()){_this.uploadVideoRec()}else{if(_this.popup.find("#cameraTab li.active i").hasClass("fa-upload")){$(_this.$el).prop("files",D.target.files);$(_this.$el).change();_this.closePopup()}else{_this.uploadVideoRec()}}});if(_this._cropped){if(_this.isCropEnabled()){_this.bindCrop()}}if(_this.popup.find("#localTabContent").find(".cropper-container").length!=0){_this.changeIcon("done",false)}if(_this.popup.find("#cameraTabContent").length!=0){if(_this.popup.find("#cameraTabContent").css("display")!="none"){_this.popup.find("#Retake").bind("click",function(){_this._cropped=false;_this.popup.find(".popupConentContainer").empty();var E=_this.cameraPopupcontent();_this.popup.find(".popupConentContainer").append(""+E);_this.toggleElement(B);_this.changeIcon("snap",true);_this.bindCameraEvent(false,B,C);_this.popup.find("li .fa-camera").parent("li").trigger("click")})}}}else{_this.popup.find("[id='round']").unbind("click");_this.popup.find("[id='round']").bind("click",function(G){if(_this.popup.find("#linkUrl")!=undefined){if(_this.popup.find("#linkUrl").val()!=""){_this.popup.find("#linkUrl").val("")}}_this.video=_this.popup.find("video")[0];_this.setImgCanvas();var F={};var E='<img id="imageFile" src ="'+_this._image+'"/ >';$(E).insertBefore(_this.video);$(_this.video).remove();_this._imageField._canvas.getContext("2d").clearRect(0,0,_this.width,_this.height);_this.popup.find("canvas").remove();_this.cssMediaPopupChanges("602px","595px");if(_this.isCropEnabled()){_this.changeIcon("done",false);_this.bindCrop()}else{_this.changeIcon("done",false)}_this.bindCameraEvent(true,B);_this.stopStream()})}},setImgCanvas:function(){if(_this.video!=null){_this._imageField._canvas=_this.popup.find("#cameraTabContent canvas")[0];canvas=_this._imageField._canvas;_this.video.style.display="none";canvas.style.display="block";canvas.width=_this.width;canvas.height=_this.height;cxt=canvas.getContext("2d");cxt.translate(_this.width,0);cxt.scale(-1,1);cxt.drawImage(_this.video,0,0,_this.width,_this.height);var A=canvas.toDataURL("image/png");_this._image=A}},bindVideoEvent:function(A){_this.popup.find("[id='round']").bind("click",function(){_this.popup.find(".clock").addClass("active");_this.startRecording()})},footerdiv:function(C,B){var A="";var D='<div class="clock" >00:00</div>';switch(C){case"camera":_this.footerEle.html("");A='<div id="round" class="zc-action-icon"><i class="fa fa-camera fa-2x" aria-hidden="true"></i></div>';_this.footerEle.append(A);_this.bindCameraEvent(false,B);_this.setSelectedType(2);break;case"audio":A='<div id="round" class="zc-action-icon"><i class="fa fa-microphone fa-2x" aria-hidden="true"></i></div>';_this.checkRemoveDiv(_this.footerEle.find("#round"));_this.footerEle.append(A);_this.footerEle.find("#round").append(D);_this.footerEle.find("#Okay").hide();_this.bindAudioEvent(false,B);_this.setSelectedType(2);break;case"video":_this.checkRemoveDiv(_this.footerEle.find("#recordStop"));A='<div id="round" class="zc-action-icon"><i  class="fa fa-video-camera fa-2x" aria-hidden="true"></i></div>';_this.checkRemoveDiv(_this.footerEle.find("#round"));_this.footerEle.append(A);_this.footerEle.find("#round").append(D);_this.footerEle.find("#Okay").hide();_this.setSelectedType(2);break;case"link":_this.footerEle.html("");A='<a id="round" class="zc-live-primary-btn" style="display: inline-block;">Done</a>';_this.footerEle.append(A);_this.footerEle.find("a").show();_this.footerEle.find("#round").bind("click",function(){_this.closePopup()});_this.setSelectedType(1);break;case"local":_this.footerEle.html("");A='<a id="Okay" class="zc-live-primary-btn" style="display: inline-block;">Done</a>';_this.footerEle.append(A);_this.footerEle.find("a").show();_this.footerEle.find("#Okay").bind("click",function(){if(_this.error){_this.$el.parent().siblings("ul").find("i").trigger("click")}_this.closePopup()});_this.setSelectedType(2);break}},isCropEnabled:function(){return _this.$el.attr("dimension")>1?true:false},getAspectRatio:function(){var A=0;if(_this.isCropEnabled){var B=_this.$el.attr("dimension");switch(B){case"2":A=1/1;break;case"3":A=3/2;break;case"4":A=5/3;break;case"5 ":A=4/3;break;case"6":A=5/4;break;case"7":A=7/5;break;case"8":A=16/9;break}}return A},getSelectedType:function(){_this=this;return _this.selectedType},setSelectedType:function(A){_this.selectedType=A},toggleElement:function(A,B){if(MediaPopup.eleType=="Image"){if(B){_this.imageLocalNewpopup(A)}else{_this.imageNewpopup(A)}}else{if(MediaPopup.eleType=="Audio"){_this.audioNewpopup(_this.popup.find("#audioTab li"))}else{_this.videoNewpopup(_this.popup.find("#videoCameraTab li"))}}},audioNewpopup:function(A){if(_this._localStream==null||_this._localStream==undefined){_this.popup.find("#audioTabContent").show();_this._audio._canvas=_this.popup.find("#audioTabContent canvas")[0];if(_this._audio._canvas!=null){canvas=_this._audio._canvas;canvasContext=canvas.getContext("2d");canvasContext.clearRect(0,0,canvas.width,canvas.height);$(audio).hide()}if(_this.popup.find("#Retake").css("display")=="block"){_this.popup.find("#Retake").click()}else{_this.footerdiv("audio",A)}if(_this.popup.find("#Retake")==undefined){_this.footerdiv("audio",A)}}},videoNewpopup:function(A){_this.popup.find("#videoTabContent").show();_this.popup.find("video").show();_this.popup.find("#videoTabContent video").css("width","585px");_this.popup.find(".clock").show();_this.cssMediaPopupChanges("602px","595px");clearTimeout(_this._clock);_this.stopStream();_this.setStream(true);_this.footerdiv("video",A);_this.bindVideoEvent(_this.$el)},imageNewpopup:function(A){_this.cssMediaPopupChanges("602px","595px");_this.$el=_this.image_fieldDOM.getFileInputEl();_this.popup.find("#cameraTabContent").show();_this.popup.find("#cameraTabContent").find("video").show();if(_this.popup.find("#cameraTabContent").find("canvas").length==0){_this.clearPreviousImage();_this.checkRemoveDiv(_this.popup.find("#cameraTabContent").find("video"));_this.popup.find("#cameraTabContent").append(_this._imageField._videoField);_this.popup.find("#cameraTabContent").find("video").show();_this.checkRemoveDiv(_this.popup.find("#cameraTabContent").find("canvas"));_this.popup.find("#cameraTabContent").append(_this._imageField._canvas)}_this.footerdiv("camera",A);_this.setStream(true);$(A).find(".zc-link-switch .fa-upload").parent("a").trigger("click")},imageLocalNewpopup:function(A){_this.cssMediaPopupChanges("602px","595px");_this.popup.find("#cameraTabContent").show();_this.popup.find("#cameraTabContent").find("video").show();if(_this.popup.find("#cameraTabContent").find("canvas").length==0){_this.clearPreviousImage();_this.checkRemoveDiv(_this.popup.find("#cameraTabContent").find("video"));_this.popup.find("#cameraTabContent").append(_this._imageField._videoField);_this.popup.find("#cameraTabContent").find("video").show();_this.checkRemoveDiv(_this.popup.find("#cameraTabContent").find("canvas"));_this.popup.find("#cameraTabContent").append(_this._imageField._canvas)}_this.footerdiv("local",A);_this.setStream(true);$(A).find(".zc-link-switch .fa-upload").parent("a").trigger("click")},clearPreviousImage:function(){_this.checkRemoveDiv(_this.popup.find(".cropper-container.cropper-bg"));_this.checkRemoveDiv(_this.popup.find("#imageFile"));if(_this.popup.find("#localTabContent").length!=0){if((_this.popup.find("#localTabContent").css("display")!="none")){_this.popup.find("#localTabContent .zc-import-image").show()}}},clearPreviousFile:function(){_this.checkRemoveDiv(_this.popup.find("#localTabContent").find("#dummyFile"));_this.popup.find("#localTabContent").append(_this._audio._dummyField);_this.checkRemoveDiv(_this.popup.find("#localTabContent").find("#dragtext"));_this.popup.find("#localTabContent #dragdrop").append(_this._audio._dragText)},toggleOptions:function(A,B){$(A).bind("click",function(){$(this).addClass("active");$(this).siblings().removeClass("active");if(MediaPopup.eleType=="Audio"){if($(this).find("i").hasClass("fa-microphone")){if(_this._localStream==null||_this._localStream==undefined){_this.popup.find("#audioTabContent").show();_this._audio._canvas=_this.popup.find("#audioTabContent canvas")[0];if(_this._audio._canvas!=null){canvas=_this._audio._canvas;canvasContext=canvas.getContext("2d");canvasContext.clearRect(0,0,canvas.width,canvas.height);$(audio).hide()}if(_this.popup.find("#Retake").css("display")=="block"){_this.popup.find("#Retake").click()}else{_this.footerdiv("audio",B)}if(_this.popup.find("#Retake")==undefined){_this.footerdiv("audio",B)}_this.popup.find("#localTabContent").hide()}}else{if($(this).find("i").hasClass("fa-upload")){_this.clearError();if(_this.mediaRecorder.state=="recording"){_this.mediaRecorder.stop()}if(_this._audio._audioContext!=undefined&&(_this._audio._audioContext.state=="suspended"||_this._audio._audioContext.state=="running")){_this._audio._audioContext.close();clearTimeout(_this._clock);if(_this._audio._canvas!=null){canvas=_this._audio._canvas;canvasContext=canvas.getContext("2d");canvasContext.clearRect(0,0,canvas.width,canvas.height);$(audio).hide()}_this.popup.find("#audioTabContent canvas").addClass("zc-sound-waves-bg");_this._isRecording=true;_this._isPlayback=false;_this._audio._bar=[];_this._audio._playBars=[];_this._localStream=null}if(_this.popup.find("#dummyFile")[0].files.length!=0){_this.clearPreviousFile()}_this.footerdiv("local",B);_this.popup.find("#audioTabContent").hide();_this.popup.find("#localTabContent").show();_this.stopStream();if(_this.popup.find("#Retake")!=undefined){_this.popup.find("#Retake").click()}_this.popup.find("#dummyFile").bind("dragover",function(){_this.popup.find("#localTabContent").css("background","#eccfb3");_this.popup.find("#dragdrop").hide()});_this.popup.find("#dummyFile").bind("dragleave",function(){_this.popup.find("#localTabContent").css("background","#ffffff");_this.popup.find("#dragdrop").show()});_this.popup.find("#dummyFile").bind("drop",function(C){_this.popup.find(".fa-arrows").hide();_this.popup.find("#dragdrop").show();_this.popup.find("#localTabContent").css("background","#ffffff")});_this.popup.find("#dummyFile").change(function(C){C.dataTransfer=C.originalEvent.dataTransfer;_this.checkDuration(C)});_this.footerEle.find("div").hide()}}}else{if(MediaPopup.eleType=="Image"){_this.cssMediaPopupChanges("602px","595px");_this.$el=_this.image_fieldDOM.getFileInputEl();_this.popup.find("#cameraTabContent").show();_this.popup.find("#cameraTabContent").find("video").show();if(_this.popup.find("#cameraTabContent").find("canvas").length==0){_this.clearPreviousImage();_this.checkRemoveDiv(_this.popup.find("#cameraTabContent").find("video"));_this.popup.find("#cameraTabContent").append(_this._imageField._videoField);_this.popup.find("#cameraTabContent").find("video").show();_this.checkRemoveDiv(_this.popup.find("#cameraTabContent").find("canvas"));_this.popup.find("#cameraTabContent").append(_this._imageField._canvas)}_this.footerdiv("camera",B);_this.setStream(true);$(B).find(".zc-link-switch .fa-upload").parent("a").trigger("click")}else{_this.popup.find("#videoTabContent").show();_this.popup.find("video").show();_this.popup.find("#videoTabContent video").css("width","585px");_this.popup.find(".clock").show();_this.cssMediaPopupChanges("713px","595px");_this.popup.find("#localTabContent").hide();clearTimeout(_this._clock);_this.stopStream();_this.setStream(true);_this.footerdiv("video",B);_this.bindVideoEvent(_this.$el)}}})},checkDuration:function(D){var B=_this.popup.find("#dragtext");var A;var C=_this.$el.attr("duration");file=document.createElement("INPUT");file.setAttribute("type","file");$(file).prop("files",D.target.files);A=new FileReader();A.readAsDataURL(file.files[0]);A.onload=function(){var E,F;if(MediaPopup.eleType=="Video"){E=document.createElement("video")}else{if(MediaPopup.eleType=="Audio"){E=document.createElement("audio")}}E.src=URL.createObjectURL(file.files[0]);E.addEventListener("loadedmetadata",function(){var G=E.duration;if(MediaPopup.eleType=="Audio"&&file.files[0].type.split("/")[0]!="audio"){I="<br><p>"+file.files[0].name+" "+Constants.NOSUPPORTAUDIO+"</p>";_this.showError(I)}else{if(MediaPopup.eleType=="Video"&&file.files[0].type.split("/")[0]!="video"){I="<br><p>"+file.files[0].name+" "+Constants.NOSUPPORTAUDIO+"</p>";_this.showError(I)}else{if(((D.target.files[0].size/1024)/1024).toFixed()>=50){I="<br><p> Your file size exceeds 50MB</p>";_this.showError(I)}else{if(G>C){var J=~~(C/60)==0?"00":(C/60);var H=(C%60)==0?"00":(C%60);var K="";if(J=="00"){K=H+" secs"}else{if(H=="00"){K=(J=="1")?J+" min":J+" mins"}else{K=J+":"+H}}var I="";if(MediaPopup.eleType=="Audio"){I="<br><p>"+Constants.UPLOADAUDIO+" "+K+" "+Constants.SHORTERAUDIO+"</p>"}else{if(MediaPopup.eleType=="Video"){I="<br><p>"+Constants.UPLOADVIDEO+" "+K+" "+Constants.SHORTERVIDEO+"</p>"}}_this.showError(I)}else{_this.clearError();B.text("Added File: "+D.target.files[0].name);_this.footerEle.find("#Okay").show();_this.footerEle.find("#Okay").removeClass("zc-live-secondary-btn");_this.footerEle.find("#Okay").addClass("zc-live-primary-btn");_this.footerEle.find("#Okay").bind("click",function(M){if(_this.error){_this.$el.parent().siblings("ul").find("i").trigger("click")}if(!_this.error){D.dataTransfer=D.originalEvent.dataTransfer;files=D.target.files;$(_this.$el).prop("files",files);$(_this.$el).change()}_this.closePopup()})}}}}})}},showError:function(B){if(typeof _this!="undefined"){_this.setError();_this.popup.find("#errorMsgComp").show();var A="<span>"+B+"</span>";_this.popup.find("#errorMsg").html(A);_this.popup.find("#errorMsg").css("color","#db4c4a");if($(_this.$el).parent().siblings()!=undefined){$(_this.$el).parent().siblings().remove("li")}}},clearError:function(){if(typeof _this!="undefined"){_this.popup.find("#errorMsgComp").hide();_this.error=false}},setError:function(){if(typeof _this!="undefined"){_this.error=true}},showAddedFile:function(){if(typeof _this!="undefined"){var B=$(_this.$el).val().replace(/C:\\fakepath\\/i,"");var A=_this.popup.find("#dragtext");A.siblings("i").removeClass("fa fa-exclamation-triangle");if(!A.siblings("i").hasClass("fa fa-cloud-upload")){A.siblings("i").addClass("fa fa-cloud-upload")}_this.popup.find("#dragtext").text("Added File : "+B);_this.popup.find("#dragtext").removeAttr("style")}},bindAudioEvent:function(B,C){_this.footerEle.find("#round").bind("click",function(){_this._isRecording=true;_this._isPlayback=false;_this.setAudioStream();_this.popup.find("#audioTabContent canvas").removeClass("zc-sound-waves-bg");var D=document.querySelector("audio");_this.changeIcon("stop",false);_this.popup.find("#recordStop").bind("click",function(){var O=document.querySelector("audio");$(O).css("display","block");_this._isRecording=false;clearTimeout(_this._clock);if(_this.mediaRecorder.state!="inactive"){_this.mediaRecorder.stop()}var F=new Blob(_this.chunks,{type:"audio/webm"});var M=window.URL.createObjectURL(F);O.src=M;_this._audio._audioContext.suspend();_this.adjustTimer(duration);var T=[];var S=[];var R=false;_this._audio._canvas=_this.popup.find("#audioTabContent canvas")[0];var H=_this._audio._canvas;var P=H.getContext("2d");var G=H.offsetWidth;var U=H.offsetHeight;var Q=U/2;var V=0.3;var K=0.1;var I="";var N=function N(Y){var X=Y.length;var W=0;for(i=0;i<X;i++){W+=Y[i]}return W/X};var J=function J(X,W){W=_this.popup.find("#round").css("background-color");if(!R){R=true;animation=window.requestAnimationFrame(function(){P.clearRect(0,0,G,U);X.forEach(function(Z,Y){P.fillStyle=W;P.fillRect(Y*(V+K),Q,V,Q*(Z/100));P.fillRect(Y*(V+K),Q-Q*(Z/100),V,Q*(Z/100))});R=false})}};if(_this.chunks){if(_this._audio._bar.length<=Math.floor(G/(V+K))){J(_this._audio._bar,"#060606")}else{J(_this._audio._bar.slice(_this._audio._bar.length-Math.floor(G/(V+K))),"#060606")}}$(O).on("play",function(){_this._isPlayback=true;if(_this._audio._audioContext.state=="suspended"){_this._audio._audioContext.resume()}_this._audio._isPaused=false;_this.audioVisual(O,"#47a8e4")});$(O).on("pause",function(){_this._isPlayback=false;_this._audio._isPaused=true;_this._audio._audioContext.suspend()});O.controls=true;_this._localStream.getTracks()[0].stop();_this.changeIcon("done",false);_this.footerEle.find("#Retake").show();var E=function(){_this._isPlayback=false;_this._isRecording=false;_this._audio._audioContext.suspend();_this._audio._playBars=[]};O.addEventListener("ended",E);_this.popup.find("#round").bind("click",function(){H=_this._audio._canvas;P=H.getContext("2d");var W=new Blob(_this.chunks);_this._recorder&&_this._recorder.exportWAV(A,("audio/mp3"))});_this.popup.find("#Retake").bind("click",function(){_this.audioRetake(C)})})});function A(D){_this._mp3File=D;_this.uploadFile();_this.closePopup();_this._localStream=null;_this._recorder.clear()}},audioRetake:function(B){_this.popup.find("#audioTabContent canvas").addClass("zc-sound-waves-bg");_this._isRecording=true;_this._isPlayback=false;_this._audio._bar=[];canvas=_this._audio._canvas;canvasContext=canvas.getContext("2d");canvasContext.clearRect(0,0,canvas.width,canvas.height);_this._audio._isPaused=false;_this.changeIcon("record",true);_this.popup.find("#audioTabContent audio").remove();var A=document.createElement("AUDIO");A.setAttribute("controls","controls");A.style.width="100%";$(A).insertAfter(_this.popup.find("#audioTabContent canvas"));A.controls=false;_this.bindAudioEvent(false,B);clearTimeout(_this._clock);if(_this._audio._audioContext.state!="closed"){_this._audio._audioContext.close()}_this._audio._audioContext={};_this._audio=Object.create(_this._audio)},cameraPopupcontent:function(C){var D=parseInt(_this.$el.attr("imageType"));var A='<li><i class="fa fa-camera" aria-hidden="true"></i><span>Take Photo</span></li>';var B='<div id="cameraTab" class="zc-dem-clearfix zc-live-image-popup-left-list"> ';if(C){B='<div id="cameraTab" class= "zc-dem-clearfix zc-live-localimage-popup"> '+_this.cameraLocalTabContent}else{B=B+_this.cameraTabContent}return B},stopStream:function(B){function A(D){for(var C in D){if(D.hasOwnProperty(C)){return false}}return true}if(B==undefined){if(_this._localStream!=undefined&&_this._localStream.getTracks().length>0){for(i=0;i<_this._localStream.getTracks().length;i++){if(_this._localStream.getTracks()[i].readyState=="live"){if(_this._localStream.getTracks()[i].kind=="video"){_this.video.pause();_this.video.src="";_this.video.srcObject=null}_this._localStream.getTracks()[i].stop()}}}}else{if(!A(B)){if(B.getTracks().length>0){for(i=0;i<B.getTracks().length;i++){if(B.getTracks()[i].readyState=="live"){B.getTracks()[i].stop()}}}}}},cropImage:function(E,D,A,C){_this=D;_this._opts=A;$ele=$($(C).find("input")[1]);_this.$el=$ele;liveEle=this;MediaPopup.eleType="Image";fieldName=A.name;var B=_this.cameraPopupcontent(true);$.zcmodal({type:ZCModalConstants.JIT_MODAL,closeOnAnyClick:false,bodyClass:"image-popup media-popup",title:fieldName,buildDOM:function(){return B},beforeShow:function(G){_this.popup=$(G).parent(".media-popup");var J=_this.popup.parent(".popupbox");J.addClass("zc-live-media-popup");_this.footerEle=$(G).siblings(".popupFooter");_this.popup.find(".popupHeader").append(_this.popup.siblings());$(liveEle).parent().addClass("zc-focus");_this.cssMediaPopupChanges("602px","595px");_this.popup.find("#localTabContent").find("input").attr("accept","image/*");_this.video=_this.popup.find("video")[0];_this.setImgCanvas();var I={};var H='<img id="imageFile" src ="" width="585px !important" heigth = "430px !important"/>';$(H).insertBefore(_this.video);$(_this.video).remove();_this._imageField._canvas.getContext("2d").clearRect(0,0,_this.width,_this.height);_this.popup.find("canvas").remove();_this.cssMediaPopupChanges("602px","595px");_this.changeIcon("done",false);if(_this.$el[0].files&&_this.$el[0].files[0]){var F=new FileReader();F.onload=function(K){_this.popup=$(G).parent(".media-popup");_this.popup.find("#imageFile").attr("src",K.target.result);_this._image=K.target.result;_this.bindLocalCrop(E,_this)};F.readAsDataURL(E.target.files[0])}_this.bindCameraEvent(true,liveEle);_this.footerEle.find("div").hide();_this.stopStream()},afterClose:function(){_this.stopStream();if(_this.popup.find("#linkUrl").val()!=""){$(liveEle).find(".zc-link-switch .fa-link").parent("a").trigger("click")}},buttons:[{id:"round",name:"Done",type:"Button",action:function(){}}]})},openCamera:function(C,B){_this=this;_this.image_fieldDOM=C;if(B=="source"){$ele=$(C.getSourceComp())}else{$ele=$(C.getFileInputEl())}liveEle=$(C.getField());_this=this;_this.$el=$ele;MediaPopup.eleType="Image";var A=_this.cameraPopupcontent();var D=C.getModel().getDisplayName();$.zcmodal({type:ZCModalConstants.JIT_MODAL,closeOnAnyClick:false,bodyClass:"image-popup media-popup",title:D,buildDOM:function(){return A},beforeShow:function(E){_this.popup=$(E).parent(".media-popup");var F=_this.popup.parent(".popupbox");F.addClass("zc-live-media-popup");_this.footerEle=$(E).siblings(".popupFooter");_this.popup.siblings().hide();_this.popup.find(".popupHeader").hide();$(liveEle).parent().addClass("zc-focus");_this.toggleElement(liveEle,false);_this.bindCameraEvent(false,liveEle,B);_this.popup.find("#localTabContent").find("input").attr("accept","image/*");_this.footerdiv("upload",liveEle);if(B=="source"){_this.popup.find("#cameraTab .fa-link").parent("li").click()}else{_this.popup.find("#cameraTab").find("li").first().click()}},afterClose:function(){_this.stopStream();if(_this.popup.find("#linkUrl").val()!=""){$(liveEle).find(".zc-link-switch .fa-link").parent("a").trigger("click")}},buttons:[{id:"round",name:"Done",type:"Button",action:function(){}}]})},getTime:function(D){var E="",C=0,F=0,B="",A="";F=Math.round(D/1000);if(F>=60){C=Math.round(F/60);F%=60}B=(F<10)?"0"+F:F+"";A=(C<10)?"0"+C:C+"";return A+":"+B},adjustTimer:function(E){_this.popup.find(".clock").addClass("active");var D=1000,B=0,C=new Date().getTime();function A(){var K=B*D,I=new Date().getTime()-C;B++;var N=I-K;var P=_this.getTime(I).split(":");var F=P[1];var O=P[0];var G=O+":"+F;_this.popup.find(".clock").html(G);var H=_this.getTime(E*1000).split(":");var M=parseInt(H[1]);var J=H[0];if(J==O&&M==F){_this.popup.find("#recordStop").trigger("click")}_this._clock=setTimeout(function(){A()},D-N)}_this._clock=setTimeout(function(){A()},D)},startRecording:function(){_this=this;var A={audioBitsPerSecond:128000,videoBitsPerSecond:2500000,mimeType:"video/webm;codecs=vp8"};duration=_this.$el.attr("duration");_this.adjustTimer(duration);_this.mediaRecorder=new MediaRecorder(_this._localStream,A);_this.chunks=[];_this.mediaRecorder.ondataavailable=function(B){if(B.data&&B.data.size>0){_this.chunks.push(B.data)}};_this.mediaRecorder.start(100);_this.changeIcon("stop",false);_this.popup.find("#videoTabContent").remove("video");_this.popup.find("[id='recordStop']").bind("click",function(){_this.stopVideoRecording()})},stopVideoRecording:function(){_this=this;_this.video=$("<video />",{controls:true});_this.popup.find("#videoTabContent").find("video").remove();_this.video.appendTo(_this.popup.find("#videoTabContent")).hide().fadeIn(500);_this.popup.find("#videoTabContent").find("video").css("width","585px");_this.popup.find("#videoTabContent").find("video").css("margin","8px");video=_this.popup.find("#videoTabContent").find("video")[0];$(_this.video).attr("controls","controls");_this.popup.find("a[id='Stop']").unbind("click");_this.mediaRecorder.stop();setTimeout(function(){var A=new Blob(_this.chunks,{type:"video/webm"});video.setAttribute("preload","auto");video.setAttribute("src",URL.createObjectURL(A));video.load()},100);clearTimeout(_this._clock);for(i=0;i<_this._localStream.getTracks().length;i++){_this._localStream.getTracks()[i].stop()}_this.changeIcon("done",false);_this.popup.find("div[id='Retake']").click(function(){_this.setStream(true);_this.popup.find(".clock").removeClass("active");_this.video.removeAttribute("controls");_this.changeIcon("record",true)});_this.popup.find("[id='round']").unbind("click");_this.popup.find("[id='round']").bind("click",function(){_this.uploadVideoRec()})},uploadVideoRec:function(){_this=this;if(_this._localStream!=undefined){_this._localStream.getVideoTracks()[0].stop()}_this.uploadFile();_this.closePopup()},cssCameraChanges:function(){_this.popup.find("video").css("width","590px");_this.popup.find("#videoTabContent video").css("width","585px");_this.footerEle.find("#Retake").css({"margin-top":"10px","margin-left":"500px",position:"absolute",color:"#3590e1","border-color":"#3590e1"})},cssMediaPopupChanges:function(B,A){var C={};if(_this.popup.parent(".popupbox.zc-live-media-popup")!=undefined){C=_this.popup.parent(".popupbox.zc-live-media-popup")}else{C=_this.popup.parent(".popupbox")}C.css("width","");C.css("height","");C.css("width",B);C.css("height",A)},cssImageChanges:function(A){if(A){_this.cssMediaPopupChanges("713px","595px")}_this.footerEle.find("#Retake").css({"margin-top":"10px","margin-left":"500px",position:"absolute"})},cssAudioChanges:function(){_this.cssMediaPopupChanges("620px","420px");_this.getAudioIcons();_this.footerEle.find("#Retake").css({"margin-left":"320px",position:"absolute",color:"#3590e1","border-color":"#3590e1"})},getAudioIcons:function(){roundDiv='<div id="round" class="zc-action-icon" style="" ></div>';roundRecordDiv='<div id="roundRecord" style="margin-left: 210px;float: left;color: #f3f3f3;border-radius: 50%;width: 50px;height: 50px;background: #fb2b4e;" ></div>';timerDiv='<div class="clock" >00:00</div>';recordStopDiv='<div id="recordStop" class="zc-record-stop" ></div>';recordIcon='<i id="startrec" class="fa fa-microphone fa-2x" aria-hidden="true"></i>';stopIcon='<i id="stoprec" class="fa fa-stop fa-2x" aria-hidden="true"></i>';doneIcon='<i id="donerec" class="fa fa-check fa-2x zc-donerec" aria-hidden="true"></i>';playIcon='<i id="playRecord" class="fa fa-play fa-2x" style="margin-top: 12px;" aria-hidden="true"></i>';pauseIcon='<i id="pauseRecord" class="fa fa-pause fa-2x" style="margin-top: 12px;" aria-hidden="true"></i>';retakeDiv='<div id="Retake" class="zc-live-secondary-btn zc-retake">Retake</div>'},getCameraIcons:function(){roundDiv='<div id="round" class="zc-action-icon" ></div>';recordStopDiv='<div id="recordStop" class="zc-record-stop" ></div>';timerDiv='<div class="clock">00:00</div>';recordIcon='<i id="startrec" class="fa fa-video-camera fa-2x" aria-hidden="true"></i>';cameraIcon='<i id="startcap" class="fa fa-camera fa-2x" aria-hidden="true"></i>';stopIcon='<i id="stoprec" class="fa fa-stop fa-2x" aria-hidden="true"></i>';doneIcon='<i id="donerec" class="fa fa-check fa-2x zc-donerec"  aria-hidden="true"></i>';retakeDiv='<div id="Retake" class="zc-live-secondary-btn zc-retake">Retake</div>'},closePopup:function(){if(_this.error){$.when(_this.popup.parent().fadeOut("slow")).done(function(){$(this).find(".popupClose").trigger("click")});_this.$el.parent().siblings("ul").find("i").trigger("click")}else{_this.popup.find(".popupClose").trigger("click")}},checkRemoveDiv:function(A){if(A.length>=1){A.remove()}},permissionTextChange:function(A,G,B){var D=MediaPopup.eleType,F="",E="";if(A&&B){if(G){F=Constants.BLOCKPERMISSIONLINE1;E=Constants.BLOCKPERMISSIONLINE2;if(D=="Image"){F=Constants.IMGBLOCKPERMISSIONLINE1}_this.popup.find("#firstMsg").html(F);_this.popup.find("#lastMsg").html(E);_this.popup.find("#permission").attr("class","");_this.popup.find(".popupHeader").hide();_this.popup.find(".popupFooter").hide();_this.popup.find("#permissionMsg").show();_this.popup.find("video").css("display","none")}else{var C;D=MediaPopup.eleType;E=Constants.PERMISSIONLINE2;if(browser.chrome){C="zc-media-"+D+"permission-chrome"}else{if(browser.mozilla){C="zc-media-"+D+"permission-firefox"}}if(D=="Image"){F=Constants.IMAGEPERMISSIONLINE1;E=Constants.IMAGEPERMISSIONLINE2;_this.popup.find("video").css("display","none")}else{if(D=="Video"){F=Constants.VIDEOPERMISSIONLINE1}else{F=Constants.AUDIOPERMISSIONLINE1}}_this.popup.find("#firstMsg").html(F);_this.popup.find("#lastMsg").html(E);_this.popup.find(".popupHeader").hide();_this.popup.find(".popupFooter").hide();_this.popup.find("#permissionMsg").show();_this.popup.find("#permission").addClass(C)}}else{if(!A&&B){_this.popup.find(".popupHeader").show();_this.popup.find(".popupFooter").show();_this.popup.find("#permission").attr("class","");_this.popup.find("#permissionMsg").css("display","none");_this.popup.find("video").css("display","inline")}else{_this.popup.find(".zc-permissionMsg").css("top","55%");_this.cssMediaPopupChanges("620px","420px");F=Constants.BROWSERSUPPORTLINE1;E=Constants.BROWSERSUPPORTLINE2;_this.popup.find("#firstMsg").html(F);_this.popup.find("#lastMsg").html(E);_this.popup.find("#permission").attr("class","");_this.popup.find(".popupHeader").hide();_this.popup.find(".popupFooter").hide();_this.popup.find("#permissionMsg").show();_this.popup.find(".zc-mediaPermission-popup video").css("display","none")}}},setStream:function(C){var D=!1,G=!0,B=800;_this.video=_this.popup.find("video")[0];_this.video.muted=true;var F=_this.popup.parent(".popupbox");F.addClass("zc-mediaPermission-popup");if(MediaPopup.eleType!="Image"&&typeof MediaRecorder=="undefined"){clearTimeout(D);_this.popup.siblings().show();_this.popup.prepend(_this.popup.siblings());_this.permissionTextChange(false,false,false);return }navigator.getMedia=(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia);var H={};if(MediaPopup.eleType=="Video"){H={video:true,audio:true}}else{if(MediaPopup.eleType=="Image"){H={audio:false,video:true}}}successCallback=function(I){_this._localStream=I;if(MediaPopup.eleType=="Video"&&_this._localStream.getTracks().length==1){errorCallback();_this.stopStream();return }else{clearTimeout(D);if(F.hasClass("zc-mediaPermission-popup")){F.removeClass("zc-mediaPermission-popup")}_this.popup.siblings().show();_this.popup.prepend(_this.popup.siblings());_this.permissionTextChange(false,false,true)}_this.video.srcObject=_this._localStream;if(C){_this.video.play()}}.bind(_this);errorCallback=function(I){clearTimeout(D);_this.error=true;_this.popup.siblings().show();_this.popup.prepend(_this.popup.siblings());_this.permissionTextChange(true,true,true)}.bind(_this);var A=function(){if(G===!0){if(navigator.getMedia){navigator.getMedia(H,successCallback,errorCallback)}else{_this.error=true;_this.popup.find(".popupHeader").show();_this.popup.find(".popupFooter").show();_this.popup.find("#permission").attr("class","");_this.popup.find("#permissionMsg").css("display","none");_this.permissionTextChange(false,false,false)}}}.bind(_this);var E=function(){F.addClass("zc-mediaPermission-popup");_this.popup.siblings().show();_this.popup.prepend(_this.popup.siblings());_this.permissionTextChange(true,false,true)}.bind(_this);A();D=setTimeout(E,B)},changeIcon:function(B,A){if(MediaPopup.eleType=="Video"){_this.getCameraIcons();switch(B){case"record":if(A){_this.footerEle.find("#round").remove();_this.footerEle.find("#Retake").hide();_this.footerEle.find("#Okay").hide();_this.footerEle.append(roundDiv);_this.footerEle.find("#round").append(recordIcon);_this.footerEle.find("#round").append(timerDiv);_this.bindVideoEvent(_this.$el)}else{_this.footerEle.find("#Okay").hide();_this.footerEle.find("#Retake").remove();_this.bindVideoEvent(_this.$el)}break;case"stop":_this.checkRemoveDiv(_this.footerEle.find("#round"));_this.checkRemoveDiv(_this.footerEle.find("#recordStop"));_this.footerEle.find("#round").remove();_this.footerEle.append(recordStopDiv);_this.footerEle.find("#recordStop").append(stopIcon);_this.footerEle.find("#recordStop").append(timerDiv);_this.popup.find(".clock").addClass("active");break;case"done":_this.footerEle.find("#recordStop").remove();_this.checkRemoveDiv(_this.footerEle.find("#Retake"));_this.footerEle.append(retakeDiv);_this.checkRemoveDiv(_this.footerEle.find("#round"));_this.footerEle.append('<a id="round" class="zc-live-primary-btn" style="display: inline-block;">Done</a>');break}}else{if(MediaPopup.eleType=="Image"){_this.getCameraIcons();switch(B){case"snap":if(A){_this.footerEle.html("")}_this.checkRemoveDiv(_this.footerEle.find("#round"));_this.footerEle.append(roundDiv);_this.footerEle.find("#round").append(cameraIcon);_this.checkRemoveDiv(_this.footerEle.find("#Capture"));break;case"done":_this.checkRemoveDiv(_this.footerEle.find("#round"));_this.footerEle.append('<a id="done" class="zc-live-primary-btn" style="display: inline-block;">Done</a>');if(!A){_this.footerEle.append(retakeDiv)}_this.footerEle.find("#Retake").css("margin-top","-37px");break;case"camera":_this.checkRemoveDiv(_this.footerEle.find("#round"));_this.footerEle.append(roundDiv);_this.footerEle.find("#round").append(doneIcon);if(!A){_this.footerEle.append(retakeDiv)}_this.footerEle.find("#Retake").css("margin-top","-37px");break}}else{if(MediaPopup.eleType=="Audio"){_this.getAudioIcons();switch(B){case"record":if(A){_this.footerEle.find("#round").remove();if(_this.footerEle.find("#round").length==0){_this.footerEle.append(roundDiv);_this.footerEle.find("#round").append(recordIcon);_this.footerEle.find("#round").append(timerDiv)}}_this.footerEle.find("#Okay").hide();_this.footerEle.find("#Retake").remove();break;case"stop":if(!A){_this.footerEle.find("#round").remove();_this.checkRemoveDiv(_this.footerEle.find("#recordStop"));_this.footerEle.append(recordStopDiv);_this.footerEle.find("#recordStop").append(stopIcon);_this.footerEle.find("#recordStop").append(timerDiv);_this.popup.find(".clock").show()}break;case"done":_this.footerEle.find("#recordStop").unbind("click");_this.footerEle.find("#round").unbind();_this.footerEle.find("#recordStop").remove();_this.checkRemoveDiv(_this.footerEle.find("#Retake"));_this.footerEle.append(retakeDiv);_this.checkRemoveDiv(_this.footerEle.find("#round"));_this.footerEle.append('<a id="round" class="zc-live-primary-btn" style="display: inline-block;">Done</a>');break}}}}},openCamRecorder:function(A){$el=A.getUploadElement();_this=this;_this.$el=$el;MediaPopup.eleType="Video";var B=A.getModel().getDisplayName();$.zcmodal({type:ZCModalConstants.JIT_MODAL,bodyClass:"video-popup media-popup",title:B,closeOnAnyClick:false,buildDOM:function(){return'<div class="zc-dem-clearfix zc-media-camara-files"><div id="videoTabContent" class="flLeft zc-video-container zc-local-tabContent"><div id="permissionMsg" class="hide zc-permissionMsg"><span id="firstMsg" class="zc-permission-txt1"></span><div id="permission" class="zc-permission-image"></div><span id="lastMsg" class="zc-permission-txt2"></span></div><video class="hide" style="display: inline;margin: 8px;" ></video></div></div></div>'},afterClose:function(){clearTimeout(_this._clock);_this.stopStream();if(_this.error){_this.$el.parent().siblings("ul").find("i").trigger("click")}},beforeShow:function(C){_this.popup=$(C).parent(".media-popup");_this.footerEle=$(C).siblings(".popupFooter");var D=_this.popup.parent(".popupbox");D.addClass("zc-live-media-popup");_this.popup.siblings().hide();_this.popup.find(".popupHeader").hide();_this.toggleElement();_this.popup.find("#localTabContent").find("input").attr("accept","video/*");_this.popup.find("#videoCameraTab").find("li").first().click();_this.cssCameraChanges()},buttons:[{id:"round",name:"Done",type:"Button",action:function(){}}]})},getObjectName:function(A){if(A!=null){return A.constructor.name}},createAndConnectMediaObj:function(B){if(_this.getObjectName(B)!="HTMLAudioElement"&&_this._isRecording){if(!$.isEmptyObject(_this._audio._audioContext)){_this._audio._audioContext.close()}_this._audio._audioContext=new AudioContext();_this._input=_this._audio._audioContext.createMediaStreamSource(B);_this._recorder=new Recorder(_this._input,{workerPath:"/zohocreator/static_js/recorderWorker.js"});_this._recorder&&_this._recorder.record();_this._audio._analyzer=_this._audio._audioContext.createAnalyser();_this._audio._scriptProcessor=_this._audio._audioContext.createScriptProcessor()}else{if(_this.getObjectName(B)=="HTMLAudioElement"&&(_this.getObjectName(_this._input)!="MediaElementAudioSourceNode")&&!_this._audio._isPaused){try{_this._audio._scriptProcessor.disconnect();_this._input.disconnect(_this._audio._analyzer);_this.input={}}catch(A){}_this._audio._audioContext=new AudioContext();_this._input=_this._audio._audioContext.createMediaElementSource(B);_this._audio._analyzer=_this._audio._audioContext.createAnalyser();_this._audio._scriptProcessor=_this._audio._audioContext.createScriptProcessor()}}},audioVisual:function(D,E){var M=[];var T=false;var B=_this.popup.find("#audioTabContent canvas")[0];var G=B.getContext("2d");var A=B.getContext("2d");var O=B.offsetWidth;var J=B.offsetHeight;var K=J/2;var I=0.3;var F=0.1;var N="";N=E;var H=_this._input;G.canvas.width=O;G.canvas.height=J;var P=function P(W){var V=W.length;var U=0;for(i=0;i<V;i++){U+=W[i]}return U/V};var C=function C(Y,W,X,U){W=_this.popup.find("#round").css("background-color");var V=_this._audio._bar;if(!T){T=true;animation=window.requestAnimationFrame(function(){if(_this._isRecording){G.clearRect(0,0,O,J);Y.forEach(function(a,Z){G.fillStyle=W;G.fillRect(Z*(I+F),K,I,K*(a/100));G.fillRect(Z*(I+F),K-K*(a/100),I,K*(a/100))})}else{if(_this._isPlayback){A.clearRect(0,0,O,J);if(X=="slice"){V.slice(U-Math.floor(O/(I+F))).forEach(function(a,Z){G.fillStyle="#060606";G.fillRect(Z*(I+F),K,I,K*(a/100));G.fillRect(Z*(I+F),K-K*(a/100),I,K*(a/100))})}else{_this._audio._bar.forEach(function(a,Z){G.fillStyle="#060606";G.fillRect(Z*(I+F),K,I,K*(a/100));G.fillRect(Z*(I+F),K-K*(a/100),I,K*(a/100))})}Y.forEach(function(a,Z){G.fillStyle=W;G.fillRect(Z*(I+F),K,I,K*(a/100));G.fillRect(Z*(I+F),K-K*(a/100),I,K*(a/100))})}}T=false})}};_this.createAndConnectMediaObj(D);var R=_this._audio._analyzer;var Q=_this._audio._scriptProcessor;H=_this._input;H.connect(_this._audio._analyzer);if(_this._isPlayback){H.connect(_this._audio._audioContext.destination)}Q.connect(_this._audio._audioContext.destination);_this._audio._analyzer.connect(Q);var S=function S(V){if(_this._isRecording||_this._isPlayback){if(_this._isPlayback){var U=new Uint8Array(_this._audio._analyzer.frequencyBinCount);_this._audio._analyzer.getByteFrequencyData(U);_this._audio._playBars.push(P(U));if(_this._audio._playBars.length<=Math.floor(O/(I+F))){C(_this._audio._playBars,E)}else{C(_this._audio._bar.slice(_this._audio._playBars.length-Math.floor(O/(I+F))),E,"slice",_this._audio._playBars.length)}}if(_this._isRecording){var W=new Uint8Array(_this._audio._analyzer.frequencyBinCount);_this._audio._analyzer.getByteFrequencyData(W);_this._audio._bar.push(P(W));M.push(P(W));if(M.length<=Math.floor(O/(I+F))){C(M,E)}else{C(M.slice(M.length-Math.floor(O/(I+F))),E)}}}else{M=[];playBars=[]}};Q.connect(_this._audio._audioContext.destination);Q.onaudioprocess=S},checkAudioPermission:function(){var C=!1,G=!0,B=800;var D={};var F=_this.popup.parent(".popupbox");F.addClass("zc-mediaPermission-popup");if(typeof MediaRecorder=="undefined"){_this.popup.siblings().show();_this.popup.prepend(_this.popup.siblings());_this.permissionTextChange(false,false,false);return }navigator.getMedia=(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia);var H={audio:true,video:false};successCallback=function(I){D=I;_this._localStream=I;clearTimeout(C);if(F.hasClass("zc-mediaPermission-popup")){F.removeClass("zc-mediaPermission-popup");_this.popup.find("#meter").show()}_this.popup.siblings().show();_this.popup.prepend(_this.popup.siblings());_this.permissionTextChange(false,false,true)}.bind(_this);errorCallback=function(I){clearTimeout(C);_this.error=true;_this.popup.siblings().show();_this.popup.prepend(_this.popup.siblings());_this.permissionTextChange(true,true,true)}.bind(_this);var A=function(){if(G===!0){if(navigator.getMedia){navigator.getMedia(H,successCallback,errorCallback)}else{_this.error=true;_this.popup.find(".popupHeader").show();_this.popup.find(".popupFooter").show();_this.popup.find("#permission").attr("class","");_this.popup.find("#permissionMsg").css("display","none")}}}.bind(_this);var E=function(){_this.popup.siblings().show();_this.popup.prepend(_this.popup.siblings());_this.permissionTextChange(true,false,true)}.bind(_this);A();C=setTimeout(E,B);return D},setAudioStream:function(){navigator.getMedia=(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia);if(navigator.getMedia){var B=(MediaRecorder.isTypeSupported("audio/ogg;codecs=opus"))?"audio/ogg":"audio/webm";navigator.mediaDevices.getUserMedia({audio:true,video:false,audioBitsPerSecond:128000,mimeType:B}).then(function(C){_this._localStream=C;_this.mediaRecorder=new MediaRecorder(C);_this.mediaRecorder.start(10);_this.chunks=[];_this.adjustTimer(duration);_this.audioVisual(_this._localStream,"#060606");_this.mediaRecorder.ondataavailable=function(D){_this.chunks.push(D.data)}},function(D){_this.error=true;var C={};C.msg=Constants.ALLOWTOACCESSMEDIA;C.callback=_this.closePopup;$.alert(C,3000);return })}else{_this.error=true;var A={};A.msg=Constants.NOMEDIASUPPORT;A.callback=_this.closePopup;$.alert(A,3000);return }},openAudioRecorder:function(B){$el=B.getUploadElement();_this=this;_this.$el=$el;_start={};_end={};MediaPopup.eleType="Audio";var A={};var C=B.getModel().getDisplayName();$.zcmodal({type:ZCModalConstants.JIT_MODAL,bodyClass:"audio-popup media-popup",title:C,closeOnAnyClick:false,buildDOM:function(){return'<div class="zc-dem-clearfix"><div id="audioTabContent" class="flLeft zc-local-tabContent"><div id="permissionMsg" class="hide zc-permissionMsg"><span id="firstMsg" class="zc-permission-txt1"></span><div id="permission" class="zc-permission-image"></div><span id="lastMsg" class="zc-permission-txt2"></span></div><canvas id="meter" style="height:100px;" class="zc-sound-waves-bg "></canvas></div>'},afterClose:function(){clearTimeout(_this._clock);_this.stopStream();_this._audio._playBars=[];_this._audio._bar=[];_this._isPlayback=false;_this._isRecording=false;if(_this.error){_this.$el.parent().siblings("ul").find("i").trigger("click")}_this._localStream=null},hideHeader:false,beforeShow:function(E){_this.popup=$(E).parent(".media-popup");_this.footerEle=$(E).siblings(".popupFooter");var D=document.createElement("AUDIO");D.setAttribute("controls","controls");D.style.width="100%";$(D).insertAfter(_this.popup.find("#audioTabContent canvas"));audio=_this.popup.find("#audioTabContent audio")[0];audio.removeAttribute("controls");duration=$el.attr("duration");_this.popup.parent(".popupbox").css("width","620px");_this.popup.parent(".popupbox").css("height","420px");_this.cssAudioChanges();_this.changeIcon("record",false);_this.popup.find(".popupHeader").hide();_this.popup.find(".popupFooter").hide();_this.popup.find("canvas").hide();_this.popup.siblings().hide();audioStream=_this.checkAudioPermission();_this.stopStream(audioStream);_this.popup.find("#localTabContent").find("input").attr("accept","audio/*");_this.toggleElement();_this.popup.find("#audioTab").find("li").first().click()},buttons:[{id:"Retake",name:"Retake",type:"Button",action:function(){}},{id:"Okay",name:"Done",type:"Button",action:function(){}}]})},uploadFile:function(a){var X=this;$ele=X.$el;var S=X.getOpts();video=X.video;audio=X.audio;var T=$.extend(true,{},$.ajaxSettings,S,{url:S.url,contentType:false,processData:false,cache:false,type:"POST"});if(!$ele.attr("multiple")){S.multiple=false}else{S.multiple=true}var Q={},A=$ele,H,W=$ele.width(),V,d;var R;if(MediaPopup.eleType!="Image"){R=$(A).parent().siblings("ul")}else{R=$(A).parent().parent().siblings("ul")}if(S.defaultVal!=undefined&&S.defaultVal!=""){V=S.defaultVal,d=(V!=undefined&&V!="")?V.substring(V.indexOf("_")+1):"";B(d,V,false);if(S.showOpts!=undefined){(S.showOpts)()}}var P=$("<input type='file'/>").get(0).files!==undefined,O=window.FormData!==undefined,f=(P&&O);f=true;if(f){var O=new FormData();var b;if(MediaPopup.eleType=="Image"){var C=X._image;var c=atob(C.split(",")[1]);var K=[];for(var Y=0;Y<c.length;Y++){K.push(c.charCodeAt(Y))}b=new Blob([new Uint8Array(K)],{type:"image/png"});if(X._cropped){if(X.$el[0].files[0]!=undefined){fileType=X.$el[0].files[0].name.split(".")[1];fileMimeType=X.$el[0].files[0].type;b=new Blob([new Uint8Array(K)],{type:fileMimeType});O.append(S.name,b,X.$el[0].files[0].name);N(X.$el[0].files[0].name)}else{O.append(S.name,b,"snapshot.png");N("snapshot.png")}}else{if(X.popup.find("#cameraTab li.active i").hasClass("fa-upload")){b=a.target.files||a.dataTransfer.files;O.append(S.name,b,b.name);N(b.name)}else{O.append(S.name,b,"snapshot.png");N("snapshot.png")}}}else{if(MediaPopup.eleType=="Audio"){b=new Blob(X.chunks);b=X._mp3File;var G=typeof InstallTrigger!=="undefined";O.append(S.name,b,"audio.mp3");N("audio.mp3")}else{b=new Blob(X.chunks,{type:"video/mp4"});O.append(S.name,b,"video.mp4");N("video.mp4")}}$.each(S.data||{},function(e,g){if(g!=undefined){O.append(e,g)}});T.data=O}function E(){if(!S.multiple){$(I(Q).HTML).find("i").trigger("click")}}function N(e){if(!S.multiple){Q={}}Q[e]={HTML:$("<li><i></i></li>").append($("<p>").text(e)),PATH:""}}if(Q.length==0){return }T.xhr=function(){var e=$.ajaxSettings.xhr();if(e.upload){e.upload.addEventListener("progress",function(l){$($(R).parent().parent()[0].querySelector(".zc-image-hover-msg")).html("");var k=0;var g=l.loaded||l.position;var h=l.total;if(l.lengthComputable){k=Math.ceil(g/h*100)}if(S.uploadProgress){S.uploadProgress(k)}},false)}return e};if($(A).parent().next().hasClass("file-restore")){$(A).parent().next().remove()}else{if($(A).parent().parent().next().hasClass("file-restore")){$(A).parent().parent().next().remove()}}var D=$("<i class='zc-li-outline arrows-4-undo-29 file-restore' title='Restore'></i>");if(S.defaultVal!=undefined&&S.defaultVal!=""){D.hide();$(A).parent().after(D);D.click(function(){B(d,V,false);(S.onrestore)(V)})}function M(){if(D!=undefined){D.hide()}if(S.showOpts!=undefined){(S.showOpts)()}$($(R).parent().parent()[0].querySelector(".zc-image-icons")).hide();$($(R).parent().parent()[0].querySelector(".zc-image-hover-msg")).html("");if(!S.multiple){$(R).html(I(Q).HTML)}else{for(j in Q){$(R).append(Q[j].HTML)}}}var F=T.beforeSend;T.beforeSend=function(g,e){M();if(F){F.call(this,g,e)}};$.ajax(T).complete(function(e){e=e.responseJSON[0];J(e)});function B(l,k,e){if(!S.multiple){Q={}}var g=$('<li><i class="zc-li-outline ui-1-simple-remove"></i></li>').append($("<p>").text(l));Q[k]={HTML:g,PATH:k};var h=$(g).find("i")[0];h.data={path:k,filename:l};Z(h,e);M()}function M(){if(D!=undefined){D.hide()}if(S.showOpts!=undefined){(S.showOpts)()}$($(R).parent().parent()[0].querySelector(".zc-image-icons")).hide();$($(R).parent().parent()[0].querySelector(".zc-image-hover-msg")).html("");if(!S.multiple){$(R).html(I(Q).HTML)}else{for(j in Q){$(R).append(Q[j].HTML)}}}function Z(g,e){g.addEventListener("click",function(h){U(h.target,e)})}function U(e,g){var h=$(e).closest("div.form-group").find('input[name="uploadFile"]');$(h).val("");$(e).parent("li").remove();delete Q[e.data.filename];if(S.ondelete!=undefined){(S.ondelete)()}}function I(g){for(var e in g){return g[e]}}function J(h){for(var e=0;e<h.length;e++){var l=Q[h[e].docName],g=$(l.HTML).find("i")[0],k=h[e].docId;if(h[e].status=="error"){$(l.HTML).remove();delete Q[h[e].docName];return false}l.PATH=k;g.className="zc-li-outline ui-1-simple-remove";g.data={path:k,filename:h[e].docName};Z(g)}}}};function randomStringCalculator(F,B,H){if(H==1){var I=F.MODEL;var A=I.RANDSTR;var C=I.FORMLINKNAME;var D=C+"_"+A;if(isNull($(B)[0].querySelector("#"+D))&&!isNull(document.getElementById(D))){var G=new Date().getTime();var E=JSON.stringify(F);var J=E.replace(new RegExp(A,"g"),G);F=JSON.parse(J)}}return F}var Controller={ApplicationController:{apps:{},create:function(B){var D=(B.type!=undefined)?B.type:ApplicationControllerType.DEFAULT;var A=Model.ApplicationModel.create(B.model);var C;switch(D){case ApplicationControllerType.PREVIEWAPPLICATION:this.appController=new PreviewApplicationController(A);break;default:this.appController=new ApplicationController(A);break}this.apps[A.getAppLinkName()]=this.appController;this.appController.bindEvents();return this.appController},get:function(A){return this.apps[A]}},FormController:{forms:{},cache:{},create:function(B){var D=(B.type!=undefined)?B.type:FormControllerType.DEFAULT;var A=Model.FormModel.create(B.model,B.data,B.dynamicMeta),C;this.cache[A.getFormLinkName()]={HTML:B.html,CONTAINER:B.container};this.cache[A.getFormLinkName()].MODEL=JSON.parse(JSON.stringify(B.model));switch(D){case FormControllerType.REPORTFORM:C=new ReportFormController(A,B.reportController);break;case FormControllerType.BULKEDITFORM:C=new BulkEditFormController(A,B.reportController);break;case FormControllerType.LOOKUPFORM:C=new LookupFormController(A,B.childField);break;case FormControllerType.REPORTADDFORM:C=new ReportAddFormController(A,B.reportController);break;case FormControllerType.PREVIEWFORM:C=new PreviewFormController(A,B.reportController);break;default:C=new FormController(A);break}C.isPage=B.isPage;C.isNewPage=B.isNewPage;C.isPageEmbed=B.isPageEmbed;C.isPagePerma=B.isPagePerma;C.isReportEmbed=B.isReportEmbed;C.isReportPerma=B.isReportPerma;if(B.isPage||B.isNewPage){C.container=B.container}this.forms[A.getFormLinkName()]=C;C.data=B.data;C.bindEvents();return C},get:function(A){return this.forms[A]},loadFromCacheOrfetchForm:function(F,J,B){var D=this.cache[F];if(D!=undefined&&D!=null){var H=Controller.FormController.get(F);var C=H.getURL().getForm();if(H.getModel().isPerma()){C=C+"/resetPerma"}else{if(H.getModel().isEmbed()){C=C+"/resetEmbed"}}C=C+"?"+J;$.zcAjax({url:C,type:"GET",success:function(N,M,O){N=randomStringCalculator(N,D.CONTAINER,1);$(D.CONTAINER).html(N.HTML);var K=Controller.FormController.create({model:N.MODEL,html:N.HTML,container:D.CONTAINER,isNewPage:H.isNewPage,data:N.RECORD,dynamicMeta:N.DYNAMIC_META});if(B!=""&&B!=undefined&&Object.keys(B).length>0){Controller.FormController.get(F).infoMsgHandler(B)}},error:function(M,K,P){var O=Controller.FormController.get(F);if(O!=undefined){var N=O.getView().getDOM().getFormContainer();if(N!=null&&N!=undefined){$(N).parent().html(M.responseText)}}}})}else{var I=Controller.ApplicationController.get(ZCGlobal.appLinkName);if(I!=undefined){var E=I.getView();var G="#Form:"+F;var A=Model.ApplicationModel.create({ISPREVIEWACTION:false});E._Events._LoadComponent(G,E.getDOM().getComponentContainer(),true,A)}}}},FormButtonController:{create:function(A){var B=Model.FormButtonModel.create(A.model);return new FormButtonController(B,A.formcontroller).bindEvents()}},ReportController:{previewControllerviews:{},create:function(B){var C=Model.ReportModel.create(B.model);var A;if(B.type==ReportType.PREVIEW_REPORT){A=new PreviewReportController(C,B.childReport,B.isPage,B);this.previewControllerviews[C.getReportLinkName()]=A}else{A=new ReportController(C,B.childReport,B.isPage,B)}A.isPage=B.isPage;A.isPageEmbed=B.isPageEmbed;A.isPagePerma=B.isPagePerma;if(B.isPage){A.container=B.container}A.bindEvents();return A},getPreviewController:function(A){return this.previewControllerviews[A]}},RecordController:{create:function(B){var A=Model.RecordModel.create(B.model,B.reportcontroller.getModel());return new RecordController(A,B.reportcontroller).bindEvents()}},FieldController:{create:function(C){var E=C.model,D=C.formController.getModel(),B=C.data,F;switch(C.model.FIELDCOMPTYPE){case FieldType.PHONE_NUMBER:var A=new PhoneNumberModel(E,D,B);F=new PhoneNumberController(A,C.formController);break;case FieldType.DROPDOWN:case FieldType.INLINE_PICK_LIST:case FieldType.POPUP_SINGLE:case FieldType.SYSTEM_LOOKUP:case FieldType.EXTERNAL_FIELD:var A=new DropdownModel(E,D,B);F=new DropdownController(A,C.formController);break;case FieldType.RADIO:case FieldType.INLINE_RADIO:var A=new RadioModel(E,D,B);F=new RadioController(A,C.formController);break;case FieldType.LIST:var A=new MultiSelectModel(E,D,B);F=new MultiSelectController(A,C.formController);break;case FieldType.CHECK_BOXES:var A=new CheckBoxModel(E,D,B);F=new CheckBoxController(A,C.formController);break;case FieldType.IMAGE:var A=new ImageModel(E,D,B);F=new ImageController(A,C.formController);break;case FieldType.AUDIO:var A=new AudioModel(E,D,B);F=new MediaController(A,C.formController);break;case FieldType.VIDEO:var A=new VideoModel(E,D,B);F=new MediaController(A,C.formController);break;case FieldType.FILE_UPLOAD:var A=new FileUploadModel(E,D,B);F=new FileUploadController(A,C.formController);break;case FieldType.RICH_TEXT_AREA:var A=new RichTextModel(E,D,B);F=new RichTextController(A,C.formController);break;case FieldType.NAME:var A=new NameModel(E,D,B);F=new NameController(A,C.formController);break;case FieldType.ADDRESS:var A=new AddressModel(E,D,B);F=new AddressController(A,C.formController);break;case FieldType.SUB_FORM_GRID:var A=new SubformModel(E,D,B);F=new SubformController(A,C.formController);break;case FieldType.DATE:case FieldType.DATE_TIME:var A=new DateTimeModel(E,D,B);F=new DateTimeController(A,C.formController);break;case FieldType.SIGNATURE:var A=new SignatureModel(E,D,B);F=new SignatureController(A,C.formController);break;case FieldType.URL:var A=new URLModel(E,D,B);F=new URLController(A,C.formController);break;case FieldType.NUMBER:case FieldType.DECIMAL:case FieldType.PERCENTAGE:var A=new FieldModel(E,D,B);F=new FieldController(A,C.formController);break;case FieldType.CURRENCY:var A=new CurrencyModel(E,D,B);F=new CurrencyController(A,C.formController);break;case FieldType.SECTION:var A=new FieldModel(E,D,B);F=new SectionController(A,C.formController);break;case FieldType.SINGLE_SELECT:if(E.ISINTEGRATIONFIELD){var A=new IntegrationModel(E,D,B);F=new IntegrationController(A,C.formController)}break;default:var A=new FieldModel(E,D,B);F=new FieldController(A,C.formController)}F.init();F.bindEvents();return F}},PageController:{create:function(B){var A=Model.PageModel.create(B.model);var C=B.isPage;if(LIB._isNull(C)){C=false}var D=(B.type!=undefined)?B.type:PageType.DEFAULT;pageController=(D==PageType.PREVIEW_PAGE)?new PreviewPageController(A,C):A.isNewPages()?new NewPageController(A,C):new OldPageController(A,C);pageController.isPageEmbed=B.isPageEmbed;pageController.isPagePerma=B.isPagePerma;if(B.isPage){pageController.container=B.container}window.PAGE=pageController;return pageController.bindEvents()}},ApprovalController:{create:function(A){var C=Model.ApprovalModel.create(A.model);var B=new ApprovalController(C);return B.bindEvents()}},NlpController:{create:function(B,A){return new NLPController(B,A)}}};function ControllerFactory(C,B,A){var E=C,F,D;if(C!=undefined){switch(B){case ObjectType.APP:F=View.ApplicationView.create(E,this);break;case ObjectType.FORM:F=View.FormView.create(E,this);D=new FormURL(E);break;case ObjectType.FIELD:F=View.FieldView.create(E,this,A.getView());D=new FieldURL(E,A.getModel());break;case ObjectType.REPORT:F=View.ReportView.create(E,this);D=new ReportURL(E);break;case ObjectType.PAGE:F=View.PageView.create(E,this);D=new PageURL(E);break;case ObjectType.RECORD:F=View.RecordView.create(E,this,A.getView());break;case ObjectType.APPROVAL:F=View.ApprovalView.create(E,this);D=new ApprovalURL(E);break}}this.bindEvents=function(){F.bindEvents();return this};this.getModel=function(){return E};this.getView=function(){return F};this.getURL=function(){return D}}var ApplicationController=(function(B){ControllerFactory.call(this,B,ObjectType.APP);var A=this.getView();var C=false;this.bindEvents=function(){$(A.getDOM().getOldLiveSwitch()).click(A._Events._switchToOldLive);B.fillCompMap();if(!ZCGlobal.isMobileLayout){if(B.getAppTheme()=="8"){A._Events._setSectionCompScroll()}else{if(B.getAppTheme()=="9"){A._Events._setSectionCompScroll();A._Events._setDynamicComponentTop()}}}A._Events._preventSection(B);A._Events._NavigateHeader();A._Events._AppSendMail();A._Events._ChangeHash(B);A._Events._bindAppDataSearchEvent();var D=(B.hasDefaultComp())?"#"+B.getDefaultCompType()+":"+B.getDefaultComp():location.hash;if(B.isPaymentCallback()){D+="?"+B.getPaymentInfo()}A._Events._LoadComponent(D,A.getDOM().getComponentContainer(),true,B);$(".zc_tab.selected").addClass("selected-init");if(B.isTabPane()){A._Events._AdjustTabPane(B.getAppTheme())}else{if(!B.isGridPane()){if(!ZCGlobal.isMobileLayout){A._Events._BindJscroll(B)}}}A._Events._bindToolTip(B);if(!ZCGlobal.isMobileLayout){$(".zc-mobile-back-button").hide()}if(getConfig().useCompression){$(".zc-admin-action").click(function(){var E=this;$(".zc-admin-action").unbind("click");$(".zc-admin-action").removeClass("zc-admin-action");if(!C){loadCSS(bootConfig.cssApacheServer+"/creator/"+bootConfig.label+"/app/css/adminpanel.css");C=true}var F=new Requires(Modules.ADMINPANEL);require(F.get(),F.getPromise(function(){ADMINPANEL=new AdminPanel(B);$(E).trigger("click")}))})}else{ADMINPANEL=new AdminPanel(B)}};this.reload=function(){A._Events._LoadComponent(location.hash,A.getDOM().getComponentContainer(),true,B,true)}});ApplicationController.prototype=Object.create(ControllerFactory.prototype);ApplicationController.prototype.constructor=ApplicationController;var PreviewApplicationController=(function(C){ControllerFactory.call(this,C,ObjectType.APP);var B=this;var A=this.getView();this.isBuildPreview=true;this.initBuilder=location.search.indexOf("isInitBuilder")!=-1;this.isBuilderInitiated=this.initBuilder;this.bindEvents=function(){C.fillCompMap();if(C.getAppTheme()=="8"){A._Events._setSectionCompScroll()}else{if(C.getAppTheme()=="9"){A._Events._setSectionCompScroll();A._Events._setDynamicComponentTop()}}A._Events._preventSection(C);A._Events._ChangeHash(C);var D=(C.hasDefaultComp())?"#"+C.getDefaultCompType()+":"+C.getDefaultComp():location.hash;A._Events._LoadComponent(D,A.getDOM().getComponentContainer(),true,C,(B.isBuilderInitiated&&location.hash!=""));if(C.isTabPane()){A._Events._AdjustTabPane(C.getAppTheme())}else{if(!C.isGridPane()){if(!isMobileBrowser()){A._Events._BindJscroll(C);A._Events._ScrollToSelectedTab()}}}A._Events._bindToolTip(C)};this.reLoad=function(E){var D=E==undefined?location.hash:E;var F=A._Events._LoadComponent(D,A.getDOM().getComponentContainer(),true,C,true)};this.reLoadCSS=function(J){var M=$("head"),P,E,N,O;var K="themeColorOption";var D="layout"+J.key+"."+J.themecolor+".css";var I="theme"+J.key+"."+J.themecolor+".css";var H=$("#"+K);if($("#theme"+J.key+"_css").length>0){P=$("#theme"+J.key+"_css");E=$(P).attr("href");if(!E){E=$(P).attr("value")}if(E.indexOf("theme"+J.key+".")!=-1){if($(H).length>0){N=E.substr(E.indexOf("theme"+J.key+"."));var F=E.replace(N,I);$.get(F).always(function(){$(H).attr("href",F)})}else{O=$(P).clone();$(O).attr("id",K);N=E.substr(E.indexOf("theme"+J.key+"."));var G=E.replace(N,I);$(O).attr("href",G);$.get(G).always(function(){$(O).attr("href",G)});$(O).insertAfter(P);$(O)[0].onload=function(){$(P).attr("value",E).removeAttr("href")}}}}else{if($(H).length>0){var F=$(H).attr("href");if(F.indexOf("layout"+J.key+".")!=-1){N=F.substr(F.indexOf("layout"+J.key+"."));F=F.replace(N,D);$.get(F).done(function(){$(H).attr("href",F)})}}else{$(M).find("link").each(function(){if($(this).name==="customTheme"){return }P=$(this);E=$(this).attr("href");if(E.indexOf("layout"+J.key+".")!=-1){O=$(P).clone();$(O).attr("id",K);N=E.substr(E.indexOf("layout"+J.key+"."));var Q=E.replace(N,D);$(O).attr("href",Q);$.get(Q).done(function(){$(O).insertAfter(P)});return false}})}}};$(window).off("message").on("message",function(E){E=E.originalEvent;if(E.data.action=="reload"){B.reLoad(E.data.hash)}if(E.data.action=="hardReload"){if(B.initBuilder){location.search=location.search.replace("&isInitBuilder=true","")}else{location.reload()}}if(E.data.action=="showPreviewRecSummary"){var D=Controller.ReportController.getPreviewController(E.data.linkname);D.showPreViewRecord()}if(E.data.action=="closeFirstPopup"){closeFirstPopup()}if(E.data.action=="reloadFrameCSS"){B.reLoadCSS(E.data.themeMeta)}})});PreviewApplicationController.prototype=Object.create(ControllerFactory.prototype);PreviewApplicationController.prototype.constructor=PreviewApplicationController;var latLngRegx=/^-?([0-8]?[0-9]|90)\.[0-9]{1,7},-?((1?[0-7]?|[0-9]?)[0-9]|180)\.[0-9]{1,7}$/;function createCreatorMarker(J,D,K){var G=K.getView();var I=G.getReportDom().getReportContainer();$(I).find(".zc-marker-div").remove();for(var F=0;F<J.length;F++){var E=J[F],M=E.lat,B=E.lon,N=E.recordLinkId;var C=document.createElement("div");C.className="zc-marker-div";var A=getSpecificDomain(Constants.IMAGE_STATIC_SERVER)+"/maps/v8_1_7/images/maps-blue-marker.svg";C.style.backgroundImage="url("+A+")";var H=E.layout;var P=H;$(C).attr("layout",P);$(C).attr("lat",M);$(C).attr("lon",B);$(C).attr("recordLinkId",N);cutomMarker=new mapboxgl.Marker(C,{offset:[-0,-17.5]});cutomMarker.setLngLat([E.lon,E.lat]);cutomMarker.addTo(D);var O=cutomMarker._element;regCardEvent(O,K)}}function createMarker(J,E,C){var I=[];for(var H=0;H<J.length;H++){var G=J[H];var K=G.lat;var B=G.lon;var D=document.createElement("div");D.className="zc-marker-div";var A=getSpecificDomain(Constants.IMAGE_STATIC_SERVER)+"/maps/v8_1_7/images/maps-blue-marker.svg";D.style.backgroundImage="url("+A+")";$(D).attr("lat",K);$(D).attr("lon",B);var F=new mapboxgl.Marker(D,{offset:[-0,-17.5]});F.setLngLat([B,K]);F.addTo(E);if(C){I.push(F)}}if(C){return I}}function regCardEvent(D,A){var F=A.getView();var E=F.getReportDom().getReportContainer();var C=A.reportModel;var B="mouseover";if(ZCGlobal.isMobileLayout){B="tap"}$(D).on(B,function(I,G,H){timer=setTimeout(function(){var S=I.currentTarget;var c=$(S).closest(".map-view");var Q=$(S).attr("lat"),N=$(S).attr("lon");var J=$("div[lat='"+Q+"'][lon='"+N+"']");var W="<div id='zc-multimap-card' class='zc-multimap-card";if(J.length>1){W=W+" zc-more-map-cards "}W=W+"'><div id='zc-card-innercont'>";if(J.length>1){$(J).each(function(g){W=W+$(this).attr("layout")})}else{W=W+$(S).attr("layout")}W=W+"</div></div>";var Y=$(E).find("#zc-card-cont");$(Y).html(W);$(Y).fadeIn(300);$(Y).css({position:"fixed"});var a=$(c).offset().left;var U=$(c).offset().top;var R=$(S).width(),Z=$(E).find("#zc-multimap-card").width(),f=$(window).width();var b=$(S).height(),M=$(E).find("#zc-multimap-card").height(),T=$(window).height();var K=$(S).offset();var d=$(S).position();var V=(Z/2)-(R/2);var O=K.left-V;var X=K.top-M;var P=a+$(c).width();if((O+(V*2))>P){O=O-((O+(V*2)+R)-(P))}else{if((O-a)<0){var e=a;e=e<0?15:e+15;O=e}}if(M>(K.top-U)){X=K.top+b}$(Y).css({left:O+"px",top:X+"px"});$(Y).find("div[elname=zc-dem-card-more]").click(function(g){F.showRecordMenu(g,this);if(ZCGlobal.isMobileLayout){$(F.getReportDom().getFreezeLayer()).addClass("zc-filter-frz").show()}g.stopPropagation()});$(Y).find("[elname=zc-record]").bind("mousedown",function(g){F.showReportContextMenu(g,this)});$("ul[elName=zc-recMenuActionList]").data("zcpo")!=undefined&&$("ul[elName=zc-recMenuActionList]").data("zcpo").hide();$("ul[elName=zc-moreRecActionFloat]").data("zcpo")!=undefined&&$("ul[elName=zc-moreRecActionFloat]").data("zcpo").hide();$(Y).find("[elname=zc-record] .recordTab a").off("click").on("click",function(g){stopPropogation(g)});$(E).find("#zc-card-cont").find("[elname=zc-record]").unbind("click").click(function(g){var h=this;F.handleOnClickAction({element:h,event:g})});if(!ZCGlobal.isMobileLayout){$(E).find(".zc-marker-div").unbind("click").click(function(k){var l=$(this).attr("lat"),n=$(this).attr("lon");var g=$(E).find("div[lat='"+l+"'][lon='"+n+"']");if(g.length>1){return false}var h=$(this).attr("recordLinkId");var m=$(E).find("#zc-card-cont [elname='zc-record'][reclinkid='"+h+"']");if($(m).length==0){return }F.handleOnClickAction({element:m,event:k})})}},500)}).on("mouseout",function(H){var G=H.relatedTarget||H.toElement;if($(G).closest(".zc-multimap-card").length>0){clearTimeout(timer);return }$("#zc-card-cont").removeAttr("style");$("#zc-card-cont").fadeOut(300);$("ul[elName=zc-recMenuActionList]").data("zcpo")!=undefined&&$("ul[elName=zc-recMenuActionList]").data("zcpo").hide();$("ul[elName=zc-moreRecActionFloat]").data("zcpo")!=undefined&&$("ul[elName=zc-moreRecActionFloat]").data("zcpo").hide();clearTimeout(timer)});if(ZCGlobal.isMobileLayout){B="tap touchmove"}$(".mapboxgl-canvas").on(B,function(G){if($(G.toElement).closest(".zc-multimap-card").length>0){return }$("#zc-card-cont").removeAttr("style");$("#zc-card-cont").fadeOut(300);$("ul[elName=zc-recMenuActionList]").data("zcpo")!=undefined&&$("ul[elName=zc-recMenuActionList]").data("zcpo").hide();$("ul[elName=zc-moreRecActionFloat]").data("zcpo")!=undefined&&$("ul[elName=zc-moreRecActionFloat]").data("zcpo").hide()})}var Model={ApplicationModel:{create:function(A){return new ApplicationModel(A)}},FormModel:{create:function(C,B,A){return new FormModel(C,B,A)}},FormButtonModel:{create:function(A){return new FormButtonModel(A)}},ReportModel:{create:function(A){return new ReportModel(A)}},RecordModel:{create:function(A,B){return new RecordModel(A,B)}},PageModel:{create:function(A){return new PageModel(A)}},ApprovalModel:{create:function(A){return new ApprovalModel(A)}}};function ModelFactory(D,A){var B;if(D!=undefined){var C=new ModelAudit(D);B=D}this.getMeta=function(){return B}}function ModelAudit(F){var E=[],C=["APPLINKNAME"];E.push(new MandatoryPredicate(F,C));E.push(new AlphaPredicate(F,C));var D=[],B=["APPLINKNAME","formLinkName"];D.push(new MandatoryPredicate(F,B));D.push(new AlphaPredicate(F,B));function A(G){if(G.length>0){for(i in G){G[i].evaluate()}}}return{auditDefault:function(){A([new NonEmptyPredicate(F)])},auditApp:function(){A(E)},auditForm:function(){A(D)}}}var Predicate=Class.extend({isNull:function(A){if(!A||A==undefined||A==""){return true}return false},isAlpha:function(A){if(/[^a-zA-Z]/.test(A)){return true}return false}});var NonEmptyPredicate=Predicate.extend({construct:function(A){this.meta=A},evaluate:function(){if(this.isNull(this.meta)||typeof (this.meta)!="object"){throw new InvalidArgumentException("Given argument is empty or invalid : "+this.meta)}}});var MandatoryPredicate=Predicate.extend({construct:function(B,A){this.meta=B;this.mandatoryArgs=A},evaluate:function(){var D=[];for(var C=0,B=this.mandatoryArgs.length;C<B;C++){var A=this.mandatoryArgs[C];if(this.isNull(this.meta[A])){D.push(A)}}if(D.length>0){throw new MissingArgumentException(D+" cannot be empty")}}});var AlphaPredicate=Predicate.extend({construct:function(B,A){this.meta=B;this.alphaArgs=A},evaluate:function(){var D=[];for(var C=0,B=this.alphaArgs.length;C<B;C++){var A=this.alphaArgs[C];if(this.isNull(this.meta[A])){D.push(A)}}if(D.length>0){throw new AlphaOnlyException(D+" cannot be empty")}}});var ApplicationModel=(function(A){ModelFactory.call(this,A,ObjectType.APP);this.getAppLinkName=function(){return A.APPLINKNAME};this.getAppDisplayName=function(){return A.appDispName};this.getComponents=function(){return A.appComponents};this.getAppDateFormat=function(){return A.appDateFormat};this.getAppTheme=function(){return A.APPTHEME};this.getAppThemeColor=function(){return A.APPTHEMECOLOR};this.isTabPane=function(){return AppTheme.isTab(A.APPTHEME)};this.isGridPane=function(){return AppTheme.isGrid(A.APPTHEME)};this.isSection=function(C){for(var B in A.APPPAGES){if(C==B){return true}}return false};this.hasDefaultComp=function(){return(A.componentName&&A.componentType)};this.getDefaultComp=function(){return A.componentName};this.fillCompMap=function(){LIB._pagesList=A.PAGESLIST;var C=[];for(var B in A.APPPAGES){C.push(B)}LIB._sectionsList=C};this.getDefaultCompType=function(){if(A.componentType=="form"){return"Form"}else{if(A.componentType=="report"){return"Report"}else{if(A.componentType=="page"){return"Page"}}}return A.componentName};this.isPaymentCallback=function(){return A.isPaymentCallback};this.getPaymentInfo=function(){var B="isPaymentCallback=true&pmt_returnType="+A.returnType+"&pmt_transactionId="+A.transactionId+"&recLinkId="+A.recLinkId;if(!LIB._isNull(A.zc_NextUrl)){B+="&zc_NextUrl="+A.zc_NextUrl}if(!LIB._isNull(A.zc_OpenUrlIn)){B+="&zc_OpenUrlIn="+A.zc_OpenUrlIn}if(!LIB._isNull(A.zc_SuccMsg)){B+="&zc_SuccMsg="+A.zc_SuccMsg}return B};this.getPaymentReturnType=function(){return };this.getTransactionId=function(){return };this.getRecLinkId=function(){return };this.hasCustomTheme=function(){return A.CUSTOMTHEME};this.getFeatures=function(){return A.FEATURES};this.isPreviewAction=function(){return A.ISPREVIEWACTION}});ApplicationModel.prototype=Object.create(ModelFactory.prototype);ApplicationModel.prototype.constructor=ApplicationModel;function DOMFactory(A){var B=A;this.getModel=function(){return B}}var DOM={ApplicationDOM:{get:function(A){return new ApplicationDOM(A)}},FormDOM:{get:function(A){return new FormDOM(A)}},ReportDOM:{get:function(A){return new ReportDOM(A)}},RecordDOM:{get:function(A){return new RecordDOM(A)}},PageDOM:{get:function(A){return A.isNewPages()?new NewPageDOM(A):new OldPageDOM(A)}},ApprovalDOM:{get:function(A){return new ApprovalDOM(A)}}};var ApplicationDOM=(function(K){var P=$("body"),B=document.getElementById("zc_inner_nav_menu"),M=document.getElementById("pane_nav_menu"),H=document.getElementById("zc_nav_menu"),Z=document.getElementById("app_search_box"),D=document.getElementById("searchInput"),A=document.getElementById("zc-account-settings"),R=document.getElementById("zc-account-dropdown"),X=document.getElementById("oldLiveSwitchEle"),O=document.getElementById("zc-adminpanel"),W=document.getElementById("adminPanel"),S=document.getElementById("editAppEl"),G=document.getElementById("zc-app-settings"),C=document.getElementById("zc-chat-settings"),Y=document.getElementById("zc-chat-dropdown"),T=document.getElementById("zc-searchform-settings"),E=document.getElementById("zc-searchform-dropdown"),V=document.getElementById("zc-app-dropdown");_headerTopBar=document.getElementsByClassName("header_top_bar");_selectLanguage=document.getElementById("zc-lang-select");_selectLanguageDropDown=document.getElementById("zc-language-dropdown");_tooltipEl=$("[zc-tooltip=true]");_selectLanguageDropDowndup=document.getElementById("zc-language-dropdown-dup");_appAdminSettings=document.getElementById("zc-appadmin-settings");_appAdminDropdown=document.getElementById("zc-appadmin-dropdown");_appViewOption=document.getElementById("viewOption");var I=document.getElementById("backToSection");var Q=document.getElementById("zc-applicationHeaderBar"),F=document.getElementById("zc-applicationHeaderDiv"),J=document.getElementById("appViewContainer"),U=document.getElementById("zc-app-notification"),N=document.getElementById("zc-notification-dropdown");_appBetaNotificationUpdate=document.getElementsByClassName("beta_feature_update");_onPremiseLicenseElement=document.getElementById("licenseInfo");this.getOldLiveSwitch=function(){return X};this.getEditLink=function(){return S};this.getContainer=function(){return P};this.getNavbar=function(){return M};this.getNavbarComponents=function(){return $(M).find("ul.zc_tab_comp a")};this.getAppNavMenu=function(){return $(M).parent()};this.getNavMenu=function(){return H};this.getAdminPanelLink=function(){return O};this.getAdminPanel=function(){return W};this.getAppSettingsLink=function(){return G};this.getAppSettingsMenu=function(){return V};this.getAccountSettingLink=function(){return A};this.getAccountSettingMenu=function(){return R};this.getChatSettingLink=function(){return C};this.getChatSettingMenu=function(){return Y};this.getAppDataSearchBox=function(){return Z};this.getAppDataSearchInput=function(){return D};this.getSearchSettingsLink=function(){return T};this.getSearchSettingsMenu=function(){return E};this.getLanguageLink=function(){return _selectLanguage};this.getLanguageDropDown=function(){return _selectLanguageDropDown};this.getLanguageDropDownDup=function(){return _selectLanguageDropDowndup};this.getTabs=function(){return $(M).find("a.zc_tab")};this.getNavbarTabComps=function(){return $(M).find("ul.zc_tab_comp")};_componentContainer=document.getElementById("zc-component");this.getComponentContainer=function(){return _componentContainer};this.getTab=function(a){return document.getElementById("tab_"+a)};this.getParentTab=function(a){return $(this.getNavbarComponents()).filter("a[id='"+a+"']").parents("ul:first").prev()};this.getSelectComponent=function(a){return $(this.getNavbarComponents()).filter("a[id='"+a+"']")};this.getCurrentSelectedComponent=function(){return $(this.getNavbarComponents()).filter("a.selected")};this.getCurrentSelectedTab=function(){return $(this.getNavMenu()).find("li.zc_nav_section > a.selected")};this.getSelectAllComponent=function(a){var b=$(this.getNavbarComponents()).filter("a[id='"+a+"']").parents("ul:first");return $(b).find("a")};this.getFirstComponent=function(a){var b=document.getElementById("tab_"+a);return $(b).next().find("a:first")};this.getFirstTab=function(){return $(H).find("li.zc_nav_section:first > a.zc_tab:first")};this.getHeaderMenus=function(){return $(".topbar_dropdown")};this.getAppTopBar=function(){return _headerTopBar};this.getToolTipEl=function(){return _tooltipEl};this.getAppAdminSettings=function(){return _appAdminSettings};this.getAppAdminDropdown=function(){return _appAdminDropdown};this.getAppViewOption=function(){return _appViewOption};this.getBackToGridButton=function(){return I};this.getApplicationHeaderBar=function(){return Q};this.getApplicationHeaderDiv=function(){return F};this.getApplicationViewContainer=function(){return J};this.getAppNotificationLink=function(){return U};this.getAppNotification=function(){return N};this.getAppBetaNotificationUpdateElem=function(){return _appBetaNotificationUpdate};this.getNotificationCloseElem=function(){$("#zc-notification-dropdown").find(".fa-close")};this.getNotificationCont=function(){return $(".zc-beta-notification")};this.getAppNavbarContainer=function(){return $(B)};this.getLicenceEle=function(){return $(_onPremiseLicenseElement)}});ApplicationDOM.prototype=Object.create(DOMFactory.prototype);ApplicationDOM.prototype.constructor=ApplicationDOM;var View={ApplicationView:{create:function(A,B){var C=DOM.ApplicationDOM.get(A);return new ApplicationView(C,B)}},FormView:{create:function(A,C){var B=DOM.FormDOM.get(A);return new FormView(B,C)}},ReportView:{create:function(C,A){var B=DOM.ReportDOM.get(C);return new ReportView(B,A)}},RecordView:{create:function(A,D,C){var B=DOM.RecordDOM.get(A,C.getDOM());return new RecordView(B,D,C)}},FieldView:{create:function(B,C,A){switch(B.getComponentType()){case FieldType.DATE:case FieldType.DATE_TIME:var D=new DateTimeDOM(B,A.getDOM());return new DateTimeView(D,C,A);case FieldType.IMAGE:var D=new ImageDOM(B,A.getDOM());return new ImageView(D,C,A);case FieldType.SIGNATURE:var D=new SignatureDOM(B,A.getDOM());return new SignatureView(D,C,A);case FieldType.DROPDOWN:case FieldType.INLINE_PICK_LIST:case FieldType.POPUP_SINGLE:case FieldType.SYSTEM_LOOKUP:case FieldType.EXTERNAL_FIELD:var D=new DropdownDOM(B,A.getDOM());return new DropdownView(D,C,A);case FieldType.RADIO:case FieldType.INLINE_RADIO:var D=new RadioDOM(B,A.getDOM());return new RadioView(D,C,A);case FieldType.LIST:var D=new DropdownDOM(B,A.getDOM());return new MultiSelectView(D,C,A);case FieldType.CHECK_BOXES:var D=new CheckboxDOM(B,A.getDOM());return new CheckBoxView(D,C,A);case FieldType.FILE_UPLOAD:var D=new FileUploadDOM(B,A.getDOM());return new FileUploadView(D,C,A);case FieldType.AUDIO:var D=new AudioDOM(B,A.getDOM());return new MediaUploadView(D,C,A);case FieldType.VIDEO:var D=new VideoDOM(B,A.getDOM());return new MediaUploadView(D,C,A);case FieldType.RICH_TEXT_AREA:var D=new RichTextDOM(B,A.getDOM());return new RichTextView(D,C,A);case FieldType.MULTI_LINE:var D=new TextAreaDOM(B,A.getDOM());return new FieldView(D,C,A);case FieldType.ADDRESS:var D=new AddressDOM(B,A.getDOM());return new AddressView(D,C,A);case FieldType.NAME:var D=new NameDOM(B,A.getDOM());return new NameView(D,C,A);case FieldType.PHONE_NUMBER:var D=new PhoneNumberDOM(B,A.getDOM());return new PhoneNumberView(D,C,A);case FieldType.SUB_FORM_GRID:var D=new SubformDOM(B,A.getDOM());return new SubformView(D,C,A);case FieldType.DECISIONBOX:var D=new DecisionBoxDOM(B,A.getDOM());return new DecisionBoxView(D,C,A);case FieldType.URL:var D=new URLDOM(B,A.getDOM());return new URLView(D,C,A);case FieldType.PLAIN_TEXT:var D=new PlainTextDom(B,A.getDOM());return new PlainTextView(D,C,A);case FieldType.CURRENCY:var D=new CurrencyDOM(B,A.getDOM());return new CurrencyView(D,C,A);case FieldType.SECTION:var D=new SectionDom(B,A.getDOM());return new SectionView(D,C,A);case FieldType.SINGLE_SELECT:if(B.isIntegrationField()){var D=new IntegrationDOM(B,A.getDOM());return new IntegrationView(D,C,A)}default:var D=new FieldDOM(B,A.getDOM());return new FieldView(D,C,A)}}},PageView:{create:function(A,C){var B=DOM.PageDOM.get(A);return A.isPreviewAction()?new PreviewPageView(B,C):A.isNewPages()?new NewPageView(B,C):new OldPageView(B,C)}},ApprovalView:{create:function(C,A){var B=DOM.ApprovalDOM.get(C);return new ApprovalView(B,A)}}};function ViewFactory(B){var A=B;this.getDOM=function(){return A}}var ApplicationView=(function(C,D){var E=true;var A=this;if(arguments.length==0){E=false}ViewFactory.call(this,C);var C=this.getDOM();var B=undefined;this._Events={_LoadComponent:function(O,F,M,V,N){var W=this;if(E&&LIB._isNull(O)){if(!LIB._isNull(V)&&!V.isPreviewAction()){$(C.getBackToGridButton()).removeClass("zc-dem-back-active");$(C.getApplicationHeaderDiv()).hide();if(V.isGridPane()){LIB._stopLoading();return }}if(ZCGlobal.isMobileLayout){$(".zc-mobile-back-button").hide();$("#zc-component").empty();$("#zc-component").css("visibility","hidden");$(C.getAppNavMenu()).show();LIB._stopLoading();return }if(C.getTabs().length==0){return }O=C.getTabs().eq(0).attr("href");var G=location.href;if(G.lastIndexOf("#")==G.length-1){G=G.substr(0,G.length-1)}history.replaceState({},document.title,G+O)}if(E&&!LIB._isNull(O)){$(C.getBackToGridButton()).addClass("zc-dem-back-active")}if(ZCGlobal.isMobileLayout){$(".zc-mobile-back-button").hide()}var K=O==undefined?location.hash:O;var J=K.toLowerCase();var U=J.indexOf("#form:")!=-1?1:(J.indexOf("#report:")!=-1||J.indexOf("#view:")!=-1)?2:J.indexOf("#page:")!=-1?3:J.indexOf("#approvals:")!=-1?5:(J.indexOf(":")==-1&&J.substring(1).length!=0)?4:-1;var R=(U==1||U==2||U==3||U==5)?K.substr(K.indexOf(":")+1):K.substring(1);var T=R;if(T.indexOf("?")!=-1){T=T.substring(0,T.indexOf("?"))}if(U==3&&!LIB._isHtmlPage(T)&&LIB._isSection(T)){U=4;R=K.substr(K.indexOf(":")+1)}if(E&&U==4){var I=C.getFirstComponent(R);if(I.length){K=I.attr("href")}else{var P=C.getFirstTab();if(P.length){K=P.attr("href")}}if(LIB._isNull(K)){location=window.ZCPrevURL;return }J=K.toLowerCase();U=J.indexOf("#form:")!=-1?1:(J.indexOf("#report:")!=-1||J.indexOf("#view:")!=-1)?2:J.indexOf("#page:")!=-1?3:J.indexOf("#approvals:")!=-1?5:(J.indexOf(":")==-1&&J.substring(1).length!=0)?4:-1;R=(U==1||U==2||U==3||U==5)?K.substr(K.indexOf(":")+1):K.substring(1);if(U==4){location.hash=K;return }}var Q=R;if(Q.indexOf("?")!=-1){Q=Q.substring(0,Q.indexOf("?"))}if(U==2&&LIB._isHtmlPage(Q)){U=3}var S=function(h,g,c){var b=$("a[elname=zc-saveViewRecsEl]").attr("status");if(b=="enable"){$.confirm({message:i18n.spreadsheetcnfm,success:function(){$("a[elname=zc-saveViewRecsEl]").attr("status","disables");W._LoadComponent(O,F,M,V)},failure:function(){return }});return false}var Z=getConfig();var d=function(n,p){var o=(g.indexOf("?")!=-1)?g.substr(0,g.indexOf("?")):g;if(n.indexOf("#")>-1){Console.log(n);n=n.replace(/#/g,encodeURIComponent("#"));Console.log(n)}if(h==2){p.urlParams=getURLParamsJSON(n)}return $.zcAjax({url:n,method:"GET",beforeSend:function(q){LIB._startLoading();if(V!=undefined&&V.isPreviewAction()){$(".zc-dem-customize-fixed").hide()}if(E){W._SelectComponent(o)}},data:p,success:function(s){s=randomStringCalculator(s,F,h);if(M){W._SetEditLink(U,R);W._SetSwitchLink(U,R)}if(getConfig().useCompression){var q=new Requires(h);require(q.get(),q.getPromise(function(){e(s,F,h);X(V)}))}else{e(s,F,h);X(V)}if(!LIB._isNull(C)){$(C.getAppNavMenu()).addClass("zc-dem-full-page-nav")}if(!LIB._isNull(V)&&V.isGridPane()){$(C.getApplicationHeaderDiv()).show()}},error:function(u,r,t){if(ZCGlobal.isMobileLayout){$(".zc-mobile-back-button").show()}LIB._stopLoading();if(!LIB._isNull(F)){$(F).html(u.responseText);if(ZCGlobal.isMobileLayout){$("#zc-component").css("visibility","visible");$(C.getAppNavMenu()).hide()}if(!LIB._isNull(V)&&V.isPreviewAction()&&!$(".zc-dem-customize-fixed").length){var q=$('<div class="zc-dem-customize-fixed">').append($("<a/>").text(i18n.openbuilder));$(F).append(q);var s=h==1?"formbuilder":(h==2?"reportbuilder":(h==3?"pagebuilder":""));$('.zc-dem-customize-fixed a[elname="showFieldMapping"]').attr("href",ZCGlobal.appbuilderserverprefix+"/appbuilder/"+ZCGlobal.scopeName+"/"+ZCGlobal.appLinkName+"/"+s+"/"+o+"/edit");$("#zc-component, .zc-dem-customize-fixed").off("click").on("click",function(x){var w="showBuilder";if(x.target.nodeName==="A"){if($(x.target).attr("elname")=="showFieldMapping"){w="showFieldMapping"}}else{if($(this).find("[elname=reportpreviewcontent]").length==1){w="showFieldMapping"}}x.preventDefault();var y={};y.isInitBuilder=D.initBuilder;y.compName=o;y.type=h;y.callFunc=w;var v=ZCGlobal.appbuilderserverprefix;parent.postMessage(y,v);stopEventBubbling(x)})}}}})};var e=function(r,o,q){if(!LIB._isNull(o)){$(o).html(r.HTML)}var n;switch(q){case 1:n=Controller.FormController;previewType=FormControllerType.PREVIEWFORM;break;case 2:n=Controller.ReportController;previewType=ReportType.PREVIEW_REPORT;break;case 3:n=Controller.PageController;previewType=PageType.PREVIEW_PAGE;break;case 5:n=Controller.ApprovalController;break}ApplicationView.componentModel=r.MODEL;if(n!=undefined){if(V!=undefined&&V.isPreviewAction()){n=n.create({model:r.MODEL,type:previewType,html:r.HTML,container:o,data:r.RECORD})}else{n=n.create({model:r.MODEL,html:r.HTML,container:o,data:r.RECORD,dynamicMeta:r.DYNAMIC_META});if(ZCGlobal.isMobileLayout){$(".zc-mobile-home-button").hide();$("#zc-component").css("visibility","visible");if(!LIB._isNull(C)){$(C.getAppNavMenu()).hide()}}}}if(q==3&&typeof doaction==="function"){doaction()}if(window.self!==window.top&&V!=undefined&&V.isPreviewAction()){var p=q==1?"formbuilder":(q==2?"reportbuilder":(q==3?"pagebuilder":""));$('.zc-dem-customize-fixed a[elname="showFieldMapping"]').attr("href",ZCGlobal.appbuilderserverprefix+"/appbuilder/"+ZCGlobal.scopeName+"/"+ZCGlobal.appLinkName+"/"+p+"/"+Q+"/edit");$("#zc-component, .zc-dem-customize-fixed").off("click").on("click",function(u){var t="showBuilder";if(u.target.nodeName==="A"){if($(u.target).attr("elname")=="showFieldMapping"){t="showFieldMapping"}else{if($(u.target).attr("elname")=="renameReport"){t="renameReport"}else{if($(u.target).attr("elname")=="deleteReport"){t="deleteReport"}}}}else{if($(this).find("[elname=reportpreviewcontent]").length==1){t="showFieldMapping"}}u.preventDefault();var v={};v.isInitBuilder=D.initBuilder;v.compName=Q;v.type=q;if(q==1){v.isThirdPartyModule=$(".zc-dem-customize-fixed a").attr("isthirdpartyform")}v.callFunc=t;var s=ZCGlobal.appbuilderserverprefix;parent.postMessage(v,s);stopEventBubbling(u)})}initWalkThrough();if(ZCGlobal.isMobileLayout){$(".zc-mobile-back-button").show()}if(n.removeLoading()){LIB._stopLoading()}};var X=function(n){if(!LIB._isNull(n)&&n.isPreviewAction()){$(".zc-dem-customize-fixed").hide();setTimeout(function(){$(".zc-dem-customize-fixed").fadeIn(50)},500)}};var f=function(){if(window.sheetInstances!=undefined){var o=window.sheetInstances;var n=o.length;for(i=0;i<n;i++){if((o[i]!=undefined)&&(o[i].container!=null)){o[i].destroy()}}window.sheetInstances=[]}};var m=(ZCGlobal.isPreviewAction)?ZCGlobal.previewAppurl:ZCGlobal.appurl;var l=function(){d(m+LIB._componentUrlPrefix.form+g,c)};var k=function(){d(m+LIB._componentUrlPrefix.report+g,c)};var a=function(){if(ZCGlobal.isReadOnly){$.alert({msg:i18n["readonly.noaccessforpages"]});LIB._stopLoading();return }d(m+LIB._componentUrlPrefix.page+g,c)};var Y=function(){d(m+LIB._componentUrlPrefix.approval+g)};switch(h){case 1:return l();case 2:return k();case 3:return a();case 5:return Y();default:return function(){}}}(U,R,{});var H={Type:U,Name:R};if(D!=undefined&&D.isBuildPreview&&!N){W._notifyBuilder(H)}return H},_LoadScript:function(){closeFirstPopup();var H=location.hash;var Q=H.substr(H.indexOf(":")+1);var S=false;if(window.ZCCurrURL&&window.ZCCurrURL.split("?")[1]){var G=window.ZCCurrURL.split("?")[1];var I=G.split("&");for(var M=0;M<I.length;M++){var P=(I[M]).split("=");if(P[0]=="zc_LoadIn"&&P[1]=="dialog"){S=true;break}}}if(Q=="page.back"){window.location=window.ZCPrevURL}else{if(Q=="page.reload"||Q=="page.refresh"){if(!S){window.location=window.ZCCurrURL}else{window.location=window.ZCPrevURL}}else{if(Q=="page.close"){window.close()}else{if(Q=="dialog.close"){if(!S){if((window.ZCCurrURL).indexOf("#Script:")!=-1&&(window.ZCCurrURL).indexOf("#")!=(window.ZCCurrURL).indexOf("#Script:")){window.location=window.ZCCurrURL}else{history.replaceState({},document.title,window.ZCCurrURL)}}else{window.location=window.ZCPrevURL}}else{if(Q=="dialog.closeAll"){closeAllPopup();if(!S){if((window.ZCCurrURL).indexOf("#Script:")!=-1&&(window.ZCCurrURL).indexOf("#")!=(window.ZCCurrURL).indexOf("#Script:")){window.location=window.ZCCurrURL}else{history.replaceState({},document.title,window.ZCCurrURL)}}else{window.location=window.ZCPrevURL}}else{if(Q.indexOf("page.open")!=-1){var O=Q.indexOf('"');var K=Q.lastIndexOf(",");var T=Q.slice(O+1,K);T=T.slice(0,T.lastIndexOf('"'));var R=Q.slice(K+1,Q.lastIndexOf('"'));R=R.slice(R.indexOf('"')+1);var F=$.trim(T);var N=$.trim(R);var J=F.slice(0,F.indexOf(":"));if(J=="Form"||J=="Report"||J=="Page"||J=="View"||J=="Script"){F="#"+F}openWindowTask(F,N)}else{if(Q=="page.parent.close"){getParentWindow().close()}else{if(Q=="page.parent.back"){getParentWindow().location=getParentWindow().ZCPrevURL}else{if(Q=="page.parent.reload"||Q=="page.parent.refresh"){getParentWindow().location=getParentWindow().ZCCurrURL}}}}}}}}}},_ChangeHash:function(H){var G=this;window.ZCPrevURL=window.location.href;window.ZCCurrURL=window.location.href;$(window).off("hashchange").on("hashchange",function(I){if(ZCGlobal.isMobileLayout){if(location.hash==""){$(".zc-mobile-back-button").hide();if(!$(".zc-mobile-home-button").is(":visible")){$(".zc-mobile-home-button").show()}var K=$(".full_pane_nav");if(!$(K).is(":visible")){$(K).show()}if($("#zc-component").is(":visible")){$("#zc-component").empty();$("#zc-component").css("visibility","hidden");$(C.getAppNavMenu()).show()}}}if(H.isGridPane()){if(location.hash==""){$(C.getBackToGridButton()).removeClass("zc-dem-back-active");$(C.getAppNavMenu()).removeClass("zc-dem-full-page-nav");$(C.getApplicationHeaderDiv()).hide()}else{$(C.getBackToGridButton()).addClass("zc-dem-back-active")}}var J=true;if((location.hash).indexOf("#Script:")!=-1&&(location.hash).indexOf("#")==(location.hash).indexOf("#Script:")){G._LoadScript();return false}try{if($.IsLoadInDialog(location.hash)){var M=location.hash;history.replaceState({},document.title,window.ZCCurrURL);G._LoadInDialog(I,M,H);J=false;return }if(!$.browser.msie&&I.originalEvent.oldURL.indexOf("#Script:")==-1){window.ZCPrevURL=I.originalEvent.oldURL}window.ZCCurrURL=(!$.browser.msie)?I.originalEvent.newURL:"/"+ZCGlobal.scopeName+"/"+ZCGlobal.appLinkName}catch(I){Console.log(I)}G._LoadComponent(location.hash,C.getComponentContainer(),true,H)});$(C.getNavbarComponents()).add(C.getTabs()).bind("click",function(){if(location.hash==$(this).attr("href")){G._LoadComponent(location.hash,C.getComponentContainer(),true,H)}if(!LIB._isNull(H)&&H.isGridPane()){$(C.getBackToGridButton()).addClass("zc-dem-back-active")}});var F=$(C.getBackToGridButton());$(F).unbind("click");$(F).bind("click",function(){var I=$($(C.getApplicationViewContainer()).find(".inner #zc-component"));$(C.getBackToGridButton()).removeClass("zc-dem-back-active");$(C.getAppNavMenu()).removeClass("zc-dem-full-page-nav");$(C.getComponentContainer()).empty();$(C.getApplicationHeaderDiv()).hide();history.pushState("",document.title,window.location.pathname+window.location.search)})},_LoadInDialog:function(J,K,H){var G=this;var I=$(getModalProgress()).zcmodal({closeOnEsc:false});var F=I.getBody();G._LoadComponent(K,F,false,H)},_NavigateHeader:function(){var G=function(I,J){var H=function(){$(C.getHeaderMenus()).hide();$(C.getAppNotification()).hide();$(J).hide();$(".top_navbar a.selected").removeClass("selected")};$(I).bind("click",function(M){var K=$(J).is(":visible");H();$(this).addClass("selected");if(K){$(J).hide()}else{if(ZCGlobal.isMobileLayout){ifreeze({container:$("body"),clickCallBack:function(){unfreeze({container:$("body")})}});if($(this).attr("id")=="zc-account-settings"){$("#zc-account-dropdown .popupClose").unbind("click").bind("click",function(N){$(this).hide();unfreeze({container:$("body")})});$("#zc-account-dropdown .popupClose").show()}}$(J).show()}LIB._stopPropagation(M)});$($(C.getContainer())).on("click",function(K){if(!(($(K.target).parents("#zc-app-dropdown").length==1)||($(K.target).parents("#zc-account-dropdown").length==1)||($(K.target).parents("#zc-notification-dropdown").length==1))){H()}});$(document).click(function(K){if(!(($(K.target).parents("#zc-notification-dropdown").length==1)||$(K.target).hasClass("Profile-info")||($(K.target).parents(".Profile-info").length==1))){H()}})};G(C.getAccountSettingLink(),C.getAccountSettingMenu());G(C.getAppSettingsLink(),C.getAppSettingsMenu());G(C.getChatSettingLink(),C.getChatSettingMenu());G(C.getSearchSettingsLink(),C.getSearchSettingsMenu());G(C.getLanguageLink(),C.getLanguageDropDown());G(C.getAppAdminSettings(),C.getAppAdminDropdown());G(C.getAppNotificationLink(),C.getAppNotification());if(!ZCGlobal.isMobileLayout){$(C.getChatSettingLink()).mouseover(function(){var H=C.getChatSettingMenu();if($(C.getLanguageLink()).length){H.style.top="123px"}});$(C.getLanguageLink()).mouseover(function(){langDropdown=$(C.getLanguageDropDown()).find("ul");var I=langDropdown.children().length;var H=C.getLanguageDropDown();if(I<=2){H.style.height="81px"}})}$(C.getLanguageDropDown()).find("ul li").click(function(){var I=$(this).attr("langvalue");if(!LIB._isNull(I)){var H="zc_"+ZCGlobal.applicationId+"_"+ZCGlobal.loginName+"_language";I=="default"?$._deleteCookie(H):$._setCookie(H,I);window.location.reload()}});$(C.getLanguageDropDownDup()).find("a").click(function(){var I=$(this).attr("langvalue");if(!LIB._isNull(I)){var H="zc_"+ZCGlobal.applicationId+"_"+ZCGlobal.loginName+"_language";I=="default"?$._deleteCookie(H):$._setCookie(H,I);window.location.reload()}});$(C.getEditLink()).click(function(I){var H=(I.ctrlKey||I.metaKey)&&!I.altKey;if(!H){LIB._startLoading()}});$(C.getAppNotificationLink()).on("click",function(){A._Events._betaNotificationUpdate(this)});$(C.getAppBetaNotificationUpdateElem()).off("click").on("click",function(){A._Events._betaFeatureUpdate(this)});$(".zc-my-account-link").off("click").on("click",function(){$(C.getHeaderMenus()).hide()});$(C.getLicenceEle()).off("click").on("click",function(){getLicenseContent()});var F;if(!ZCGlobal.isMobileLayout){$(C.getAccountSettingLink()).find(".zc-acc-settings-user-name").mouseover(function(K){var H=10;var J=$(this).parent().width();var M=$(this).width();var N=$(this).parent().find("img").outerWidth(true);if(J<=(M+N+H)){var I=this;F=setTimeout(function(){$(I).width($(I).width());$(I).height($(I).height());$(I).find(".navbar_user_name").css({position:"absolute",width:"auto"});var P=$(I).find(".navbar_user_name").width();$(I).parent().addClass("zc-tool-marquee");var O=parseInt($(I).width()-P);$(I).find(".navbar_user_name").css({left:O})},700)}}).mouseout(function(){clearTimeout(F);var H=this;setTimeout(function(){$(H).css({width:"auto",height:"auto"});$(H).find(".navbar_user_name").css({position:"relative",width:"100%"})},600);$(this).parent().removeClass("zc-tool-marquee");$(this).find(".navbar_user_name").css({left:0})})}$(C.getAppViewOption()).find("li a").off("click").on("click",function(){$(".zc-live-deviceMenu").removeClass("liveHeader-menu-active");$(this).addClass("liveHeader-menu-active");var I=$(this).attr("viewchoice");var H=$("#appViewContainer");$.ajax({type:"GET",data:{appViewOption:I},url:"/"+ZCGlobal.scopeName+"/"+ZCGlobal.appLinkName,beforeSend:function(){$(".zc_live_adminbar").addClass("mob-tablet-bg");H.fadeOut("500",function(){H.empty()});$("#loadingEl").toggle()},success:function(J){H.fadeIn("slow",function(){H.html(J);A._Events._AppSendMail();if(I=="1"){var N=new ZCBoot(bootConfig);N.boot();setTimeout(function(){cssLoaded=true},500);Preview.Live.reset();try{if(ZCPath.appJs.mobileLiveJs!=undefined){var K=document.head.querySelectorAll("script[src='"+ZCPath.appJs.mobileLiveJs+"']");if(K!=null){K.forEach(function(Q){Q.parentNode.removeChild(Q)})}window.console.log("Removed unused JS!")}}catch(P){window.console.log(P)}}else{var M=false;try{M=document.head.querySelector("script[src='"+ZCPath.appJs.mobileLiveJs+"']")!=null;if(M){window.console.log("File already loaded!")}}catch(P){window.console.log(P)}var O=function(){A._Events._initializePreviewCSS(I,J)};if(M){O()}else{loadFiles([ZCPath.appJs.mobileLiveJs]).then(function(){O()})}}});$("#loadingEl").toggle();if(I=="1"){$(".zc_live_adminbar").removeClass("mob-tablet-bg")}}})});if(ZCGlobal.isMobileLayout){$(".zc-mobile-back-button").click(function(H){$("#zc-component").empty();$("#zc-component").css("visibility","hidden");$(C.getAppNavMenu()).show();$(this).hide();$(".zc-mobile-home-button").show();$(".zc-mobile-frz-layer").hide();history.pushState("",document.title,window.location.pathname+window.location.search);hidePopover()})}},_AppSendMail:function(){$("#zc-sendMailConfirm").click(function(){var F=$("#zc-sendMail").val();$.ajax({type:"GET",data:{sendMailId:F},url:"/"+ZCGlobal.scopeName+"/"+ZCGlobal.appLinkName+"/sendAppLinkMail",success:function(G){$.successMsg("Sent Successfully!",1000);$("#zc-sendMail").val("")}})})},_initializePreviewCSS:function(N,G){var F=$(G);var I=[];var O=[];var K=(new ZCAppearance({}));$('link[href*="mobile-themes"]').remove();if(F.length>0){for(var H=F.length-1;H>=0;H--){var M=F[H];if(M.tagName==="LINK"){I.push(M.getAttribute("href"))}}for(var H=0,J=I.length;H<J;H++){O.push(new Promise(function(Q,P){K.appendStylesheet(I[H],function(){Q()})}))}Promise.all(O).then(function(P){A._Events._initializePreviewLive(N)})}},_initializePreviewLive:function(F){setTimeout(function(){if(typeof liveComponents!=="undefined"){Preview.Live.reset();var G={liveComponents:liveComponents,mobileCompsJSON:liveComponents,mobileContent:liveComponents.liveContents[0],deviceType:F};$Device.init(G);$Device.isLiveMode=true;Preview.Live.initialize()}})},_SelectComponent:function(F){if(F==undefined){var I=location.hash;var H=I.toLowerCase();var G=H.indexOf("#form:")!=-1?1:(H.indexOf("#report:")!=-1||H.indexOf("#view:")!=-1)?2:H.indexOf("#page:")!=-1?3:(H.indexOf(":")==-1&&H.substring(1).length!=0)?4:-1;var F=(G==1||G==2||G==3||G==5)?I.substr(I.indexOf(":")+1):I.substring(1);F=F.indexOf("?")!=-1?F.substring(0,F.indexOf("?")):F}$(C.getTabs()).removeClass("selected zc_expand zc_expand_active");$(C.getParentTab(F)).addClass("selected zc_expand zc_expand_active");$(C.getSelectAllComponent(F)).removeClass("selected");$(C.getCurrentSelectedComponent()).removeClass("selected");$(C.getSelectComponent(F)).addClass("selected")},_SetEditLink:function(F,H){var G=window.location.protocol+"//"+ZCGlobal.oldliveserver+"/appbuilder/"+ZCGlobal.scopeName+"/"+ZCGlobal.appLinkName;if(F==5){G=G+"/workflow/edit"}else{F=F==1?"form":F==2?"report":F==3?"page":"";componentName=H.indexOf("?")!=-1?H.substring(0,H.indexOf("?")):H;G=G+"/"+F+"/"+componentName+"/edit"}$(C.getEditLink()).attr("href",G)},_SetSwitchLink:function(F,H){var G=window.location.protocol+"//"+ZCGlobal.oldliveserver+"/"+ZCGlobal.scopeName+"/"+ZCGlobal.appLinkName;F=F==1?"#Form":F==2?"#View":F==3?"#View":"";G=G+"/"+F+":"+H;$(C.getOldLiveSwitch()).attr("slink",G)},_switchToOldLive:function(){$.ajax({beforeSend:function(){this.data=this.data+"&"+ZCGlobal.csrfTokenName+"="+ZCGlobal.csrfToken;LIB._startLoading()},method:"POST",data:"newlive=false",url:"/"+ZCGlobal.contextName+"/"+ZCGlobal.scopeName+"/"+ZCGlobal.appLinkName+"/switchlive",success:function(){window.location=$(C.getOldLiveSwitch()).attr("slink")}})},_betaFeatureUpdate:function(F){var G;if($(F).text().trim()==="apply"){G=1;$(F).removeClass("zc-live-primary-btn").addClass("zc-live-secondary-btn");$(F).text("rollback");$(F).closest("li").find(".zc_notification_header .zc-beta-check").show()}else{G=0;$(F).removeClass("zc-live-secondary-btn").addClass("zc-live-primary-btn");$(F).text("apply");$(F).closest("li").find(".zc_notification_header .zc-beta-check").hide()}$.ajax({beforeSend:function(){this.data=this.data+"&"+ZCGlobal.csrfTokenName+"="+ZCGlobal.csrfToken;LIB._startLoading()},method:"POST",data:{featureId:$(F).attr("featureId"),mode:G},url:"/"+ZCGlobal.scopeName+"/"+ZCGlobal.appLinkName+"/betaFeatureUpdate",success:function(){LIB._stopLoading();$(C.getAppNotification()).hide();var H=$(F).parents(".zc_feature_list").find(".zc_notification_header").text().trim();msg=(G==1)?'"'+H+'" '+i18n["zc.live.notification.applysuccessmsg"]:'"'+H+'" '+i18n["zc.live.notification.rollbacksuccessmsg"];var I=(G==1)?i18n["zc.live.notification.successcontactmsg"]:i18n["zc.live.notification.rollbackcontactmsg"];$.alert({msg:msg,desc:I});if($(F).attr("featureId")=="299"){D.reload()}}})},_betaNotificationUpdate:function(G){var F=ZCGlobal.csrfTokenName+"="+ZCGlobal.csrfToken;$.ajax({method:"POST",url:"/"+ZCGlobal.scopeName+"/"+ZCGlobal.appLinkName+"/betaNotificationUpdate",data:F,success:function(){$("#notifyCount").hide()}})},_AdjustTabPane:function(O){if(!cssLoaded){setTimeout(function(){A._Events._AdjustTabPane(O)},100);return false}var M=$(C.getNavMenu()).width(),I=0,K=false,F=[];if(O==4){M=M-$(C.getAppTopBar()).width()}var G=$('<li class="pane_hidden_menu"><a href="javascript:none;" class="hidden_menu_icon"><i class="fa fa-ellipsis-v"></i></a></li>').append('<ul class="hidden_menu"><ul/>');$(C.getNavMenu()).find("li.zc_nav_section").each(function(){I+=$(this).width();if((I+80)>M){F.push(this);K=true}});if(K){$(C.getNavMenu()).append(G);for(var J=0,H=F.length;J<H;J++){var N=F[J];$(G).find("ul.hidden_menu").append(N)}}},_BindJscroll:function(F){if(!cssLoaded){setTimeout(function(){A._Events._BindJscroll()},100);return false}B=$(C.getAppNavMenu()).zcScrollPane({VerticalBarWidth:4,scrollPosition:ZCGlobal.appDirectionMeta.scrollerPosition});if(F.getAppTheme()=="9"){A._Events._setDynamicComponentTop()}A._Events._ScrollToSelectedTab()},_ScrollToSelectedTab:function(){var G=C.getCurrentSelectedTab();if(B!=undefined&&!LIB._isNull(G)){var F=$(B.scrollWrapperDiv()).height();var H=$(G).parent().position().top;if(F<H){B.scrollToPosition(H,false,0)}}},_bindAppDataSearchEvent:function(){var F=$(C.getAppDataSearchInput()).is(":visible");$(C.getAppDataSearchBox()).click(function(G){G.stopPropagation();if(!F){$(C.getAppDataSearchInput()).show();$(C.getAppDataSearchBox()).addClass("search_container_selected")}$(C.getAppDataSearchInput()).focus()});$(document).click(function(){if(!F){$(C.getAppDataSearchInput()).hide();$(C.getAppDataSearchBox()).removeClass("search_container_selected")}})},_bindToolTip:function(G){if(!ZCGlobal.isMobileLayout){$(C.getToolTipEl()).mouseover(function(H){$(this).find("span").show()});$(C.getToolTipEl()).mouseout(function(H){$(this).find("span").hide()});var F;$(C.getNavMenu()).find(".zc-nav-title").mouseover(function(M){var H=10;var I=$(this).parents("ul:first").hasClass("pane_nav_submenu");if(I){H=0}var K=$(this).parent().width();var N=$(this).width();var O=$(this).parent().find("i").outerWidth(true);if(G.isTabPane()){if(!I&&N<(208-O)){return }if(I&&N<(218-O)){return }}var O=$(this).parent().find("i").outerWidth(true);if(K<=(N+O+H)){var J=this;F=setTimeout(function(){$(J).width($(J).width());$(J).height($(J).height());$(J).find(".title").css({position:"absolute",width:"auto"});var Q=$(J).find(".title").width();$(J).parent().addClass("zc-tool-marquee");var P=parseInt($(J).width()-Q);$(J).find(".title").css({left:P})},700)}}).mouseout(function(){clearTimeout(F);var H=this;setTimeout(function(){$(H).css({width:"auto",height:"auto"});$(H).find(".title").css({position:"relative",width:"100%"})},600);$(this).parent().removeClass("zc-tool-marquee");$(this).find(".title").css({left:0})})}},_showDynamicToolTip:function(H){var G=$('<span class="zc-dynamic-tooltip">'+$(H).text()+"</span>");$("body").append(G);var F=$(H).offset().top+$(H).height()+5;$(G).css({top:F}).show()},_preventSection:function(G){var F=this;$(C.getTabs()).click(function(H){$(".selected-init").removeClass("selected-init");if($(this).next().find("li").length==1){return }else{if(G.getAppTheme()=="8"){return }}H.preventDefault();if($(this).hasClass("zc_expand")){$(this).removeClass("zc_expand");F._navBarScrollReinit(G);return }$(C.getTabs()).removeClass("zc_expand").removeClass("zc_expand_active");$(this).addClass("zc_expand").addClass("zc_expand_active");F._navBarScrollReinit(G)})},_selfTopCheck:function(I){var N=$(I).find("ul");var J=$(I).offset().top;var M=$(I).height();var H=$(N).height();var F=$("#zc-component").height();var K=$("#zc-component").offset().top;var S=Math.floor(F*85/100);var Q=$(N).find("li").length;var P=0;if($(N).find("li").height()>0){$(N).find("li").each(function(){P=P+$(this).outerHeight(true)})}else{var G=39;P=Q*G}P=P+22;if(P>S){P=S}if(((J+H)<F)&&J>K){$(N).css({top:J,height:P,"max-height":S})}else{var O=J+M;var R=O-H-20;if(R<$("#zc-component").offset().top){if($("#zc-component").offset().top>0){R=$("#zc-component").offset().top}else{R=50}}$(N).css({top:R,height:P,"max-height":S})}},_setDynamicTop:function(){var F=this;$(C.getTabs().parent("li")).each(function(H){var G=this;F._selfTopCheck(G)})},_delay:function(){var F=0;return function(H,G){clearTimeout(F);F=setTimeout(H,G)}},_setSectionCompScroll:function(){$(C.getTabs().siblings("ul")).each(function(){$(this).zcScrollPane({VerticalBarWidth:4,autoReinit:true,reinitInterval:50,scrollPosition:ZCGlobal.appDirectionMeta.scrollerPosition})})},_setDynamicComponentTop:function(){var F=this;F._setDynamicTop();var H;$(C.getTabs().parent("li")).off("mouseenter.navPaneTop").on("mouseenter.navPaneTop",function(J){var I=this;$(C.getNavMenu()).find("li a.zc-dynamic-component-overlay").removeClass("zc-dynamic-component-overlay");$(I).find("a:first").addClass("zc-dynamic-component-overlay");F._selfTopCheck(I);$(C.getAppNavbarContainer()).addClass("zc-hide-custom-zcscrollpane")});$(C.getNavbar()).off("mouseleave").on("mouseleave",function(I){$(C.getNavMenu()).find("li a.zc-dynamic-component-overlay").removeClass("zc-dynamic-component-overlay");$(C.getAppNavbarContainer()).removeClass("zc-hide-custom-zcscrollpane")});if($(C.getAppNavbarContainer()).data("zcsp")){var G=$(C.getAppNavbarContainer()).data("zcsp").scrollDiv();$(G).off("scroll.n	avBarScrollSetTop").on("scroll.navBarScrollSetTop",function(){F._delay(function(){F._setDynamicTop()},300)})}},_navBarScrollReinit:function(G){var F=this;if(B!=undefined){B.reinit()}if(G.getAppTheme()=="9"){F._setDynamicComponentTop()}},_notifyBuilder:function(G){if(window.self!==window.top){var H={};H.isInitBuilder=D.initBuilder;H.compName=G.Name;H.type=G.Type;H.callFunc="showAppearance";var F=ZCGlobal.appbuilderserverprefix;parent.postMessage(H,F)}}}});ApplicationView.prototype=Object.create(ViewFactory.prototype);var Upgrade=new function(){this.isNewStore=true;this.sharedByDisp="";this.proceedForPayment=function(){var A=$.upgradepopup.settings();var B=A.data;$.upgradepopup.loading(true);$.ajax({url:"/userhome/"+A.sharedby+"/updatePlanDetails",type:"POST",data:B,beforeSend:function(){this.url=this.url+"?"+$("#upgradepopupform").serialize()},success:function(D,C,E){if(D.status==="success"){$.upgradepopup.remove();if(A.success!==undefined){A.success(D)}}else{if(A.failure!==undefined){A.failure(D)}else{alert(D.error)}}}})};this.formatValue=function(B){var A=B.toFixed(2).toString().split("."),A=A[0].split("").reverse().join("").replace(/.{3,3}/g,"$&,").replace(/\,$/,"").split("").reverse().join("");return A};this.redirectUpgradePage=function(A,B){var C={};if(A!==undefined){C.subscriptionaccessfrom=A}showLoading();$.ajax({type:"GET",url:"/userhome/"+Upgrade.sharedByDisp+"/showPlan",data:C,success:function(E,D,F){hideLoading();if(B){window.open(E.storeurl,"_blank")}else{window.location.href=E.storeurl}}})};this.redirectToUpgradePage=function(D,A,C){var B={};if(A!==undefined){B.subscriptionaccessfrom=A}B.fromupgradepopup=true;$.ajax({type:"GET",beforeSend:function(){if(C){LIB._startLoading()}else{showLoading()}},url:"/userhome/"+D+"/showPlan",data:B,success:function(F,E,G){if(C){LIB._stopLoading()}else{hideLoading()}window.location.href=F.storeurl}})};this.recurringFailedPopup=function(B,A){var C=getCookie(B+"-recurringfailedprompt");if(!Dashboard.isNull(C)){return }else{setCookie(B+"-recurringfailedprompt","true",2)}$("body").freeze(function(D){var E='<div class="upgrade-container cred-alert"><div class="upgrade-header"><div class="content-heading">'+i18n["zc.onboarding.recurringfailedheader"]+'</div><div class="flRight appNameClose"><a id="upgradeClose" class="CrepopupClose" href="javascript:;"></a></div></div><div class="upgrade-content"><i class="credit-icon"></i><p>'+i18n["zc.onboarding.recurringfaileddesc1"]+"<p>"+i18n["zc.onboarding.recurringfaileddesc2"]+'</p></div><div class="upgrade-footer"><a class="upgrade-btn upgrade-primary-btn" zctlbl="reminder-popup-dashboard" href="javascript:void(0);" onclick="Upgrade.redirectUpgradePage(\'RECURRING_FAILED_POPUP\');">'+i18n["zc.onboarding.checksubscriptionbutton"]+"</a></div></div>";D.append(E);$(".upgrade-container").find("a#upgradeClose").click(function(F){$("body").unfreeze();F.preventDefault()});$(D).find(".upgrade-container").animate({top:0},1000)});Upgrade.upgradePopupTrackEvent("RECURRING_FAILED_POPUP",A)};this.upgradePopup=function(B){var A=getCookie(B+"-upgradeprompt");if(!Dashboard.isNull(A)){return }else{setCookie(B+"-upgradeprompt","true",15)}$("body").freeze(function(C){var D='<div class="upgrade-container"><div class="upgrade-header"><div class="content-heading pull-left">'+i18n["zc.onboarding.upgradeheading"]+'</div><div class="flRight appNameClose"><a id="upgradeClose" class="CrepopupClose" href="javascript:;"></a></div></div><div class="upgrade-content"><p>'+i18n["zc.onboarding.upgradedesc1"]+"<p>"+i18n["zc.onboarding.upgradedesc2"]+'</p></div><div class="upgrade-footer"><a class="btn primary-btn" zctlbl="reminder-popup-dashboard" href="javascript:void(0);" onclick="Upgrade.redirectUpgradePage(\'FREE_UPGRADE_POPUP\');">'+i18n["zc.onboarding.upgradebutton"]+"</a></div></div>";C.append(D);$(".upgrade-container").find("a#upgradeClose").click(function(E){$("body").unfreeze();E.preventDefault()});$(C).find(".upgrade-container").animate({top:0},1000)});Upgrade.upgradePopupTrackEvent("FREE_UPGRADE_POPUP","FLAT_DASHBOARD")};this.upgradePopupTrackEvent=function(C,A,B){}};$.upgradepopup={_p:"",create:function(B){var D=B.value;var A=B.type!==undefined?B.type:"addons";var C=function(){var F='<div class="upgradeMainDiv"><div class="upgradeloading">Loading...</div><div class="upgradeHeader"><h3 class="upgradepopup_title">Title</h3><span class="upgradepopup_close"></span> </div><div class="upgradeContent">Message</div></div>';return $(F)}();function E(){this.settings=B==undefined?{}:B;this.popup=null;this.freezer=null}E.prototype.open=function(){var G=this;var M=function(){if(G.settings.sharedby===undefined){$.error("Syntax Error :  Usage :- \n$.upgradepopup.create({\n\taction: addon name (TEXT),\n\tsharedby: sharedBy,\n\tdata: Ajax request extra params [csrf]\n});");return false}G.settings.data=G.settings.data===undefined?{}:G.settings.data;G.settings.upgradeType=G.settings.upgradeType===undefined?"addons":G.settings.upgradeType;G.settings.action=G.settings.action===undefined?"users":G.settings.action;G.settings.isEditMode=G.settings.isEditMode===undefined?false:true;G.settings.trackingpage=G.settings.action+"-"+G.settings.currentpage;G.settings.isTemplate=true;G.settings.isDashboard=G.settings.isDashboard===undefined?false:G.settings.isDashboard};var K=function(){G.settings.data.zcaction=G.settings.action;G.settings.data.type=A;G.settings.data[G.settings.secretKey]=G.settings.secretVal;$.ajax({url:"/userhome/"+G.settings.sharedby+"/upgradepopup",type:"POST",data:G.settings.data,success:function(P,O,R){if(P.result!==undefined){if(P.result==="success"){G.popup=$('<div class="zs_widget zc-dem-store-upgradepopup"></div>');G.settings.isTemplate=$(G.popup).find(".pricing_upgrade_outer_table").length===1;G.settings.successLabel=P.label;G.settings.title=P.title;G.settings.message=P.message;G.settings.previousCount=P.previousCount;G.settings.currentCount=P.currentCount;N();F(P);H(P.code)}else{if(P.result==="redirection"){if(isCreatorPlusAcc){window.open(P.storeurl,"_blank")}else{window.location.href=P.storeurl}}else{if(G.settings.template!==undefined&&P.result!=="skip"){G.settings.template()}}}}else{var Q=$(P).find("span[eleName=headertext]").text();$(C).find(".upgradeContent").html(P);$(C).find(".upgradeHeader h3").text(Q);G.popup=$(C);G.settings.isTemplate=$(G.popup).find(".pricing_upgrade_outer_table").length===1;if(G.settings.isTemplate&&G.settings.template!==undefined){G.settings.template()}else{if(G.settings.open!==undefined){G.settings.open()}N();I();if(G.settings.isTemplate){$(G.popup).css({"background-color":"#F0F0F0",top:"100"})}else{Upgrade.upgradePopupTrackEvent("Open",G.settings.trackingpage)}}$(G.popup).find(".upgradepopup_close").click(function(){if(!G.settings.isTemplate){Upgrade.upgradePopupTrackEvent("Close",G.settings.trackingpage)}$.upgradepopup.remove()})}}})};var F=function(P){var O={serviceId:901,customId:P.customid,secretKey:G.settings.secretKey,secretVal:G.settings.secretVal,itemList:[{code:P.code,action:"upgrade",type:G.settings.upgradeType}],settings:{upgradeTitle:G.settings.title,upgradeInfo:G.settings.message,successTitle:"License Upgraded Successfully",successActionLabel:G.settings.successLabel,successSecondaryAction:"disable"}};if(P.discountArr!=undefined&&P.discountArr.length>0){var Q={};Q.discounts=P.discountArr;Q.title="Special year-end offer";O.settings.applyPromotion=Q;O.settings.onFailure="closePopup"}zs_widget.init(O)};var H=function(O){zs_store=(function(){return{onSuccess:function(Q){var P=Q[O];var R=G.settings.previousCount+P;if(G.settings.action==="files"){var T=P*3*1024;var S=G.settings.previousCount/(1024*1024);R=T+S}var U={};U.status="success";U.maximumCount=R;U.currentCount=G.settings.currentCount;U.action=G.settings.action;G.settings.success(U);$.upgradepopup.remove()},onCancel:function(){$.upgradepopup.remove()}}}())};var N=function(){$(G.popup).show();G.freezer=$.upgradepopup.freeze(G.settings.isEditMode,G.settings.isDashboard).append(G.popup)};var I=function(){var P=(($(window).height())/2-($(G.popup).height())/2);var O=(($(window).width())/2-($(G.popup).width())/2);$(G.popup).css({top:P,left:O})};var J=function(){try{$.ajax({url:"/userhome/"+G.settings.sharedby+"/upCloseTracking",type:"POST",data:{currentPage:G.settings.trackingpage,zccpn:G.settings.data.zccpn},success:function(Q,P,R){}})}catch(O){}};M();K()};E.prototype.load=function(G){var F=this;if(G){$(F.popup).find(".upgradeloading").show()}else{$(F.popup).find(".upgradeloading").hide()}};E.prototype.close=function(){var F=this;if(F.settings.close!==undefined){F.settings.close()}$(F.popup).find(".upgradeloading").hide();$.upgradepopup.defreeze(F.freezer)};_p=new E();_p.open()},freeze:function(B,C){var A;if(C){A=$('<div class="upgradepopup_zcOverlay"><div class="upgradepopup_centerLay"></div></div>')}else{A=$('<div class="upgradepopup_zcOverlay"><div class="upgradepopup_leftLay"></div><div class="upgradepopup_topLay"></div><div class="upgradepopup_centerLay"></div><div>');if(!B){$(A).find(".upgradepopup_leftLay").css("background","rgba(255, 255, 255, 0.38)")}}$("body").append(A);$(A).fadeIn(400);return A},defreeze:function(A){$(A).fadeOut(400,function(){$(this).remove()})},remove:function(){if(_p!=undefined){_p.close()}},loading:function(A){if(_p!=undefined){_p.load(A)}},settings:function(){if(_p!=undefined){return _p.settings}}};$.upgrade={create:function(A){var B={};B.zcFeatureName=A.zcFeatureName;B.featureType=A.featureType;B.zccpn=A.zccpn;$.ajax({url:"/userhome/"+A.sharedBy+"/upgradepopup",type:"POST",beforeSend:showLoading(),data:B,success:function(D,C,E){hideLoading();if(D!=undefined){iCustomizePopup({body:D,containerClass:"zc-dem-upgrade-plan",parentClass:"zc-dem-upgrade-popup-container"});if(!A.isDashboard){$(".zc-dem-upgrade-popup-wrapper").zcScrollPane({autoReinit:true})}if(A.successCallBk!=undefined){A.successCallBk()}}}})}};CacheType={CACHESTORAGE:1,INDEXEDDB:2,INMEMORY:3};var CacheFactory=(function(){_cacheFactory=this;this.getCache=function(J){var I={type:CacheType.CACHESTORAGE,NeededFallback:true};J.type===undefined?I.type:J.type;J.NeededFallback===undefined?I.NeededFallback:J.NeededFallback;var K=undefined;if(J.poolName===undefined){throw new Error("poolname is not specified")}K=C(J.type,J.poolName);if(K===undefined){if(J.NeededFallback){K=B(J.type,J.poolName)}else{return null}}return new H(K)};this.deleteCache=function(I){return I.deleteCache().then(function(){delete I})};function E(){return"caches" in self}function F(){return"indexedDB" in self}function C(I,J){switch(I){case CacheType.CACHESTORAGE:return(E())?new G(J):undefined;case CacheType.INDEXEDDB:return(F())?new A(J):undefined;case CacheType.INMEMORY:return new D(J);default:throw new Error("Invalid CacheType")}}function B(K,M){var J;if(K===CacheType.CACHESTORAGE){J=CacheType.INDEXEDDB}else{if(K===CacheType.INDEXEDDB){J=CacheType.INMEMORY}else{throw new Error("Problem in fallback")}}var I=C(J,M);if(I===undefined){return B(J,M)}return I}var H=(function(I){this.get=function(J){return I.get(J)};this.put=function(J,K){return I.put(J,K)};this.init=function(){return I.initCache()};this.remove=function(J){return I.remove(J)};this.deleteCache=function(){return I.deleteCachePool()};this.getAllKeys=function(){return I.getAllKeys()};this.getCacheType=function(){return I.getCacheType()}});var G=(function(P){this.poolName=P;var O=this,N;this.get=function(R){return I(R).then(J)};this.put=function(R,S){return K(R,S)};this.initCache=function(){return Q()};this.remove=function(R){return deleteCache_CacheStorage(N,R)};this.deleteCachePool=function(){return deleteCachePool_CacheStorage(O.poolName)};this.getAllKeys=function(){return N.keys()};this.getCacheType=function(){return CacheType.CACHESTORAGE};function Q(){return caches.open(O.poolName).then(function(R){N=R},function(R){return R})}function I(R){return N.match(R)}function K(S,R){return N.put(S,new Response(R))}function J(R){return R!==undefined?R.text():undefined}function M(R){return R.map(function(S){var T=S.url;var U=T.lastIndexOf("/")+1;return T.substring(U)})}});var A=(function(R){this.storeName=R;var P=this,J=undefined;dbName="KEY_VALUE_STOREDB",read_write_tx_mode="readwrite";this.get=function(T){return M().then(function(){var U=O(false);return I(U.objectStore(P.storeName),T)})};this.put=function(T,U){return M().then(function(){var V=O(true);return K(V.objectStore(P.storeName),T,U)})};this.initCache=function(){return M().then(function(){J.close()})};this.remove=function(T){return M().then(function(){var U=O(true);var V=U.objectStore(P.storeName);return Q(V,T)})};this.deleteCachePool=function(T){return M().then(N)};this.getAllKeys=function(){return M().then(function(){var T=O(false);var V=T.objectStore(P.storeName);var U=V.getAllKeys();return S(U)})};this.getCacheType=function(){return CacheType.INDEXEDDB};function M(T){return new Promise(function(W,V){var U=(T)?indexedDB.open(dbName,T):indexedDB.open(dbName);U.onsuccess=function(Y){J=Y.target.result;if(!J.objectStoreNames.contains(R)){var X=J.version;J.close();M(++X).then(W)}else{W()}};U.onupgradeneeded=function(Y){var X=Y.target.result;X.createObjectStore(P.storeName)};U.onerror=function(X){V(X.error)}})}function I(V,T){var U=V.get(T);return S(U)}function K(W,T,V){var U=W.put(V,T);return S(U)}function O(U){var T=[P.storeName];return(U)?J.transaction(T,read_write_tx_mode):J.transaction(T)}function Q(U,T){var V=deleteObject_IndexedDB(U,T);return S(V)}function S(T){return new Promise(function(V,U){T.onsuccess=function(W){V(W.target.result);J.close()};T.onerror=function(W){U(W.error);J.close()}})}function N(){return new Promise(function(V,U){var T=J.version;console.log(T);J.close();var W=indexedDB.open(dbName,++T);W.onupgradeneeded=function(Y){var X=Y.target.result;X.deleteObjectStore(P.storeName);V("success")};W.onerror=function(X){U(X.error)};W.onblocked=function(X){console.log(X);U("blocked")}})}});var D=function(J){this.poolName=J,maxSize=20,currSize=0;var I=[],K={};this.get=function(M){return new Promise(function(Q,P){var N=K[M];if(N===undefined||N===null||N<0){Q(undefined);return }var O=I[N];if(O!==undefined){var S=O.val,R;if(typeof S==="array"){R=$.extend(true,[],S)}else{if(typeof S==="object"){R=$.extend(true,{},S)}else{R=S}}O.last_used_time=new Date().getTime();Q(R)}else{Q(undefined)}})};this.put=function(M,N){return new Promise(function(S,R){if(N===undefined||N===null){R()}var T={key:M,val:N,last_used_time:new Date().getTime()};if(currSize<maxSize){I.push(T);K[M]=currSize;++currSize}else{var P=I[0].last_used_time,O=0;for(var Q=1;Q<I.length;++Q){if(P>I[Q].last_used_time){P=I[Q].last_used_time;O=Q}}delete K[I[O].key];I[O]=T;K[M]=O}S(T.val)})};this.initCache=function(){return Promise.resolve()};this.remove=function(){return Promise.reject()};this.deleteCachePool=function(){I=[];K={}};this.getAllKeys=function(){return new Promise(function(O,N){var M=Object.keys(K);O(M)})};this.getCacheType=function(){return CacheType.INMEMORY}}});RequestInterceptors={ZC_PUBLIC:1,FORM_HASH:3};ResponseInterceptor={FORM_CACHE:2};InterceptorExecutor={execute:function(B){var C=[];for(var A=0;A<B.length;++A){C.push(B[A].execute())}return C}};InterceptorFactory={getInterceptor:function(D,C,B,A){switch(D){case RequestInterceptors.ZC_PUBLIC:return new ZCPublicSuffixInterceptor(C);case RequestInterceptors.FORM_HASH:return new FormHashInterceptor(C);case ResponseInterceptor.FORM_CACHE:return new FormCacheInterceptor(C,B,A)}}};function interceptAJAXRequest(B){var A=[];for(var C in RequestInterceptors){A.push(InterceptorFactory.getInterceptor(RequestInterceptors[C],B))}return Promise.all(InterceptorExecutor.execute(A))}function interceptAJAXResponse(D,B,A){var F=[];var C=Date.now();for(var E in ResponseInterceptor){F.push(InterceptorFactory.getInterceptor(ResponseInterceptor[E],D,B,A))}return Promise.all(InterceptorExecutor.execute(F))}var AJAXRequestInterceptor=function(A){this.options=A};AJAXRequestInterceptor.prototype.execute=function(){};var ZCPublicSuffixInterceptor=function(A){AJAXRequestInterceptor.call(this,A);this.execute=function(){var C=this.options.type;if(C.toUpperCase()=="POST"&&window.location.host===zcNewLivePublicDomain){var D=this.options.url;var B=D.indexOf("?");if(B>=0){this.options.url=D.substring(0,B)+"/zc_public"+D.substring(B)}else{if(D.endsWith("/")){this.options.url=D+"zc_public"}else{this.options.url=D+"/zc_public"}}}return Promise.resolve()}};ZCPublicSuffixInterceptor.prototype=Object.create(AJAXRequestInterceptor);var FormHashInterceptor=function(A){AJAXRequestInterceptor.call(this,A);this.execute=function(){if(A.data!=undefined&&FormAccessType.VIEW_EDIT_RECORD!=A.data.formAccessType){return Promise.resolve()}try{formCacheHelper}catch(C){if(C instanceof ReferenceError){return Promise.resolve()}}var B=this;if(!isFormAccessURL(B.options.url)||!formCacheHelper.isCacheAvailable()){return Promise.resolve()}return new Promise(function(F,E){var D=formCacheHelper.generateKey(B.options.url,B.options.data);formCacheHelper.getFormHash(D).then(function(G){if(G!==undefined){B.options.data=B.options.data||{};B.options.headers={formHash:G}}F()},function(){F()})})}};FormHashInterceptor.prototype=Object.create(AJAXRequestInterceptor);var AJAXResponseInterceptor=function(B,C,A){this.options=B;this.data=C;this.status=A};AJAXResponseInterceptor.prototype.execute=function(){};var FormCacheInterceptor=function(B,C,A){AJAXResponseInterceptor.call(this,B,C,A);this.execute=function(){if(B.data!=undefined&&FormAccessType.VIEW_EDIT_RECORD!=B.data.formAccessType){return Promise.resolve()}try{formCacheHelper}catch(E){if(E instanceof ReferenceError){return Promise.resolve()}}var D=this;if(!isFormAccessURL(D.options.url)||!formCacheHelper.isCacheAvailable()||A!=="success"){return Promise.resolve()}return new Promise(function(I,H){var G=D.options.url;if(!C.HTML&&!C.MODEL){var F=formCacheHelper.getFormCache(formCacheHelper.generateKey(D.options.url,D.options.data)).then(function(J){$.extend(true,D.data,J);I()},function(J){throw new Error(J)})}else{formCacheHelper.cacheForm(C,D.options.url,D.options.data);I()}})}};FormCacheInterceptor.prototype=Object.create(AJAXResponseInterceptor);var Upgrade=new function(){this.isNewStore=true;this.sharedByDisp="";this.proceedForPayment=function(){var A=$.upgradepopup.settings();var B=A.data;$.upgradepopup.loading(true);$.ajax({url:"/userhome/"+A.sharedby+"/updatePlanDetails",type:"POST",data:B,beforeSend:function(){this.url=this.url+"?"+$("#upgradepopupform").serialize()},success:function(D,C,E){if(D.status==="success"){$.upgradepopup.remove();if(A.success!==undefined){A.success(D)}}else{if(A.failure!==undefined){A.failure(D)}else{alert(D.error)}}}})};this.formatValue=function(B){var A=B.toFixed(2).toString().split("."),A=A[0].split("").reverse().join("").replace(/.{3,3}/g,"$&,").replace(/\,$/,"").split("").reverse().join("");return A};this.redirectUpgradePage=function(A,B){var C={};if(A!==undefined){C.subscriptionaccessfrom=A}showLoading();$.ajax({type:"GET",url:"/userhome/"+Upgrade.sharedByDisp+"/showPlan",data:C,success:function(E,D,F){hideLoading();if(B){window.open(E.storeurl,"_blank")}else{window.location.href=E.storeurl}}})};this.redirectToUpgradePage=function(D,A,C){var B={};if(A!==undefined){B.subscriptionaccessfrom=A}B.fromupgradepopup=true;$.ajax({type:"GET",beforeSend:function(){if(C){LIB._startLoading()}else{showLoading()}},url:"/userhome/"+D+"/showPlan",data:B,success:function(F,E,G){if(C){LIB._stopLoading()}else{hideLoading()}window.location.href=F.storeurl}})};this.recurringFailedPopup=function(B,A){var C=getCookie(B+"-recurringfailedprompt");if(!Dashboard.isNull(C)){return }else{setCookie(B+"-recurringfailedprompt","true",2)}$("body").freeze(function(D){var E='<div class="upgrade-container cred-alert"><div class="upgrade-header"><div class="content-heading">'+i18n["zc.onboarding.recurringfailedheader"]+'</div><div class="flRight appNameClose"><a id="upgradeClose" class="CrepopupClose" href="javascript:;"></a></div></div><div class="upgrade-content"><i class="credit-icon"></i><p>'+i18n["zc.onboarding.recurringfaileddesc1"]+"<p>"+i18n["zc.onboarding.recurringfaileddesc2"]+'</p></div><div class="upgrade-footer"><a class="upgrade-btn upgrade-primary-btn" zctlbl="reminder-popup-dashboard" href="javascript:void(0);" onclick="Upgrade.redirectUpgradePage(\'RECURRING_FAILED_POPUP\');">'+i18n["zc.onboarding.checksubscriptionbutton"]+"</a></div></div>";D.append(E);$(".upgrade-container").find("a#upgradeClose").click(function(F){$("body").unfreeze();F.preventDefault()});$(D).find(".upgrade-container").animate({top:0},1000)});Upgrade.upgradePopupTrackEvent("RECURRING_FAILED_POPUP",A)};this.upgradePopup=function(B){var A=getCookie(B+"-upgradeprompt");if(!Dashboard.isNull(A)){return }else{setCookie(B+"-upgradeprompt","true",15)}$("body").freeze(function(C){var D='<div class="upgrade-container"><div class="upgrade-header"><div class="content-heading pull-left">'+i18n["zc.onboarding.upgradeheading"]+'</div><div class="flRight appNameClose"><a id="upgradeClose" class="CrepopupClose" href="javascript:;"></a></div></div><div class="upgrade-content"><p>'+i18n["zc.onboarding.upgradedesc1"]+"<p>"+i18n["zc.onboarding.upgradedesc2"]+'</p></div><div class="upgrade-footer"><a class="btn primary-btn" zctlbl="reminder-popup-dashboard" href="javascript:void(0);" onclick="Upgrade.redirectUpgradePage(\'FREE_UPGRADE_POPUP\');">'+i18n["zc.onboarding.upgradebutton"]+"</a></div></div>";C.append(D);$(".upgrade-container").find("a#upgradeClose").click(function(E){$("body").unfreeze();E.preventDefault()});$(C).find(".upgrade-container").animate({top:0},1000)});Upgrade.upgradePopupTrackEvent("FREE_UPGRADE_POPUP","FLAT_DASHBOARD")};this.upgradePopupTrackEvent=function(C,A,B){}};$.upgradepopup={_p:"",create:function(B){var D=B.value;var A=B.type!==undefined?B.type:"addons";var C=function(){var F='<div class="upgradeMainDiv"><div class="upgradeloading">Loading...</div><div class="upgradeHeader"><h3 class="upgradepopup_title">Title</h3><span class="upgradepopup_close"></span> </div><div class="upgradeContent">Message</div></div>';return $(F)}();function E(){this.settings=B==undefined?{}:B;this.popup=null;this.freezer=null}E.prototype.open=function(){var G=this;var M=function(){if(G.settings.sharedby===undefined){$.error("Syntax Error :  Usage :- \n$.upgradepopup.create({\n\taction: addon name (TEXT),\n\tsharedby: sharedBy,\n\tdata: Ajax request extra params [csrf]\n});");return false}G.settings.data=G.settings.data===undefined?{}:G.settings.data;G.settings.upgradeType=G.settings.upgradeType===undefined?"addons":G.settings.upgradeType;G.settings.action=G.settings.action===undefined?"users":G.settings.action;G.settings.isEditMode=G.settings.isEditMode===undefined?false:true;G.settings.trackingpage=G.settings.action+"-"+G.settings.currentpage;G.settings.isTemplate=true;G.settings.isDashboard=G.settings.isDashboard===undefined?false:G.settings.isDashboard};var K=function(){G.settings.data.zcaction=G.settings.action;G.settings.data.type=A;G.settings.data[G.settings.secretKey]=G.settings.secretVal;$.ajax({url:"/userhome/"+G.settings.sharedby+"/upgradepopup",type:"POST",data:G.settings.data,success:function(P,O,R){if(P.result!==undefined){if(P.result==="success"){G.popup=$('<div class="zs_widget zc-dem-store-upgradepopup"></div>');G.settings.isTemplate=$(G.popup).find(".pricing_upgrade_outer_table").length===1;G.settings.successLabel=P.label;G.settings.title=P.title;G.settings.message=P.message;G.settings.previousCount=P.previousCount;G.settings.currentCount=P.currentCount;N();F(P);H(P.code)}else{if(P.result==="redirection"){if(isCreatorPlusAcc){window.open(P.storeurl,"_blank")}else{window.location.href=P.storeurl}}else{if(G.settings.template!==undefined&&P.result!=="skip"){G.settings.template()}}}}else{var Q=$(P).find("span[eleName=headertext]").text();$(C).find(".upgradeContent").html(P);$(C).find(".upgradeHeader h3").text(Q);G.popup=$(C);G.settings.isTemplate=$(G.popup).find(".pricing_upgrade_outer_table").length===1;if(G.settings.isTemplate&&G.settings.template!==undefined){G.settings.template()}else{if(G.settings.open!==undefined){G.settings.open()}N();I();if(G.settings.isTemplate){$(G.popup).css({"background-color":"#F0F0F0",top:"100"})}else{Upgrade.upgradePopupTrackEvent("Open",G.settings.trackingpage)}}$(G.popup).find(".upgradepopup_close").click(function(){if(!G.settings.isTemplate){Upgrade.upgradePopupTrackEvent("Close",G.settings.trackingpage)}$.upgradepopup.remove()})}}})};var F=function(P){var O={serviceId:901,customId:P.customid,secretKey:G.settings.secretKey,secretVal:G.settings.secretVal,itemList:[{code:P.code,action:"upgrade",type:G.settings.upgradeType}],settings:{upgradeTitle:G.settings.title,upgradeInfo:G.settings.message,successTitle:"License Upgraded Successfully",successActionLabel:G.settings.successLabel,successSecondaryAction:"disable"}};if(P.discountArr!=undefined&&P.discountArr.length>0){var Q={};Q.discounts=P.discountArr;Q.title="Special year-end offer";O.settings.applyPromotion=Q;O.settings.onFailure="closePopup"}zs_widget.init(O)};var H=function(O){zs_store=(function(){return{onSuccess:function(Q){var P=Q[O];var R=G.settings.previousCount+P;if(G.settings.action==="files"){var T=P*3*1024;var S=G.settings.previousCount/(1024*1024);R=T+S}var U={};U.status="success";U.maximumCount=R;U.currentCount=G.settings.currentCount;U.action=G.settings.action;G.settings.success(U);$.upgradepopup.remove()},onCancel:function(){$.upgradepopup.remove()}}}())};var N=function(){$(G.popup).show();G.freezer=$.upgradepopup.freeze(G.settings.isEditMode,G.settings.isDashboard).append(G.popup)};var I=function(){var P=(($(window).height())/2-($(G.popup).height())/2);var O=(($(window).width())/2-($(G.popup).width())/2);$(G.popup).css({top:P,left:O})};var J=function(){try{$.ajax({url:"/userhome/"+G.settings.sharedby+"/upCloseTracking",type:"POST",data:{currentPage:G.settings.trackingpage,zccpn:G.settings.data.zccpn},success:function(Q,P,R){}})}catch(O){}};M();K()};E.prototype.load=function(G){var F=this;if(G){$(F.popup).find(".upgradeloading").show()}else{$(F.popup).find(".upgradeloading").hide()}};E.prototype.close=function(){var F=this;if(F.settings.close!==undefined){F.settings.close()}$(F.popup).find(".upgradeloading").hide();$.upgradepopup.defreeze(F.freezer)};_p=new E();_p.open()},freeze:function(B,C){var A;if(C){A=$('<div class="upgradepopup_zcOverlay"><div class="upgradepopup_centerLay"></div></div>')}else{A=$('<div class="upgradepopup_zcOverlay"><div class="upgradepopup_leftLay"></div><div class="upgradepopup_topLay"></div><div class="upgradepopup_centerLay"></div><div>');if(!B){$(A).find(".upgradepopup_leftLay").css("background","rgba(255, 255, 255, 0.38)")}}$("body").append(A);$(A).fadeIn(400);return A},defreeze:function(A){$(A).fadeOut(400,function(){$(this).remove()})},remove:function(){if(_p!=undefined){_p.close()}},loading:function(A){if(_p!=undefined){_p.load(A)}},settings:function(){if(_p!=undefined){return _p.settings}}};$.upgrade={create:function(A){var B={};B.zcFeatureName=A.zcFeatureName;B.featureType=A.featureType;B.zccpn=A.zccpn;$.ajax({url:"/userhome/"+A.sharedBy+"/upgradepopup",type:"POST",beforeSend:showLoading(),data:B,success:function(D,C,E){hideLoading();if(D!=undefined){iCustomizePopup({body:D,containerClass:"zc-dem-upgrade-plan",parentClass:"zc-dem-upgrade-popup-container"});if(!A.isDashboard){$(".zc-dem-upgrade-popup-wrapper").zcScrollPane({autoReinit:true})}if(A.successCallBk!=undefined){A.successCallBk()}}}})}};function zcScrollPane(AG){var g={showBar:false,autoReinit:false,reinitInterval:500,vGutter:0,hGutter:0,domReinit:false,VerticalBarWidth:6,HorizontalBarHeight:6,scrollPosition:"right",reinitCallback:function(){}};$.extend(g,AG);var D=g.target;var AI=D.css("overflow");if(g.height){D.css({height:g.height})}if(g.width){D.css({width:g.width})}var AO=function(c){return true};if(!AO(g)){var AP=window.console;if(AP){AP.warn("Improper scroll pane configuration for the element --> ");AP.warn(D)}return true}var f;var v;var a;var AA;var e;var E;var S;var b;var w;var q;var AC;var k;var T;var m;var Q;var C;var AK;var P;var J;var AD=0;var AB=0;var F;var A;var l;var u;var y=false;var O;var AJ;var W;var x;var N;var I;var h;var Z=1000;var AQ;var Y;var H;var M;var K=function(c,AR){c.addClass(AR)};var B=function(c,AR){c.append(AR)};var s=function(c,AR,AS){c.css({width:AR,height:AS})};var X=function(c,AR){c.css({left:AR})};var d=function(AR,c){AR.css({top:c})};var AN=function(c,AR){c.css({overflow:AR})};var r=$(".scrollBarWidthCalculateContainer");if(!r.length){r=$("<div>").css({visibility:"hidden"}).prependTo("body");r.addClass("scrollBarWidthCalculateContainer");outer=$("<div>").appendTo(r);widthWithScroll=$("<div>").appendTo(outer)}var n=function(){$(r).show();outer.css({position:"absolute",width:100,overflow:"scroll"});var c=widthWithScroll.css({width:"100%"}).outerWidth();$(r).hide();return 100-c};AN(D,"hidden");var G=function(){AC=g.VerticalBarWidth;k=g.HorizontalBarHeight;l=g.vGutter;u=g.hGutter;T=20;PADDING=20;m=null;Q=null;q=Date.now();f=document.createElement("div");f.id="mainDiv_"+q;f=$(f);K(f,"ZCScrollMain");(g.autoReinit)?$(f).attr("scrollpane","auto"):$(f).attr("scrollpane","manual");v=document.createElement("div");v=$(v);K(v,"ZCScrollable");a=document.createElement("div");a=$(a);K(a,"ZCScrollableWrapper");s(f,D.width(),D.height());s(v,D.width(),D.height());s(a,D.width(),D.height());B(a,D.children());D.children().detach();B(D,f);B(f,v);B(v,a);P=false;J=false;AH(true)};var AH=function(AS){var AT=P;var AV=J;if(!AS){s(f,D.width(),D.height());s(v,D.width(),D.height());s(a,D.width(),D.height())}h=D.width();I=D.height();b=a[0].scrollHeight;w=a[0].scrollWidth;O=Math.ceil(n());AJ=b;W=w;var AR=3;var c=3;var AU=false;if(D.height()<b){if(AS||AA==undefined){z()}F=Math.ceil(n());if(F){v.css({width:v.width()+F})}else{F=0;v.css({width:v.width()+15});w=v[0].scrollWidth-15}P=false}else{P=true;if(AA!=undefined){AA.remove();AA=undefined}}if(D.width()<w){if(e==undefined){AE()}A=Math.ceil(n());if(A){v.css({height:v.height()+A})}else{A=0;v.css({height:v.height()+15});b=v[0].scrollHeight-15}J=false}else{J=true;if(e!=undefined){e.remove();e=undefined}}if(P&&J){v.css({overflow:""})}if(!P){if(J){s(AA,AC,f.outerHeight())}else{s(AA,AC,f.outerHeight()-k-2*c)}if(g.scrollPosition=="right"){X(AA,f.outerWidth()-AA.outerWidth()-l)}AQ=f.outerHeight();Y=AA.outerHeight()*AQ/b;s(E,AC,Y);v.scrollTop(AD);if((AS&&!P)||(!AS&&AT!=P&&!P)){U();AU=true}}if(!J){if(P){s(e,f.outerWidth(),k)}else{s(e,f.outerWidth()-AC-2*AR,k)}d(e,f.outerHeight()-e.outerHeight()-u);H=f.outerWidth();M=e.outerWidth()*H/w;s(S,M,k);v.scrollLeft(AB);if((AS&&!J)||(!AS&&AV!=J&&!J)){V();AU=true}}if(AU){AM()}};var z=function(){AA=document.createElement("div");E=document.createElement("div");AA=$(AA);E=$(E);K(AA,"ZCVerticalBar");K(E,"ZCVerticalScrollBar");B(f,AA);B(AA,E)};var AE=function(){e=document.createElement("div");S=document.createElement("div");e=$(e);S=$(S);K(e,"ZCHorizontalBar");K(S,"ZCHorizontalScrollBar");B(f,e);B(e,S)};var U=function(){if(!P){if(g.showBar){AA.addClass("ZCVerticalBarBgColor");E.addClass("ZCVerticalScrollBarBgColor")}AA.on("click",function(AR){if(!g.showBar){AA.removeClass("ZCVerticalBarBgTransparent");AA.addClass("ZCVerticalBarBgColor")}var AS=AR.pageY-AA.offset().top;var c=E.position().top;if(AS<c){v.scrollTop(v.scrollTop()-T)}else{v.scrollTop(v.scrollTop()+T)}});E.click(function(c){c.stopPropagation()});if(!g.showBar){AA.on("mouseenter",function(){AA.removeClass("ZCVerticalBarBgTransparent");AA.addClass("ZCVerticalBarBgColor");E.removeClass("ZCVerticalScrollBarBgTransparent");E.addClass("ZCVerticalScrollBarBgColor")});AA.on("mouseleave",function(){AA.removeClass("ZCVerticalBarBgColor");AA.addClass("ZCVerticalBarBgTransparent");E.removeClass("ZCVerticalScrollBarBgColor");E.addClass("ZCVerticalScrollBarBgTransparent")})}E.on("mousedown",function(c){if(!g.showBar){AA.removeClass("ZCVerticalBarBgTransparent");AA.addClass("ZCVerticalBarBgColor");E.removeClass("ZCVerticalScrollBarBgTransparent");E.addClass("ZCVerticalScrollBarBgColor")}v.addClass("ZCNoSelect");m=$(this);C=null;$(window).on("mouseup.zcmouseup"+q,function(AR){if(!g.showBar){AA.removeClass("ZCVerticalBarBgColor");AA.addClass("ZCVerticalBarBgTransparent");E.removeClass("ZCVerticalScrollBarBgColor");E.addClass("ZCVerticalScrollBarBgTransparent")}m=null;Q=null;v.removeClass("ZCNoSelect");$(window).off("mouseup.zcmouseup"+q)})})}};var V=function(){if(!J){if(g.showBar){e.addClass("ZCHorizontalBarBgColor");S.addClass("ZCHorizontalScrollBarBgColor")}e.on("click",function(AS){if(!g.showBar){e.removeClass("ZCHorizontalBarBgTransparent");e.addClass("ZCHorizontalBarBgColor")}var AR=AS.pageX-e.offset().left;var c=S.position().left;if(AR<c){v.scrollLeft(v.scrollLeft()-T)}else{v.scrollLeft(v.scrollLeft()+T)}});if(!g.showBar){e.on("mouseenter",function(){e.removeClass("ZCHorizontalBarBgTransparent");e.addClass("ZCHorizontalBarBgColor");S.removeClass("ZCHorizontalScrollBarBgTransparent");S.addClass("ZCHorizontalScrollBarBgColor")});e.on("mouseleave",function(){e.removeClass("ZCHorizontalBarBgColor");e.addClass("ZCHorizontalBarBgTransparent");S.removeClass("ZCHorizontalScrollBarBgColor");S.addClass("ZCHorizontalScrollBarBgTransparent")})}S.click(function(c){c.stopPropagation()});S.on("mousedown",function(c){if(!g.showBar){e.removeClass("ZCHorizontalBarBgTransparent");e.addClass("ZCHorizontalBarBgColor");S.removeClass("ZCHorizontalScrollBarBgTransparent");S.addClass("ZCHorizontalScrollBarBgColor")}v.addClass("ZCNoSelect");Q=$(this);AK=null;$(window).on("mouseup.zcmouseup"+q,function(AR){if(!g.showBar){e.removeClass("ZCHorizontalBarBgColor");e.addClass("ZCHorizontalBarBgTransparent");S.removeClass("ZCHorizontalScrollBarBgColor");S.addClass("ZCHorizontalScrollBarBgTransparent")}m=null;Q=null;v.removeClass("ZCNoSelect");$(window).off("mouseup.zcmouseup"+q)})})}};var AM=function(){var AR=null;var c=v.scrollTop();var AS=v.scrollLeft();v.on("scroll",function(){if(AR){clearTimeout(AR)}if(!(P)){if(!g.showBar){if(c<v.scrollTop()||c>v.scrollTop()){E.removeClass("ZCVerticalScrollBarBgTransparent");E.addClass("ZCVerticalScrollBarBgColor")}}d(E,v.scrollTop()/AQ*Y)}if(!(J)){if(!g.showBar){if(AS<v.scrollLeft()||AS>v.scrollLeft()){S.removeClass("ZCHorizontalScrollBarBgTransparent");S.addClass("ZCHorizontalScrollBarBgColor")}}X(S,v.scrollLeft()/H*M)}c=v.scrollTop();AS=v.scrollLeft();AR=setTimeout(function(){if(!(P)){if(!g.showBar){if(AA.hasClass("ZCVerticalBarBgColor")){AA.removeClass("ZCVerticalBarBgColor");AA.addClass("ZCVerticalBarBgTransparent");E.removeClass("ZCVerticalScrollBarBgColor");E.addClass("ZCVerticalScrollBarBgTransparent")}else{E.removeClass("ZCVerticalScrollBarBgColor");E.addClass("ZCVerticalScrollBarBgTransparent")}}}if(!(J)){if(!g.showBar){if(e.hasClass("ZCHorizontalBarBgColor")){e.removeClass("ZCHorizontalBarBgColor");e.addClass("ZCHorizontalBarBgTransparent");S.removeClass("ZCHorizontalScrollBarBgColor");S.addClass("ZCHorizontalScrollBarBgTransparent")}else{S.removeClass("ZCHorizontalScrollBarBgColor");S.addClass("ZCHorizontalScrollBarBackgroundTransparent")}}}},Z)});$(window).on("mousemove.clk",function(AW){if(m){if(!g.showBar){AA.removeClass("ZCVerticalBarBgTransparent");AA.addClass("ZCVerticalBarBgColor");E.removeClass("ZCVerticalScrollBarBgTransparent");E.addClass("ZCVerticalScrollBarBgColor")}var AT=AA.offset().top;var Aa=Math.ceil(AA.offset().top+AA.outerHeight()-E.outerHeight());if(C){if(C<AW.pageY){if(Math.ceil(m.offset().top+(AW.pageY-C))<=Aa){m.offset({top:m.offset().top+(AW.pageY-C)});var AU=m.position().top;var AV=AA.outerHeight();v.scrollTop(b*AU/AV)}}else{if(Math.ceil(m.offset().top+(AW.pageY-C))>=AT){m.offset({top:m.offset().top+(AW.pageY-C)});var AU=m.position().top;var AV=AA.outerHeight();v.scrollTop(b*AU/AV)}}}C=AW.pageY}if(Q){if(!g.showBar){e.removeClass("ZCHorizontalBarBgTransparent");e.addClass("ZCHorizontalBarBgColor");S.removeClass("ZCHorizontalScrollBarBgTransparent");S.addClass("ZCHorizontalScrollBarBgColor")}var AY=e.offset().left;var AX=Math.ceil(e.offset().left+e.outerWidth()-S.outerWidth());if(AK){if(AK<AW.pageX){if(Math.ceil(Q.offset().left+(AW.pageX-AK))<=AX){Q.offset({left:Q.offset().left+(AW.pageX-AK)});var Ab=Q.position().left;var AZ=e.outerWidth();v.scrollLeft(w*Ab/AZ)}}else{if(Math.ceil(Q.offset().left+(AW.pageX-AK))>=AY){Q.offset({left:Q.offset().left+(AW.pageX-AK)});var Ab=Q.position().left;var AZ=e.outerWidth();v.scrollLeft(w*Ab/AZ)}}}AK=AW.pageX}})};G();$(window).on("resize.removescroll"+q,function(c){t();if(g.domReinit){$(window).off("resize.removescroll"+q)}});var t=function(){AD=v.scrollTop();AB=v.scrollLeft();if(g.domReinit){B(D,a.children());a.children().detach();f.remove();G()}else{AH(false)}g.reinitCallback()};var R=null;var AL=function(){R=setTimeout(function(){if(!y){var c=a[0].scrollWidth;var AT=a[0].scrollHeight;var AS=D.width();var AR=D.height();if(I!=AR||h!=AS){t()}if(AJ!=AT||W!=c){t()}}AL()},g.reinitInterval)};var p=null;function o(){p=setTimeout(function(){if(!y){if(Math.ceil(n())!=O){t()}o()}},500)}var AF=navigator.platform!=undefined&&navigator.platform.toUpperCase().indexOf("MAC")>=0;if(AF){o()}if(g.autoReinit){AL()}return{scrollToPosition:function(c,AS,AR){AR=(AR!=undefined)?AR:800;if(AS){v.animate({scrollLeft:c},AR)}else{v.animate({scrollTop:c},AR)}},reinit:t,destroy:function(){B(D,a.children());a.children().detach();f.remove();y=true;AN(D,AI);$(window).off("resize.removescroll"+q);$(D).removeData("zcsp")},scrollDiv:function(){return v},scrollWrapperDiv:function(){return a}}}$.fn.zcScrollPane=function(C){var B=C;if(B==undefined){B={}}var A=function(F,H){var G=$(F).data("zcsp");if(G!=undefined){return G}else{H.target=F;var E=zcScrollPane(H);$(F).data("zcsp",E);B.success&&B.success();return E}};if($(this).length==1){return A(this,B)}else{var D=[];$.each($(this),function(F,E){var G=A(E,$.extend({},B));D.push(G)});return D}};$.fn.zcScrollpane=function(A){return $(this).zcScrollPane(A)};